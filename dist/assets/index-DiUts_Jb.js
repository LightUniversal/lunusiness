function XT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ly(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function GA(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var YT={exports:{}},Vh={},JT={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cu=Symbol.for("react.element"),QA=Symbol.for("react.portal"),XA=Symbol.for("react.fragment"),YA=Symbol.for("react.strict_mode"),JA=Symbol.for("react.profiler"),ZA=Symbol.for("react.provider"),ek=Symbol.for("react.context"),tk=Symbol.for("react.forward_ref"),nk=Symbol.for("react.suspense"),rk=Symbol.for("react.memo"),ik=Symbol.for("react.lazy"),f_=Symbol.iterator;function sk(t){return t===null||typeof t!="object"?null:(t=f_&&t[f_]||t["@@iterator"],typeof t=="function"?t:null)}var ZT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eS=Object.assign,tS={};function Pa(t,e,n){this.props=t,this.context=e,this.refs=tS,this.updater=n||ZT}Pa.prototype.isReactComponent={};Pa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nS(){}nS.prototype=Pa.prototype;function uy(t,e,n){this.props=t,this.context=e,this.refs=tS,this.updater=n||ZT}var cy=uy.prototype=new nS;cy.constructor=uy;eS(cy,Pa.prototype);cy.isPureReactComponent=!0;var p_=Array.isArray,rS=Object.prototype.hasOwnProperty,dy={current:null},iS={key:!0,ref:!0,__self:!0,__source:!0};function sS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)rS.call(e,r)&&!iS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Cu,type:t,key:s,ref:o,props:i,_owner:dy.current}}function ok(t,e){return{$$typeof:Cu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cu}function ak(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var m_=/\/+/g;function Yf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ak(""+t.key):e.toString(36)}function Qc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Cu:case QA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Yf(o,0):r,p_(i)?(n="",t!=null&&(n=t.replace(m_,"$&/")+"/"),Qc(i,e,n,"",function(c){return c})):i!=null&&(hy(i)&&(i=ok(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(m_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",p_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Yf(s,a);o+=Qc(s,e,n,l,i)}else if(l=sk(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Yf(s,a++),o+=Qc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function vc(t,e,n){if(t==null)return t;var r=[],i=0;return Qc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function lk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ln={current:null},Xc={transition:null},uk={ReactCurrentDispatcher:ln,ReactCurrentBatchConfig:Xc,ReactCurrentOwner:dy};function oS(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:vc,forEach:function(t,e,n){vc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return vc(t,function(){e++}),e},toArray:function(t){return vc(t,function(e){return e})||[]},only:function(t){if(!hy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=Pa;Pe.Fragment=XA;Pe.Profiler=JA;Pe.PureComponent=uy;Pe.StrictMode=YA;Pe.Suspense=nk;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uk;Pe.act=oS;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=eS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=dy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)rS.call(e,l)&&!iS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Cu,type:t.type,key:i,ref:s,props:r,_owner:o}};Pe.createContext=function(t){return t={$$typeof:ek,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ZA,_context:t},t.Consumer=t};Pe.createElement=sS;Pe.createFactory=function(t){var e=sS.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:tk,render:t}};Pe.isValidElement=hy;Pe.lazy=function(t){return{$$typeof:ik,_payload:{_status:-1,_result:t},_init:lk}};Pe.memo=function(t,e){return{$$typeof:rk,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=Xc.transition;Xc.transition={};try{t()}finally{Xc.transition=e}};Pe.unstable_act=oS;Pe.useCallback=function(t,e){return ln.current.useCallback(t,e)};Pe.useContext=function(t){return ln.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return ln.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return ln.current.useEffect(t,e)};Pe.useId=function(){return ln.current.useId()};Pe.useImperativeHandle=function(t,e,n){return ln.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return ln.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return ln.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return ln.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return ln.current.useReducer(t,e,n)};Pe.useRef=function(t){return ln.current.useRef(t)};Pe.useState=function(t){return ln.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return ln.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return ln.current.useTransition()};Pe.version="18.3.1";JT.exports=Pe;var L=JT.exports;const be=ly(L),ck=XT({__proto__:null,default:be},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dk=L,hk=Symbol.for("react.element"),fk=Symbol.for("react.fragment"),pk=Object.prototype.hasOwnProperty,mk=dk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gk={key:!0,ref:!0,__self:!0,__source:!0};function aS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)pk.call(e,r)&&!gk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:hk,type:t,key:s,ref:o,props:i,_owner:mk.current}}Vh.Fragment=fk;Vh.jsx=aS;Vh.jsxs=aS;YT.exports=Vh;var x=YT.exports,cm={},lS={exports:{}},Dn={},uS={exports:{}},cS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,Q){var ie=H.length;H.push(Q);e:for(;0<ie;){var de=ie-1>>>1,he=H[de];if(0<i(he,Q))H[de]=Q,H[ie]=he,ie=de;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var Q=H[0],ie=H.pop();if(ie!==Q){H[0]=ie;e:for(var de=0,he=H.length,fe=he>>>1;de<fe;){var De=2*(de+1)-1,Ce=H[De],Ke=De+1,vt=H[Ke];if(0>i(Ce,ie))Ke<he&&0>i(vt,Ce)?(H[de]=vt,H[Ke]=ie,de=Ke):(H[de]=Ce,H[De]=ie,de=De);else if(Ke<he&&0>i(vt,ie))H[de]=vt,H[Ke]=ie,de=Ke;else break e}}return Q}function i(H,Q){var ie=H.sortIndex-Q.sortIndex;return ie!==0?ie:H.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,y=!1,T=!1,S=!1,I=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(H){for(var Q=n(c);Q!==null;){if(Q.callback===null)r(c);else if(Q.startTime<=H)r(c),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=n(c)}}function A(H){if(S=!1,_(H),!T)if(n(l)!==null)T=!0,Ne(M);else{var Q=n(c);Q!==null&&re(A,Q.startTime-H)}}function M(H,Q){T=!1,S&&(S=!1,w(v),v=-1),y=!0;var ie=f;try{for(_(Q),h=n(l);h!==null&&(!(h.expirationTime>Q)||H&&!O());){var de=h.callback;if(typeof de=="function"){h.callback=null,f=h.priorityLevel;var he=de(h.expirationTime<=Q);Q=t.unstable_now(),typeof he=="function"?h.callback=he:h===n(l)&&r(l),_(Q)}else r(l);h=n(l)}if(h!==null)var fe=!0;else{var De=n(c);De!==null&&re(A,De.startTime-Q),fe=!1}return fe}finally{h=null,f=ie,y=!1}}var k=!1,R=null,v=-1,E=5,P=-1;function O(){return!(t.unstable_now()-P<E)}function N(){if(R!==null){var H=t.unstable_now();P=H;var Q=!0;try{Q=R(!0,H)}finally{Q?C():(k=!1,R=null)}}else k=!1}var C;if(typeof g=="function")C=function(){g(N)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Ve=q.port2;q.port1.onmessage=N,C=function(){Ve.postMessage(null)}}else C=function(){I(N,0)};function Ne(H){R=H,k||(k=!0,C())}function re(H,Q){v=I(function(){H(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){T||y||(T=!0,Ne(M))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(f){case 1:case 2:case 3:var Q=3;break;default:Q=f}var ie=f;f=Q;try{return H()}finally{f=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,Q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ie=f;f=H;try{return Q()}finally{f=ie}},t.unstable_scheduleCallback=function(H,Q,ie){var de=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?de+ie:de):ie=de,H){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=ie+he,H={id:d++,callback:Q,priorityLevel:H,startTime:ie,expirationTime:he,sortIndex:-1},ie>de?(H.sortIndex=ie,e(c,H),n(l)===null&&H===n(c)&&(S?(w(v),v=-1):S=!0,re(A,ie-de))):(H.sortIndex=he,e(l,H),T||y||(T=!0,Ne(M))),H},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(H){var Q=f;return function(){var ie=f;f=Q;try{return H.apply(this,arguments)}finally{f=ie}}}})(cS);uS.exports=cS;var yk=uS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vk=L,On=yk;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dS=new Set,Kl={};function Zs(t,e){ta(t,e),ta(t+"Capture",e)}function ta(t,e){for(Kl[t]=e,t=0;t<e.length;t++)dS.add(e[t])}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dm=Object.prototype.hasOwnProperty,_k=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g_={},y_={};function wk(t){return dm.call(y_,t)?!0:dm.call(g_,t)?!1:_k.test(t)?y_[t]=!0:(g_[t]=!0,!1)}function Ek(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Tk(t,e,n,r){if(e===null||typeof e>"u"||Ek(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function un(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ft[t]=new un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ft[e]=new un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ft[t]=new un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ft[t]=new un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ft[t]=new un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ft[t]=new un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ft[t]=new un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ft[t]=new un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ft[t]=new un(t,5,!1,t.toLowerCase(),null,!1,!1)});var fy=/[\-:]([a-z])/g;function py(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fy,py);Ft[e]=new un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fy,py);Ft[e]=new un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fy,py);Ft[e]=new un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ft[t]=new un(t,1,!1,t.toLowerCase(),null,!1,!1)});Ft.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ft[t]=new un(t,1,!1,t.toLowerCase(),null,!0,!0)});function my(t,e,n,r){var i=Ft.hasOwnProperty(e)?Ft[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Tk(e,n,i,r)&&(n=null),r||i===null?wk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ui=vk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_c=Symbol.for("react.element"),xo=Symbol.for("react.portal"),Io=Symbol.for("react.fragment"),gy=Symbol.for("react.strict_mode"),hm=Symbol.for("react.profiler"),hS=Symbol.for("react.provider"),fS=Symbol.for("react.context"),yy=Symbol.for("react.forward_ref"),fm=Symbol.for("react.suspense"),pm=Symbol.for("react.suspense_list"),vy=Symbol.for("react.memo"),Si=Symbol.for("react.lazy"),pS=Symbol.for("react.offscreen"),v_=Symbol.iterator;function nl(t){return t===null||typeof t!="object"?null:(t=v_&&t[v_]||t["@@iterator"],typeof t=="function"?t:null)}var ut=Object.assign,Jf;function ml(t){if(Jf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Jf=e&&e[1]||""}return`
`+Jf+t}var Zf=!1;function ep(t,e){if(!t||Zf)return"";Zf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Zf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ml(t):""}function Sk(t){switch(t.tag){case 5:return ml(t.type);case 16:return ml("Lazy");case 13:return ml("Suspense");case 19:return ml("SuspenseList");case 0:case 2:case 15:return t=ep(t.type,!1),t;case 11:return t=ep(t.type.render,!1),t;case 1:return t=ep(t.type,!0),t;default:return""}}function mm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Io:return"Fragment";case xo:return"Portal";case hm:return"Profiler";case gy:return"StrictMode";case fm:return"Suspense";case pm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case fS:return(t.displayName||"Context")+".Consumer";case hS:return(t._context.displayName||"Context")+".Provider";case yy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vy:return e=t.displayName||null,e!==null?e:mm(t.type)||"Memo";case Si:e=t._payload,t=t._init;try{return mm(t(e))}catch{}}return null}function Pk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mm(e);case 8:return e===gy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xk(t){var e=mS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wc(t){t._valueTracker||(t._valueTracker=xk(t))}function gS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=mS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Pd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function gm(t,e){var n=e.checked;return ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function __(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yS(t,e){e=e.checked,e!=null&&my(t,"checked",e,!1)}function ym(t,e){yS(t,e);var n=Qi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vm(t,e.type,n):e.hasOwnProperty("defaultValue")&&vm(t,e.type,Qi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function w_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function vm(t,e,n){(e!=="number"||Pd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gl=Array.isArray;function $o(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _m(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function E_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(gl(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qi(n)}}function vS(t,e){var n=Qi(e.value),r=Qi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function T_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _S(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_S(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ec,wS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ec=Ec||document.createElement("div"),Ec.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ec.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Gl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Rl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ik=["Webkit","ms","Moz","O"];Object.keys(Rl).forEach(function(t){Ik.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Rl[e]=Rl[t]})});function ES(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Rl.hasOwnProperty(t)&&Rl[t]?(""+e).trim():e+"px"}function TS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ES(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var bk=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Em(t,e){if(e){if(bk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Tm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sm=null;function _y(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pm=null,Ho=null,Wo=null;function S_(t){if(t=Ou(t)){if(typeof Pm!="function")throw Error(W(280));var e=t.stateNode;e&&(e=zh(e),Pm(t.stateNode,t.type,e))}}function SS(t){Ho?Wo?Wo.push(t):Wo=[t]:Ho=t}function PS(){if(Ho){var t=Ho,e=Wo;if(Wo=Ho=null,S_(t),e)for(t=0;t<e.length;t++)S_(e[t])}}function xS(t,e){return t(e)}function IS(){}var tp=!1;function bS(t,e,n){if(tp)return t(e,n);tp=!0;try{return xS(t,e,n)}finally{tp=!1,(Ho!==null||Wo!==null)&&(IS(),PS())}}function Ql(t,e){var n=t.stateNode;if(n===null)return null;var r=zh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var xm=!1;if(ti)try{var rl={};Object.defineProperty(rl,"passive",{get:function(){xm=!0}}),window.addEventListener("test",rl,rl),window.removeEventListener("test",rl,rl)}catch{xm=!1}function Rk(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Cl=!1,xd=null,Id=!1,Im=null,Ck={onError:function(t){Cl=!0,xd=t}};function Ak(t,e,n,r,i,s,o,a,l){Cl=!1,xd=null,Rk.apply(Ck,arguments)}function kk(t,e,n,r,i,s,o,a,l){if(Ak.apply(this,arguments),Cl){if(Cl){var c=xd;Cl=!1,xd=null}else throw Error(W(198));Id||(Id=!0,Im=c)}}function eo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function RS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function P_(t){if(eo(t)!==t)throw Error(W(188))}function Ok(t){var e=t.alternate;if(!e){if(e=eo(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return P_(i),t;if(s===r)return P_(i),e;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function CS(t){return t=Ok(t),t!==null?AS(t):null}function AS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=AS(t);if(e!==null)return e;t=t.sibling}return null}var kS=On.unstable_scheduleCallback,x_=On.unstable_cancelCallback,Nk=On.unstable_shouldYield,Dk=On.unstable_requestPaint,yt=On.unstable_now,Lk=On.unstable_getCurrentPriorityLevel,wy=On.unstable_ImmediatePriority,OS=On.unstable_UserBlockingPriority,bd=On.unstable_NormalPriority,Mk=On.unstable_LowPriority,NS=On.unstable_IdlePriority,jh=null,vr=null;function Vk(t){if(vr&&typeof vr.onCommitFiberRoot=="function")try{vr.onCommitFiberRoot(jh,t,void 0,(t.current.flags&128)===128)}catch{}}var rr=Math.clz32?Math.clz32:Uk,jk=Math.log,Fk=Math.LN2;function Uk(t){return t>>>=0,t===0?32:31-(jk(t)/Fk|0)|0}var Tc=64,Sc=4194304;function yl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Rd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=yl(a):(s&=o,s!==0&&(r=yl(s)))}else o=n&~i,o!==0?r=yl(o):s!==0&&(r=yl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-rr(e),i=1<<n,r|=t[n],e&=~i;return r}function Bk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-rr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Bk(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function bm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function DS(){var t=Tc;return Tc<<=1,!(Tc&4194240)&&(Tc=64),t}function np(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Au(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-rr(e),t[e]=n}function $k(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-rr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Ey(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-rr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ue=0;function LS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var MS,Ty,VS,jS,FS,Rm=!1,Pc=[],ji=null,Fi=null,Ui=null,Xl=new Map,Yl=new Map,Ii=[],Hk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function I_(t,e){switch(t){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":Fi=null;break;case"mouseover":case"mouseout":Ui=null;break;case"pointerover":case"pointerout":Xl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(e.pointerId)}}function il(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ou(e),e!==null&&Ty(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Wk(t,e,n,r,i){switch(e){case"focusin":return ji=il(ji,t,e,n,r,i),!0;case"dragenter":return Fi=il(Fi,t,e,n,r,i),!0;case"mouseover":return Ui=il(Ui,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Xl.set(s,il(Xl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Yl.set(s,il(Yl.get(s)||null,t,e,n,r,i)),!0}return!1}function US(t){var e=Rs(t.target);if(e!==null){var n=eo(e);if(n!==null){if(e=n.tag,e===13){if(e=RS(n),e!==null){t.blockedOn=e,FS(t.priority,function(){VS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Sm=r,n.target.dispatchEvent(r),Sm=null}else return e=Ou(n),e!==null&&Ty(e),t.blockedOn=n,!1;e.shift()}return!0}function b_(t,e,n){Yc(t)&&n.delete(e)}function qk(){Rm=!1,ji!==null&&Yc(ji)&&(ji=null),Fi!==null&&Yc(Fi)&&(Fi=null),Ui!==null&&Yc(Ui)&&(Ui=null),Xl.forEach(b_),Yl.forEach(b_)}function sl(t,e){t.blockedOn===e&&(t.blockedOn=null,Rm||(Rm=!0,On.unstable_scheduleCallback(On.unstable_NormalPriority,qk)))}function Jl(t){function e(i){return sl(i,t)}if(0<Pc.length){sl(Pc[0],t);for(var n=1;n<Pc.length;n++){var r=Pc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ji!==null&&sl(ji,t),Fi!==null&&sl(Fi,t),Ui!==null&&sl(Ui,t),Xl.forEach(e),Yl.forEach(e),n=0;n<Ii.length;n++)r=Ii[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ii.length&&(n=Ii[0],n.blockedOn===null);)US(n),n.blockedOn===null&&Ii.shift()}var qo=ui.ReactCurrentBatchConfig,Cd=!0;function Kk(t,e,n,r){var i=Ue,s=qo.transition;qo.transition=null;try{Ue=1,Sy(t,e,n,r)}finally{Ue=i,qo.transition=s}}function Gk(t,e,n,r){var i=Ue,s=qo.transition;qo.transition=null;try{Ue=4,Sy(t,e,n,r)}finally{Ue=i,qo.transition=s}}function Sy(t,e,n,r){if(Cd){var i=Cm(t,e,n,r);if(i===null)hp(t,e,r,Ad,n),I_(t,r);else if(Wk(i,t,e,n,r))r.stopPropagation();else if(I_(t,r),e&4&&-1<Hk.indexOf(t)){for(;i!==null;){var s=Ou(i);if(s!==null&&MS(s),s=Cm(t,e,n,r),s===null&&hp(t,e,r,Ad,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else hp(t,e,r,null,n)}}var Ad=null;function Cm(t,e,n,r){if(Ad=null,t=_y(r),t=Rs(t),t!==null)if(e=eo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=RS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ad=t,null}function BS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lk()){case wy:return 1;case OS:return 4;case bd:case Mk:return 16;case NS:return 536870912;default:return 16}default:return 16}}var Ni=null,Py=null,Jc=null;function zS(){if(Jc)return Jc;var t,e=Py,n=e.length,r,i="value"in Ni?Ni.value:Ni.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Jc=i.slice(t,1<r?1-r:void 0)}function Zc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xc(){return!0}function R_(){return!1}function Ln(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?xc:R_,this.isPropagationStopped=R_,this}return ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xc)},persist:function(){},isPersistent:xc}),e}var xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xy=Ln(xa),ku=ut({},xa,{view:0,detail:0}),Qk=Ln(ku),rp,ip,ol,Fh=ut({},ku,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Iy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ol&&(ol&&t.type==="mousemove"?(rp=t.screenX-ol.screenX,ip=t.screenY-ol.screenY):ip=rp=0,ol=t),rp)},movementY:function(t){return"movementY"in t?t.movementY:ip}}),C_=Ln(Fh),Xk=ut({},Fh,{dataTransfer:0}),Yk=Ln(Xk),Jk=ut({},ku,{relatedTarget:0}),sp=Ln(Jk),Zk=ut({},xa,{animationName:0,elapsedTime:0,pseudoElement:0}),e2=Ln(Zk),t2=ut({},xa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),n2=Ln(t2),r2=ut({},xa,{data:0}),A_=Ln(r2),i2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=o2[t])?!!e[t]:!1}function Iy(){return a2}var l2=ut({},ku,{key:function(t){if(t.key){var e=i2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?s2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Iy,charCode:function(t){return t.type==="keypress"?Zc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),u2=Ln(l2),c2=ut({},Fh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k_=Ln(c2),d2=ut({},ku,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Iy}),h2=Ln(d2),f2=ut({},xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),p2=Ln(f2),m2=ut({},Fh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),g2=Ln(m2),y2=[9,13,27,32],by=ti&&"CompositionEvent"in window,Al=null;ti&&"documentMode"in document&&(Al=document.documentMode);var v2=ti&&"TextEvent"in window&&!Al,$S=ti&&(!by||Al&&8<Al&&11>=Al),O_=" ",N_=!1;function HS(t,e){switch(t){case"keyup":return y2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bo=!1;function _2(t,e){switch(t){case"compositionend":return WS(e);case"keypress":return e.which!==32?null:(N_=!0,O_);case"textInput":return t=e.data,t===O_&&N_?null:t;default:return null}}function w2(t,e){if(bo)return t==="compositionend"||!by&&HS(t,e)?(t=zS(),Jc=Py=Ni=null,bo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $S&&e.locale!=="ko"?null:e.data;default:return null}}var E2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!E2[t.type]:e==="textarea"}function qS(t,e,n,r){SS(r),e=kd(e,"onChange"),0<e.length&&(n=new xy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var kl=null,Zl=null;function T2(t){rP(t,0)}function Uh(t){var e=Ao(t);if(gS(e))return t}function S2(t,e){if(t==="change")return e}var KS=!1;if(ti){var op;if(ti){var ap="oninput"in document;if(!ap){var L_=document.createElement("div");L_.setAttribute("oninput","return;"),ap=typeof L_.oninput=="function"}op=ap}else op=!1;KS=op&&(!document.documentMode||9<document.documentMode)}function M_(){kl&&(kl.detachEvent("onpropertychange",GS),Zl=kl=null)}function GS(t){if(t.propertyName==="value"&&Uh(Zl)){var e=[];qS(e,Zl,t,_y(t)),bS(T2,e)}}function P2(t,e,n){t==="focusin"?(M_(),kl=e,Zl=n,kl.attachEvent("onpropertychange",GS)):t==="focusout"&&M_()}function x2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uh(Zl)}function I2(t,e){if(t==="click")return Uh(e)}function b2(t,e){if(t==="input"||t==="change")return Uh(e)}function R2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var or=typeof Object.is=="function"?Object.is:R2;function eu(t,e){if(or(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!dm.call(e,i)||!or(t[i],e[i]))return!1}return!0}function V_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function j_(t,e){var n=V_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=V_(n)}}function QS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?QS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function XS(){for(var t=window,e=Pd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Pd(t.document)}return e}function Ry(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function C2(t){var e=XS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&QS(n.ownerDocument.documentElement,n)){if(r!==null&&Ry(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=j_(n,s);var o=j_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var A2=ti&&"documentMode"in document&&11>=document.documentMode,Ro=null,Am=null,Ol=null,km=!1;function F_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;km||Ro==null||Ro!==Pd(r)||(r=Ro,"selectionStart"in r&&Ry(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ol&&eu(Ol,r)||(Ol=r,r=kd(Am,"onSelect"),0<r.length&&(e=new xy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ro)))}function Ic(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Co={animationend:Ic("Animation","AnimationEnd"),animationiteration:Ic("Animation","AnimationIteration"),animationstart:Ic("Animation","AnimationStart"),transitionend:Ic("Transition","TransitionEnd")},lp={},YS={};ti&&(YS=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function Bh(t){if(lp[t])return lp[t];if(!Co[t])return t;var e=Co[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in YS)return lp[t]=e[n];return t}var JS=Bh("animationend"),ZS=Bh("animationiteration"),eP=Bh("animationstart"),tP=Bh("transitionend"),nP=new Map,U_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function as(t,e){nP.set(t,e),Zs(e,[t])}for(var up=0;up<U_.length;up++){var cp=U_[up],k2=cp.toLowerCase(),O2=cp[0].toUpperCase()+cp.slice(1);as(k2,"on"+O2)}as(JS,"onAnimationEnd");as(ZS,"onAnimationIteration");as(eP,"onAnimationStart");as("dblclick","onDoubleClick");as("focusin","onFocus");as("focusout","onBlur");as(tP,"onTransitionEnd");ta("onMouseEnter",["mouseout","mouseover"]);ta("onMouseLeave",["mouseout","mouseover"]);ta("onPointerEnter",["pointerout","pointerover"]);ta("onPointerLeave",["pointerout","pointerover"]);Zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N2=new Set("cancel close invalid load scroll toggle".split(" ").concat(vl));function B_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,kk(r,e,void 0,t),t.currentTarget=null}function rP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;B_(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;B_(i,a,c),s=l}}}if(Id)throw t=Im,Id=!1,Im=null,t}function Qe(t,e){var n=e[Mm];n===void 0&&(n=e[Mm]=new Set);var r=t+"__bubble";n.has(r)||(iP(e,t,2,!1),n.add(r))}function dp(t,e,n){var r=0;e&&(r|=4),iP(n,t,r,e)}var bc="_reactListening"+Math.random().toString(36).slice(2);function tu(t){if(!t[bc]){t[bc]=!0,dS.forEach(function(n){n!=="selectionchange"&&(N2.has(n)||dp(n,!1,t),dp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bc]||(e[bc]=!0,dp("selectionchange",!1,e))}}function iP(t,e,n,r){switch(BS(e)){case 1:var i=Kk;break;case 4:i=Gk;break;default:i=Sy}n=i.bind(null,e,n,t),i=void 0,!xm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function hp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Rs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}bS(function(){var c=s,d=_y(n),h=[];e:{var f=nP.get(t);if(f!==void 0){var y=xy,T=t;switch(t){case"keypress":if(Zc(n)===0)break e;case"keydown":case"keyup":y=u2;break;case"focusin":T="focus",y=sp;break;case"focusout":T="blur",y=sp;break;case"beforeblur":case"afterblur":y=sp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=C_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Yk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=h2;break;case JS:case ZS:case eP:y=e2;break;case tP:y=p2;break;case"scroll":y=Qk;break;case"wheel":y=g2;break;case"copy":case"cut":case"paste":y=n2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=k_}var S=(e&4)!==0,I=!S&&t==="scroll",w=S?f!==null?f+"Capture":null:f;S=[];for(var g=c,_;g!==null;){_=g;var A=_.stateNode;if(_.tag===5&&A!==null&&(_=A,w!==null&&(A=Ql(g,w),A!=null&&S.push(nu(g,A,_)))),I)break;g=g.return}0<S.length&&(f=new y(f,T,null,n,d),h.push({event:f,listeners:S}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&n!==Sm&&(T=n.relatedTarget||n.fromElement)&&(Rs(T)||T[ni]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(T=n.relatedTarget||n.toElement,y=c,T=T?Rs(T):null,T!==null&&(I=eo(T),T!==I||T.tag!==5&&T.tag!==6)&&(T=null)):(y=null,T=c),y!==T)){if(S=C_,A="onMouseLeave",w="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(S=k_,A="onPointerLeave",w="onPointerEnter",g="pointer"),I=y==null?f:Ao(y),_=T==null?f:Ao(T),f=new S(A,g+"leave",y,n,d),f.target=I,f.relatedTarget=_,A=null,Rs(d)===c&&(S=new S(w,g+"enter",T,n,d),S.target=_,S.relatedTarget=I,A=S),I=A,y&&T)t:{for(S=y,w=T,g=0,_=S;_;_=yo(_))g++;for(_=0,A=w;A;A=yo(A))_++;for(;0<g-_;)S=yo(S),g--;for(;0<_-g;)w=yo(w),_--;for(;g--;){if(S===w||w!==null&&S===w.alternate)break t;S=yo(S),w=yo(w)}S=null}else S=null;y!==null&&z_(h,f,y,S,!1),T!==null&&I!==null&&z_(h,I,T,S,!0)}}e:{if(f=c?Ao(c):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var M=S2;else if(D_(f))if(KS)M=b2;else{M=x2;var k=P2}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(M=I2);if(M&&(M=M(t,c))){qS(h,M,n,d);break e}k&&k(t,f,c),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&vm(f,"number",f.value)}switch(k=c?Ao(c):window,t){case"focusin":(D_(k)||k.contentEditable==="true")&&(Ro=k,Am=c,Ol=null);break;case"focusout":Ol=Am=Ro=null;break;case"mousedown":km=!0;break;case"contextmenu":case"mouseup":case"dragend":km=!1,F_(h,n,d);break;case"selectionchange":if(A2)break;case"keydown":case"keyup":F_(h,n,d)}var R;if(by)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else bo?HS(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&($S&&n.locale!=="ko"&&(bo||v!=="onCompositionStart"?v==="onCompositionEnd"&&bo&&(R=zS()):(Ni=d,Py="value"in Ni?Ni.value:Ni.textContent,bo=!0)),k=kd(c,v),0<k.length&&(v=new A_(v,t,null,n,d),h.push({event:v,listeners:k}),R?v.data=R:(R=WS(n),R!==null&&(v.data=R)))),(R=v2?_2(t,n):w2(t,n))&&(c=kd(c,"onBeforeInput"),0<c.length&&(d=new A_("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=R))}rP(h,e)})}function nu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function kd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ql(t,n),s!=null&&r.unshift(nu(t,s,i)),s=Ql(t,e),s!=null&&r.push(nu(t,s,i))),t=t.return}return r}function yo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function z_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ql(n,s),l!=null&&o.unshift(nu(n,l,a))):i||(l=Ql(n,s),l!=null&&o.push(nu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var D2=/\r\n?/g,L2=/\u0000|\uFFFD/g;function $_(t){return(typeof t=="string"?t:""+t).replace(D2,`
`).replace(L2,"")}function Rc(t,e,n){if(e=$_(e),$_(t)!==e&&n)throw Error(W(425))}function Od(){}var Om=null,Nm=null;function Dm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lm=typeof setTimeout=="function"?setTimeout:void 0,M2=typeof clearTimeout=="function"?clearTimeout:void 0,H_=typeof Promise=="function"?Promise:void 0,V2=typeof queueMicrotask=="function"?queueMicrotask:typeof H_<"u"?function(t){return H_.resolve(null).then(t).catch(j2)}:Lm;function j2(t){setTimeout(function(){throw t})}function fp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Jl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Jl(e)}function Bi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function W_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ia=Math.random().toString(36).slice(2),mr="__reactFiber$"+Ia,ru="__reactProps$"+Ia,ni="__reactContainer$"+Ia,Mm="__reactEvents$"+Ia,F2="__reactListeners$"+Ia,U2="__reactHandles$"+Ia;function Rs(t){var e=t[mr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ni]||n[mr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=W_(t);t!==null;){if(n=t[mr])return n;t=W_(t)}return e}t=n,n=t.parentNode}return null}function Ou(t){return t=t[mr]||t[ni],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ao(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function zh(t){return t[ru]||null}var Vm=[],ko=-1;function ls(t){return{current:t}}function Ye(t){0>ko||(t.current=Vm[ko],Vm[ko]=null,ko--)}function qe(t,e){ko++,Vm[ko]=t.current,t.current=e}var Xi={},Zt=ls(Xi),_n=ls(!1),Us=Xi;function na(t,e){var n=t.type.contextTypes;if(!n)return Xi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function wn(t){return t=t.childContextTypes,t!=null}function Nd(){Ye(_n),Ye(Zt)}function q_(t,e,n){if(Zt.current!==Xi)throw Error(W(168));qe(Zt,e),qe(_n,n)}function sP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,Pk(t)||"Unknown",i));return ut({},n,r)}function Dd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xi,Us=Zt.current,qe(Zt,t),qe(_n,_n.current),!0}function K_(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=sP(t,e,Us),r.__reactInternalMemoizedMergedChildContext=t,Ye(_n),Ye(Zt),qe(Zt,t)):Ye(_n),qe(_n,n)}var Fr=null,$h=!1,pp=!1;function oP(t){Fr===null?Fr=[t]:Fr.push(t)}function B2(t){$h=!0,oP(t)}function us(){if(!pp&&Fr!==null){pp=!0;var t=0,e=Ue;try{var n=Fr;for(Ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Fr=null,$h=!1}catch(i){throw Fr!==null&&(Fr=Fr.slice(t+1)),kS(wy,us),i}finally{Ue=e,pp=!1}}return null}var Oo=[],No=0,Ld=null,Md=0,Bn=[],zn=0,Bs=null,Ur=1,Br="";function Es(t,e){Oo[No++]=Md,Oo[No++]=Ld,Ld=t,Md=e}function aP(t,e,n){Bn[zn++]=Ur,Bn[zn++]=Br,Bn[zn++]=Bs,Bs=t;var r=Ur;t=Br;var i=32-rr(r)-1;r&=~(1<<i),n+=1;var s=32-rr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ur=1<<32-rr(e)+i|n<<i|r,Br=s+t}else Ur=1<<s|n<<i|r,Br=t}function Cy(t){t.return!==null&&(Es(t,1),aP(t,1,0))}function Ay(t){for(;t===Ld;)Ld=Oo[--No],Oo[No]=null,Md=Oo[--No],Oo[No]=null;for(;t===Bs;)Bs=Bn[--zn],Bn[zn]=null,Br=Bn[--zn],Bn[zn]=null,Ur=Bn[--zn],Bn[zn]=null}var An=null,In=null,rt=!1,tr=null;function lP(t,e){var n=$n(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function G_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,An=t,In=Bi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,An=t,In=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Bs!==null?{id:Ur,overflow:Br}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$n(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,An=t,In=null,!0):!1;default:return!1}}function jm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fm(t){if(rt){var e=In;if(e){var n=e;if(!G_(t,e)){if(jm(t))throw Error(W(418));e=Bi(n.nextSibling);var r=An;e&&G_(t,e)?lP(r,n):(t.flags=t.flags&-4097|2,rt=!1,An=t)}}else{if(jm(t))throw Error(W(418));t.flags=t.flags&-4097|2,rt=!1,An=t}}}function Q_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;An=t}function Cc(t){if(t!==An)return!1;if(!rt)return Q_(t),rt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Dm(t.type,t.memoizedProps)),e&&(e=In)){if(jm(t))throw uP(),Error(W(418));for(;e;)lP(t,e),e=Bi(e.nextSibling)}if(Q_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){In=Bi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}In=null}}else In=An?Bi(t.stateNode.nextSibling):null;return!0}function uP(){for(var t=In;t;)t=Bi(t.nextSibling)}function ra(){In=An=null,rt=!1}function ky(t){tr===null?tr=[t]:tr.push(t)}var z2=ui.ReactCurrentBatchConfig;function al(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function Ac(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function X_(t){var e=t._init;return e(t._payload)}function cP(t){function e(w,g){if(t){var _=w.deletions;_===null?(w.deletions=[g],w.flags|=16):_.push(g)}}function n(w,g){if(!t)return null;for(;g!==null;)e(w,g),g=g.sibling;return null}function r(w,g){for(w=new Map;g!==null;)g.key!==null?w.set(g.key,g):w.set(g.index,g),g=g.sibling;return w}function i(w,g){return w=Wi(w,g),w.index=0,w.sibling=null,w}function s(w,g,_){return w.index=_,t?(_=w.alternate,_!==null?(_=_.index,_<g?(w.flags|=2,g):_):(w.flags|=2,g)):(w.flags|=1048576,g)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,g,_,A){return g===null||g.tag!==6?(g=Ep(_,w.mode,A),g.return=w,g):(g=i(g,_),g.return=w,g)}function l(w,g,_,A){var M=_.type;return M===Io?d(w,g,_.props.children,A,_.key):g!==null&&(g.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Si&&X_(M)===g.type)?(A=i(g,_.props),A.ref=al(w,g,_),A.return=w,A):(A=od(_.type,_.key,_.props,null,w.mode,A),A.ref=al(w,g,_),A.return=w,A)}function c(w,g,_,A){return g===null||g.tag!==4||g.stateNode.containerInfo!==_.containerInfo||g.stateNode.implementation!==_.implementation?(g=Tp(_,w.mode,A),g.return=w,g):(g=i(g,_.children||[]),g.return=w,g)}function d(w,g,_,A,M){return g===null||g.tag!==7?(g=Ls(_,w.mode,A,M),g.return=w,g):(g=i(g,_),g.return=w,g)}function h(w,g,_){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ep(""+g,w.mode,_),g.return=w,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case _c:return _=od(g.type,g.key,g.props,null,w.mode,_),_.ref=al(w,null,g),_.return=w,_;case xo:return g=Tp(g,w.mode,_),g.return=w,g;case Si:var A=g._init;return h(w,A(g._payload),_)}if(gl(g)||nl(g))return g=Ls(g,w.mode,_,null),g.return=w,g;Ac(w,g)}return null}function f(w,g,_,A){var M=g!==null?g.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return M!==null?null:a(w,g,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case _c:return _.key===M?l(w,g,_,A):null;case xo:return _.key===M?c(w,g,_,A):null;case Si:return M=_._init,f(w,g,M(_._payload),A)}if(gl(_)||nl(_))return M!==null?null:d(w,g,_,A,null);Ac(w,_)}return null}function y(w,g,_,A,M){if(typeof A=="string"&&A!==""||typeof A=="number")return w=w.get(_)||null,a(g,w,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case _c:return w=w.get(A.key===null?_:A.key)||null,l(g,w,A,M);case xo:return w=w.get(A.key===null?_:A.key)||null,c(g,w,A,M);case Si:var k=A._init;return y(w,g,_,k(A._payload),M)}if(gl(A)||nl(A))return w=w.get(_)||null,d(g,w,A,M,null);Ac(g,A)}return null}function T(w,g,_,A){for(var M=null,k=null,R=g,v=g=0,E=null;R!==null&&v<_.length;v++){R.index>v?(E=R,R=null):E=R.sibling;var P=f(w,R,_[v],A);if(P===null){R===null&&(R=E);break}t&&R&&P.alternate===null&&e(w,R),g=s(P,g,v),k===null?M=P:k.sibling=P,k=P,R=E}if(v===_.length)return n(w,R),rt&&Es(w,v),M;if(R===null){for(;v<_.length;v++)R=h(w,_[v],A),R!==null&&(g=s(R,g,v),k===null?M=R:k.sibling=R,k=R);return rt&&Es(w,v),M}for(R=r(w,R);v<_.length;v++)E=y(R,w,v,_[v],A),E!==null&&(t&&E.alternate!==null&&R.delete(E.key===null?v:E.key),g=s(E,g,v),k===null?M=E:k.sibling=E,k=E);return t&&R.forEach(function(O){return e(w,O)}),rt&&Es(w,v),M}function S(w,g,_,A){var M=nl(_);if(typeof M!="function")throw Error(W(150));if(_=M.call(_),_==null)throw Error(W(151));for(var k=M=null,R=g,v=g=0,E=null,P=_.next();R!==null&&!P.done;v++,P=_.next()){R.index>v?(E=R,R=null):E=R.sibling;var O=f(w,R,P.value,A);if(O===null){R===null&&(R=E);break}t&&R&&O.alternate===null&&e(w,R),g=s(O,g,v),k===null?M=O:k.sibling=O,k=O,R=E}if(P.done)return n(w,R),rt&&Es(w,v),M;if(R===null){for(;!P.done;v++,P=_.next())P=h(w,P.value,A),P!==null&&(g=s(P,g,v),k===null?M=P:k.sibling=P,k=P);return rt&&Es(w,v),M}for(R=r(w,R);!P.done;v++,P=_.next())P=y(R,w,v,P.value,A),P!==null&&(t&&P.alternate!==null&&R.delete(P.key===null?v:P.key),g=s(P,g,v),k===null?M=P:k.sibling=P,k=P);return t&&R.forEach(function(N){return e(w,N)}),rt&&Es(w,v),M}function I(w,g,_,A){if(typeof _=="object"&&_!==null&&_.type===Io&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case _c:e:{for(var M=_.key,k=g;k!==null;){if(k.key===M){if(M=_.type,M===Io){if(k.tag===7){n(w,k.sibling),g=i(k,_.props.children),g.return=w,w=g;break e}}else if(k.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Si&&X_(M)===k.type){n(w,k.sibling),g=i(k,_.props),g.ref=al(w,k,_),g.return=w,w=g;break e}n(w,k);break}else e(w,k);k=k.sibling}_.type===Io?(g=Ls(_.props.children,w.mode,A,_.key),g.return=w,w=g):(A=od(_.type,_.key,_.props,null,w.mode,A),A.ref=al(w,g,_),A.return=w,w=A)}return o(w);case xo:e:{for(k=_.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===_.containerInfo&&g.stateNode.implementation===_.implementation){n(w,g.sibling),g=i(g,_.children||[]),g.return=w,w=g;break e}else{n(w,g);break}else e(w,g);g=g.sibling}g=Tp(_,w.mode,A),g.return=w,w=g}return o(w);case Si:return k=_._init,I(w,g,k(_._payload),A)}if(gl(_))return T(w,g,_,A);if(nl(_))return S(w,g,_,A);Ac(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,g!==null&&g.tag===6?(n(w,g.sibling),g=i(g,_),g.return=w,w=g):(n(w,g),g=Ep(_,w.mode,A),g.return=w,w=g),o(w)):n(w,g)}return I}var ia=cP(!0),dP=cP(!1),Vd=ls(null),jd=null,Do=null,Oy=null;function Ny(){Oy=Do=jd=null}function Dy(t){var e=Vd.current;Ye(Vd),t._currentValue=e}function Um(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ko(t,e){jd=t,Oy=Do=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(vn=!0),t.firstContext=null)}function Wn(t){var e=t._currentValue;if(Oy!==t)if(t={context:t,memoizedValue:e,next:null},Do===null){if(jd===null)throw Error(W(308));Do=t,jd.dependencies={lanes:0,firstContext:t}}else Do=Do.next=t;return e}var Cs=null;function Ly(t){Cs===null?Cs=[t]:Cs.push(t)}function hP(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ly(e)):(n.next=i.next,i.next=n),e.interleaved=n,ri(t,r)}function ri(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pi=!1;function My(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ri(t,n)}return i=r.interleaved,i===null?(e.next=e,Ly(r)):(e.next=i.next,i.next=e),r.interleaved=e,ri(t,n)}function ed(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ey(t,n)}}function Y_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fd(t,e,n,r){var i=t.updateQueue;Pi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var f=a.lane,y=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,S=a;switch(f=e,y=n,S.tag){case 1:if(T=S.payload,typeof T=="function"){h=T.call(y,h,f);break e}h=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=S.payload,f=typeof T=="function"?T.call(y,h,f):T,f==null)break e;h=ut({},h,f);break e;case 2:Pi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else y={eventTime:y,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,l=h):d=d.next=y,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);$s|=o,t.lanes=o,t.memoizedState=h}}function J_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var Nu={},_r=ls(Nu),iu=ls(Nu),su=ls(Nu);function As(t){if(t===Nu)throw Error(W(174));return t}function Vy(t,e){switch(qe(su,e),qe(iu,t),qe(_r,Nu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wm(e,t)}Ye(_r),qe(_r,e)}function sa(){Ye(_r),Ye(iu),Ye(su)}function pP(t){As(su.current);var e=As(_r.current),n=wm(e,t.type);e!==n&&(qe(iu,t),qe(_r,n))}function jy(t){iu.current===t&&(Ye(_r),Ye(iu))}var ot=ls(0);function Ud(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mp=[];function Fy(){for(var t=0;t<mp.length;t++)mp[t]._workInProgressVersionPrimary=null;mp.length=0}var td=ui.ReactCurrentDispatcher,gp=ui.ReactCurrentBatchConfig,zs=0,lt=null,xt=null,At=null,Bd=!1,Nl=!1,ou=0,$2=0;function $t(){throw Error(W(321))}function Uy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!or(t[n],e[n]))return!1;return!0}function By(t,e,n,r,i,s){if(zs=s,lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,td.current=t===null||t.memoizedState===null?K2:G2,t=n(r,i),Nl){s=0;do{if(Nl=!1,ou=0,25<=s)throw Error(W(301));s+=1,At=xt=null,e.updateQueue=null,td.current=Q2,t=n(r,i)}while(Nl)}if(td.current=zd,e=xt!==null&&xt.next!==null,zs=0,At=xt=lt=null,Bd=!1,e)throw Error(W(300));return t}function zy(){var t=ou!==0;return ou=0,t}function pr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?lt.memoizedState=At=t:At=At.next=t,At}function qn(){if(xt===null){var t=lt.alternate;t=t!==null?t.memoizedState:null}else t=xt.next;var e=At===null?lt.memoizedState:At.next;if(e!==null)At=e,xt=t;else{if(t===null)throw Error(W(310));xt=t,t={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},At===null?lt.memoizedState=At=t:At=At.next=t}return At}function au(t,e){return typeof e=="function"?e(t):e}function yp(t){var e=qn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=xt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((zs&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,lt.lanes|=d,$s|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,or(r,e.memoizedState)||(vn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,lt.lanes|=s,$s|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vp(t){var e=qn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);or(s,e.memoizedState)||(vn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function mP(){}function gP(t,e){var n=lt,r=qn(),i=e(),s=!or(r.memoizedState,i);if(s&&(r.memoizedState=i,vn=!0),r=r.queue,$y(_P.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||At!==null&&At.memoizedState.tag&1){if(n.flags|=2048,lu(9,vP.bind(null,n,r,i,e),void 0,null),kt===null)throw Error(W(349));zs&30||yP(n,e,i)}return i}function yP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function vP(t,e,n,r){e.value=n,e.getSnapshot=r,wP(e)&&EP(t)}function _P(t,e,n){return n(function(){wP(e)&&EP(t)})}function wP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!or(t,n)}catch{return!0}}function EP(t){var e=ri(t,1);e!==null&&ir(e,t,1,-1)}function Z_(t){var e=pr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:au,lastRenderedState:t},e.queue=t,t=t.dispatch=q2.bind(null,lt,t),[e.memoizedState,t]}function lu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function TP(){return qn().memoizedState}function nd(t,e,n,r){var i=pr();lt.flags|=t,i.memoizedState=lu(1|e,n,void 0,r===void 0?null:r)}function Hh(t,e,n,r){var i=qn();r=r===void 0?null:r;var s=void 0;if(xt!==null){var o=xt.memoizedState;if(s=o.destroy,r!==null&&Uy(r,o.deps)){i.memoizedState=lu(e,n,s,r);return}}lt.flags|=t,i.memoizedState=lu(1|e,n,s,r)}function ew(t,e){return nd(8390656,8,t,e)}function $y(t,e){return Hh(2048,8,t,e)}function SP(t,e){return Hh(4,2,t,e)}function PP(t,e){return Hh(4,4,t,e)}function xP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function IP(t,e,n){return n=n!=null?n.concat([t]):null,Hh(4,4,xP.bind(null,e,t),n)}function Hy(){}function bP(t,e){var n=qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Uy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function RP(t,e){var n=qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Uy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function CP(t,e,n){return zs&21?(or(n,e)||(n=DS(),lt.lanes|=n,$s|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,vn=!0),t.memoizedState=n)}function H2(t,e){var n=Ue;Ue=n!==0&&4>n?n:4,t(!0);var r=gp.transition;gp.transition={};try{t(!1),e()}finally{Ue=n,gp.transition=r}}function AP(){return qn().memoizedState}function W2(t,e,n){var r=Hi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kP(t))OP(e,n);else if(n=hP(t,e,n,r),n!==null){var i=on();ir(n,t,r,i),NP(n,e,r)}}function q2(t,e,n){var r=Hi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kP(t))OP(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,or(a,o)){var l=e.interleaved;l===null?(i.next=i,Ly(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=hP(t,e,i,r),n!==null&&(i=on(),ir(n,t,r,i),NP(n,e,r))}}function kP(t){var e=t.alternate;return t===lt||e!==null&&e===lt}function OP(t,e){Nl=Bd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function NP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ey(t,n)}}var zd={readContext:Wn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},K2={readContext:Wn,useCallback:function(t,e){return pr().memoizedState=[t,e===void 0?null:e],t},useContext:Wn,useEffect:ew,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nd(4194308,4,xP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nd(4194308,4,t,e)},useInsertionEffect:function(t,e){return nd(4,2,t,e)},useMemo:function(t,e){var n=pr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=pr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=W2.bind(null,lt,t),[r.memoizedState,t]},useRef:function(t){var e=pr();return t={current:t},e.memoizedState=t},useState:Z_,useDebugValue:Hy,useDeferredValue:function(t){return pr().memoizedState=t},useTransition:function(){var t=Z_(!1),e=t[0];return t=H2.bind(null,t[1]),pr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=lt,i=pr();if(rt){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),kt===null)throw Error(W(349));zs&30||yP(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,ew(_P.bind(null,r,s,t),[t]),r.flags|=2048,lu(9,vP.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=pr(),e=kt.identifierPrefix;if(rt){var n=Br,r=Ur;n=(r&~(1<<32-rr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ou++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},G2={readContext:Wn,useCallback:bP,useContext:Wn,useEffect:$y,useImperativeHandle:IP,useInsertionEffect:SP,useLayoutEffect:PP,useMemo:RP,useReducer:yp,useRef:TP,useState:function(){return yp(au)},useDebugValue:Hy,useDeferredValue:function(t){var e=qn();return CP(e,xt.memoizedState,t)},useTransition:function(){var t=yp(au)[0],e=qn().memoizedState;return[t,e]},useMutableSource:mP,useSyncExternalStore:gP,useId:AP,unstable_isNewReconciler:!1},Q2={readContext:Wn,useCallback:bP,useContext:Wn,useEffect:$y,useImperativeHandle:IP,useInsertionEffect:SP,useLayoutEffect:PP,useMemo:RP,useReducer:vp,useRef:TP,useState:function(){return vp(au)},useDebugValue:Hy,useDeferredValue:function(t){var e=qn();return xt===null?e.memoizedState=t:CP(e,xt.memoizedState,t)},useTransition:function(){var t=vp(au)[0],e=qn().memoizedState;return[t,e]},useMutableSource:mP,useSyncExternalStore:gP,useId:AP,unstable_isNewReconciler:!1};function Jn(t,e){if(t&&t.defaultProps){e=ut({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Bm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ut({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wh={isMounted:function(t){return(t=t._reactInternals)?eo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=on(),i=Hi(t),s=qr(r,i);s.payload=e,n!=null&&(s.callback=n),e=zi(t,s,i),e!==null&&(ir(e,t,i,r),ed(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=on(),i=Hi(t),s=qr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=zi(t,s,i),e!==null&&(ir(e,t,i,r),ed(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=on(),r=Hi(t),i=qr(n,r);i.tag=2,e!=null&&(i.callback=e),e=zi(t,i,r),e!==null&&(ir(e,t,r,n),ed(e,t,r))}};function tw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!eu(n,r)||!eu(i,s):!0}function DP(t,e,n){var r=!1,i=Xi,s=e.contextType;return typeof s=="object"&&s!==null?s=Wn(s):(i=wn(e)?Us:Zt.current,r=e.contextTypes,s=(r=r!=null)?na(t,i):Xi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function nw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Wh.enqueueReplaceState(e,e.state,null)}function zm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},My(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Wn(s):(s=wn(e)?Us:Zt.current,i.context=na(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Bm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Wh.enqueueReplaceState(i,i.state,null),Fd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function oa(t,e){try{var n="",r=e;do n+=Sk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function _p(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $m(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var X2=typeof WeakMap=="function"?WeakMap:Map;function LP(t,e,n){n=qr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Hd||(Hd=!0,Zm=r),$m(t,e)},n}function MP(t,e,n){n=qr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){$m(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){$m(t,e),typeof r!="function"&&($i===null?$i=new Set([this]):$i.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function rw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new X2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=cO.bind(null,t,e,n),e.then(t,t))}function iw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function sw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=qr(-1,1),e.tag=2,zi(n,e,1))),n.lanes|=1),t)}var Y2=ui.ReactCurrentOwner,vn=!1;function rn(t,e,n,r){e.child=t===null?dP(e,null,n,r):ia(e,t.child,n,r)}function ow(t,e,n,r,i){n=n.render;var s=e.ref;return Ko(e,i),r=By(t,e,n,r,s,i),n=zy(),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ii(t,e,i)):(rt&&n&&Cy(e),e.flags|=1,rn(t,e,r,i),e.child)}function aw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Jy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,VP(t,e,s,r,i)):(t=od(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:eu,n(o,r)&&t.ref===e.ref)return ii(t,e,i)}return e.flags|=1,t=Wi(s,r),t.ref=e.ref,t.return=e,e.child=t}function VP(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(eu(s,r)&&t.ref===e.ref)if(vn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(vn=!0);else return e.lanes=t.lanes,ii(t,e,i)}return Hm(t,e,n,r,i)}function jP(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Mo,Pn),Pn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(Mo,Pn),Pn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,qe(Mo,Pn),Pn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,qe(Mo,Pn),Pn|=r;return rn(t,e,i,n),e.child}function FP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Hm(t,e,n,r,i){var s=wn(n)?Us:Zt.current;return s=na(e,s),Ko(e,i),n=By(t,e,n,r,s,i),r=zy(),t!==null&&!vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ii(t,e,i)):(rt&&r&&Cy(e),e.flags|=1,rn(t,e,n,i),e.child)}function lw(t,e,n,r,i){if(wn(n)){var s=!0;Dd(e)}else s=!1;if(Ko(e,i),e.stateNode===null)rd(t,e),DP(e,n,r),zm(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Wn(c):(c=wn(n)?Us:Zt.current,c=na(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&nw(e,o,r,c),Pi=!1;var f=e.memoizedState;o.state=f,Fd(e,r,o,i),l=e.memoizedState,a!==r||f!==l||_n.current||Pi?(typeof d=="function"&&(Bm(e,n,d,r),l=e.memoizedState),(a=Pi||tw(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,fP(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Jn(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wn(l):(l=wn(n)?Us:Zt.current,l=na(e,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&nw(e,o,r,l),Pi=!1,f=e.memoizedState,o.state=f,Fd(e,r,o,i);var T=e.memoizedState;a!==h||f!==T||_n.current||Pi?(typeof y=="function"&&(Bm(e,n,y,r),T=e.memoizedState),(c=Pi||tw(e,n,c,r,f,T,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Wm(t,e,n,r,s,i)}function Wm(t,e,n,r,i,s){FP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&K_(e,n,!1),ii(t,e,s);r=e.stateNode,Y2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ia(e,t.child,null,s),e.child=ia(e,null,a,s)):rn(t,e,a,s),e.memoizedState=r.state,i&&K_(e,n,!0),e.child}function UP(t){var e=t.stateNode;e.pendingContext?q_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&q_(t,e.context,!1),Vy(t,e.containerInfo)}function uw(t,e,n,r,i){return ra(),ky(i),e.flags|=256,rn(t,e,n,r),e.child}var qm={dehydrated:null,treeContext:null,retryLane:0};function Km(t){return{baseLanes:t,cachePool:null,transitions:null}}function BP(t,e,n){var r=e.pendingProps,i=ot.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),qe(ot,i&1),t===null)return Fm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Gh(o,r,0,null),t=Ls(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Km(n),e.memoizedState=qm,t):Wy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return J2(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Wi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Wi(a,s):(s=Ls(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Km(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=qm,r}return s=t.child,t=s.sibling,r=Wi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Wy(t,e){return e=Gh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function kc(t,e,n,r){return r!==null&&ky(r),ia(e,t.child,null,n),t=Wy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function J2(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=_p(Error(W(422))),kc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Gh({mode:"visible",children:r.children},i,0,null),s=Ls(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ia(e,t.child,null,o),e.child.memoizedState=Km(o),e.memoizedState=qm,s);if(!(e.mode&1))return kc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(W(419)),r=_p(s,r,void 0),kc(t,e,o,r)}if(a=(o&t.childLanes)!==0,vn||a){if(r=kt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ri(t,i),ir(r,t,i,-1))}return Yy(),r=_p(Error(W(421))),kc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=dO.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,In=Bi(i.nextSibling),An=e,rt=!0,tr=null,t!==null&&(Bn[zn++]=Ur,Bn[zn++]=Br,Bn[zn++]=Bs,Ur=t.id,Br=t.overflow,Bs=e),e=Wy(e,r.children),e.flags|=4096,e)}function cw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Um(t.return,e,n)}function wp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function zP(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(rn(t,e,r.children,n),r=ot.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cw(t,n,e);else if(t.tag===19)cw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qe(ot,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ud(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),wp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ud(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}wp(e,!0,n,null,s);break;case"together":wp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ii(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$s|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Wi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Z2(t,e,n){switch(e.tag){case 3:UP(e),ra();break;case 5:pP(e);break;case 1:wn(e.type)&&Dd(e);break;case 4:Vy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;qe(Vd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qe(ot,ot.current&1),e.flags|=128,null):n&e.child.childLanes?BP(t,e,n):(qe(ot,ot.current&1),t=ii(t,e,n),t!==null?t.sibling:null);qe(ot,ot.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return zP(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qe(ot,ot.current),r)break;return null;case 22:case 23:return e.lanes=0,jP(t,e,n)}return ii(t,e,n)}var $P,Gm,HP,WP;$P=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gm=function(){};HP=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,As(_r.current);var s=null;switch(n){case"input":i=gm(t,i),r=gm(t,r),s=[];break;case"select":i=ut({},i,{value:void 0}),r=ut({},r,{value:void 0}),s=[];break;case"textarea":i=_m(t,i),r=_m(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Od)}Em(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Kl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Kl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Qe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};WP=function(t,e,n,r){n!==r&&(e.flags|=4)};function ll(t,e){if(!rt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ht(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function eO(t,e,n){var r=e.pendingProps;switch(Ay(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(e),null;case 1:return wn(e.type)&&Nd(),Ht(e),null;case 3:return r=e.stateNode,sa(),Ye(_n),Ye(Zt),Fy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Cc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,tr!==null&&(ng(tr),tr=null))),Gm(t,e),Ht(e),null;case 5:jy(e);var i=As(su.current);if(n=e.type,t!==null&&e.stateNode!=null)HP(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Ht(e),null}if(t=As(_r.current),Cc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[mr]=e,r[ru]=s,t=(e.mode&1)!==0,n){case"dialog":Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":case"embed":Qe("load",r);break;case"video":case"audio":for(i=0;i<vl.length;i++)Qe(vl[i],r);break;case"source":Qe("error",r);break;case"img":case"image":case"link":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"input":__(r,s),Qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Qe("invalid",r);break;case"textarea":E_(r,s),Qe("invalid",r)}Em(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Rc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Rc(r.textContent,a,t),i=["children",""+a]):Kl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Qe("scroll",r)}switch(n){case"input":wc(r),w_(r,s,!0);break;case"textarea":wc(r),T_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Od)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_S(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[mr]=e,t[ru]=r,$P(t,e,!1,!1),e.stateNode=t;e:{switch(o=Tm(n,r),n){case"dialog":Qe("cancel",t),Qe("close",t),i=r;break;case"iframe":case"object":case"embed":Qe("load",t),i=r;break;case"video":case"audio":for(i=0;i<vl.length;i++)Qe(vl[i],t);i=r;break;case"source":Qe("error",t),i=r;break;case"img":case"image":case"link":Qe("error",t),Qe("load",t),i=r;break;case"details":Qe("toggle",t),i=r;break;case"input":__(t,r),i=gm(t,r),Qe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ut({},r,{value:void 0}),Qe("invalid",t);break;case"textarea":E_(t,r),i=_m(t,r),Qe("invalid",t);break;default:i=r}Em(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?TS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&wS(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Gl(t,l):typeof l=="number"&&Gl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Kl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Qe("scroll",t):l!=null&&my(t,s,l,o))}switch(n){case"input":wc(t),w_(t,r,!1);break;case"textarea":wc(t),T_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?$o(t,!!r.multiple,s,!1):r.defaultValue!=null&&$o(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Od)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ht(e),null;case 6:if(t&&e.stateNode!=null)WP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=As(su.current),As(_r.current),Cc(e)){if(r=e.stateNode,n=e.memoizedProps,r[mr]=e,(s=r.nodeValue!==n)&&(t=An,t!==null))switch(t.tag){case 3:Rc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Rc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mr]=e,e.stateNode=r}return Ht(e),null;case 13:if(Ye(ot),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(rt&&In!==null&&e.mode&1&&!(e.flags&128))uP(),ra(),e.flags|=98560,s=!1;else if(s=Cc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[mr]=e}else ra(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ht(e),s=!1}else tr!==null&&(ng(tr),tr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ot.current&1?It===0&&(It=3):Yy())),e.updateQueue!==null&&(e.flags|=4),Ht(e),null);case 4:return sa(),Gm(t,e),t===null&&tu(e.stateNode.containerInfo),Ht(e),null;case 10:return Dy(e.type._context),Ht(e),null;case 17:return wn(e.type)&&Nd(),Ht(e),null;case 19:if(Ye(ot),s=e.memoizedState,s===null)return Ht(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ll(s,!1);else{if(It!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ud(t),o!==null){for(e.flags|=128,ll(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qe(ot,ot.current&1|2),e.child}t=t.sibling}s.tail!==null&&yt()>aa&&(e.flags|=128,r=!0,ll(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ud(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ll(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!rt)return Ht(e),null}else 2*yt()-s.renderingStartTime>aa&&n!==1073741824&&(e.flags|=128,r=!0,ll(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=yt(),e.sibling=null,n=ot.current,qe(ot,r?n&1|2:n&1),e):(Ht(e),null);case 22:case 23:return Xy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Pn&1073741824&&(Ht(e),e.subtreeFlags&6&&(e.flags|=8192)):Ht(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function tO(t,e){switch(Ay(e),e.tag){case 1:return wn(e.type)&&Nd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return sa(),Ye(_n),Ye(Zt),Fy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jy(e),null;case 13:if(Ye(ot),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));ra()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ye(ot),null;case 4:return sa(),null;case 10:return Dy(e.type._context),null;case 22:case 23:return Xy(),null;case 24:return null;default:return null}}var Oc=!1,Qt=!1,nO=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Lo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pt(t,e,r)}else n.current=null}function Qm(t,e,n){try{n()}catch(r){pt(t,e,r)}}var dw=!1;function rO(t,e){if(Om=Cd,t=XS(),Ry(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var y;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)f=h,h=y;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++d===r&&(l=o),(y=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nm={focusedElem:t,selectionRange:n},Cd=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var S=T.memoizedProps,I=T.memoizedState,w=e.stateNode,g=w.getSnapshotBeforeUpdate(e.elementType===e.type?S:Jn(e.type,S),I);w.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(A){pt(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return T=dw,dw=!1,T}function Dl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Qm(e,n,s)}i=i.next}while(i!==r)}}function qh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Xm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function qP(t){var e=t.alternate;e!==null&&(t.alternate=null,qP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[mr],delete e[ru],delete e[Mm],delete e[F2],delete e[U2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function KP(t){return t.tag===5||t.tag===3||t.tag===4}function hw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||KP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ym(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Od));else if(r!==4&&(t=t.child,t!==null))for(Ym(t,e,n),t=t.sibling;t!==null;)Ym(t,e,n),t=t.sibling}function Jm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jm(t,e,n),t=t.sibling;t!==null;)Jm(t,e,n),t=t.sibling}var Dt=null,Zn=!1;function _i(t,e,n){for(n=n.child;n!==null;)GP(t,e,n),n=n.sibling}function GP(t,e,n){if(vr&&typeof vr.onCommitFiberUnmount=="function")try{vr.onCommitFiberUnmount(jh,n)}catch{}switch(n.tag){case 5:Qt||Lo(n,e);case 6:var r=Dt,i=Zn;Dt=null,_i(t,e,n),Dt=r,Zn=i,Dt!==null&&(Zn?(t=Dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Dt.removeChild(n.stateNode));break;case 18:Dt!==null&&(Zn?(t=Dt,n=n.stateNode,t.nodeType===8?fp(t.parentNode,n):t.nodeType===1&&fp(t,n),Jl(t)):fp(Dt,n.stateNode));break;case 4:r=Dt,i=Zn,Dt=n.stateNode.containerInfo,Zn=!0,_i(t,e,n),Dt=r,Zn=i;break;case 0:case 11:case 14:case 15:if(!Qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Qm(n,e,o),i=i.next}while(i!==r)}_i(t,e,n);break;case 1:if(!Qt&&(Lo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){pt(n,e,a)}_i(t,e,n);break;case 21:_i(t,e,n);break;case 22:n.mode&1?(Qt=(r=Qt)||n.memoizedState!==null,_i(t,e,n),Qt=r):_i(t,e,n);break;default:_i(t,e,n)}}function fw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new nO),e.forEach(function(r){var i=hO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Dt=a.stateNode,Zn=!1;break e;case 3:Dt=a.stateNode.containerInfo,Zn=!0;break e;case 4:Dt=a.stateNode.containerInfo,Zn=!0;break e}a=a.return}if(Dt===null)throw Error(W(160));GP(s,o,i),Dt=null,Zn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){pt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)QP(e,t),e=e.sibling}function QP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yn(e,t),fr(t),r&4){try{Dl(3,t,t.return),qh(3,t)}catch(S){pt(t,t.return,S)}try{Dl(5,t,t.return)}catch(S){pt(t,t.return,S)}}break;case 1:Yn(e,t),fr(t),r&512&&n!==null&&Lo(n,n.return);break;case 5:if(Yn(e,t),fr(t),r&512&&n!==null&&Lo(n,n.return),t.flags&32){var i=t.stateNode;try{Gl(i,"")}catch(S){pt(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&yS(i,s),Tm(a,o);var c=Tm(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?TS(i,h):d==="dangerouslySetInnerHTML"?wS(i,h):d==="children"?Gl(i,h):my(i,d,h,c)}switch(a){case"input":ym(i,s);break;case"textarea":vS(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?$o(i,!!s.multiple,y,!1):f!==!!s.multiple&&(s.defaultValue!=null?$o(i,!!s.multiple,s.defaultValue,!0):$o(i,!!s.multiple,s.multiple?[]:"",!1))}i[ru]=s}catch(S){pt(t,t.return,S)}}break;case 6:if(Yn(e,t),fr(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){pt(t,t.return,S)}}break;case 3:if(Yn(e,t),fr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jl(e.containerInfo)}catch(S){pt(t,t.return,S)}break;case 4:Yn(e,t),fr(t);break;case 13:Yn(e,t),fr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Gy=yt())),r&4&&fw(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Qt=(c=Qt)||d,Yn(e,t),Qt=c):Yn(e,t),fr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Z=t,d=t.child;d!==null;){for(h=Z=d;Z!==null;){switch(f=Z,y=f.child,f.tag){case 0:case 11:case 14:case 15:Dl(4,f,f.return);break;case 1:Lo(f,f.return);var T=f.stateNode;if(typeof T.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(S){pt(r,n,S)}}break;case 5:Lo(f,f.return);break;case 22:if(f.memoizedState!==null){mw(h);continue}}y!==null?(y.return=f,Z=y):mw(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ES("display",o))}catch(S){pt(t,t.return,S)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(S){pt(t,t.return,S)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Yn(e,t),fr(t),r&4&&fw(t);break;case 21:break;default:Yn(e,t),fr(t)}}function fr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(KP(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Gl(i,""),r.flags&=-33);var s=hw(t);Jm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=hw(t);Ym(t,a,o);break;default:throw Error(W(161))}}catch(l){pt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function iO(t,e,n){Z=t,XP(t)}function XP(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var i=Z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Oc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Qt;a=Oc;var c=Qt;if(Oc=o,(Qt=l)&&!c)for(Z=i;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?gw(i):l!==null?(l.return=o,Z=l):gw(i);for(;s!==null;)Z=s,XP(s),s=s.sibling;Z=i,Oc=a,Qt=c}pw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Z=s):pw(t)}}function pw(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qt||qh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Jn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&J_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}J_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Jl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Qt||e.flags&512&&Xm(e)}catch(f){pt(e,e.return,f)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function mw(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function gw(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qh(4,e)}catch(l){pt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){pt(e,i,l)}}var s=e.return;try{Xm(e)}catch(l){pt(e,s,l)}break;case 5:var o=e.return;try{Xm(e)}catch(l){pt(e,o,l)}}}catch(l){pt(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var sO=Math.ceil,$d=ui.ReactCurrentDispatcher,qy=ui.ReactCurrentOwner,Hn=ui.ReactCurrentBatchConfig,Le=0,kt=null,St=null,jt=0,Pn=0,Mo=ls(0),It=0,uu=null,$s=0,Kh=0,Ky=0,Ll=null,gn=null,Gy=0,aa=1/0,jr=null,Hd=!1,Zm=null,$i=null,Nc=!1,Di=null,Wd=0,Ml=0,eg=null,id=-1,sd=0;function on(){return Le&6?yt():id!==-1?id:id=yt()}function Hi(t){return t.mode&1?Le&2&&jt!==0?jt&-jt:z2.transition!==null?(sd===0&&(sd=DS()),sd):(t=Ue,t!==0||(t=window.event,t=t===void 0?16:BS(t.type)),t):1}function ir(t,e,n,r){if(50<Ml)throw Ml=0,eg=null,Error(W(185));Au(t,n,r),(!(Le&2)||t!==kt)&&(t===kt&&(!(Le&2)&&(Kh|=n),It===4&&bi(t,jt)),En(t,r),n===1&&Le===0&&!(e.mode&1)&&(aa=yt()+500,$h&&us()))}function En(t,e){var n=t.callbackNode;zk(t,e);var r=Rd(t,t===kt?jt:0);if(r===0)n!==null&&x_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&x_(n),e===1)t.tag===0?B2(yw.bind(null,t)):oP(yw.bind(null,t)),V2(function(){!(Le&6)&&us()}),n=null;else{switch(LS(r)){case 1:n=wy;break;case 4:n=OS;break;case 16:n=bd;break;case 536870912:n=NS;break;default:n=bd}n=ix(n,YP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function YP(t,e){if(id=-1,sd=0,Le&6)throw Error(W(327));var n=t.callbackNode;if(Go()&&t.callbackNode!==n)return null;var r=Rd(t,t===kt?jt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=qd(t,r);else{e=r;var i=Le;Le|=2;var s=ZP();(kt!==t||jt!==e)&&(jr=null,aa=yt()+500,Ds(t,e));do try{lO();break}catch(a){JP(t,a)}while(!0);Ny(),$d.current=s,Le=i,St!==null?e=0:(kt=null,jt=0,e=It)}if(e!==0){if(e===2&&(i=bm(t),i!==0&&(r=i,e=tg(t,i))),e===1)throw n=uu,Ds(t,0),bi(t,r),En(t,yt()),n;if(e===6)bi(t,r);else{if(i=t.current.alternate,!(r&30)&&!oO(i)&&(e=qd(t,r),e===2&&(s=bm(t),s!==0&&(r=s,e=tg(t,s))),e===1))throw n=uu,Ds(t,0),bi(t,r),En(t,yt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Ts(t,gn,jr);break;case 3:if(bi(t,r),(r&130023424)===r&&(e=Gy+500-yt(),10<e)){if(Rd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){on(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Lm(Ts.bind(null,t,gn,jr),e);break}Ts(t,gn,jr);break;case 4:if(bi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-rr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=yt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sO(r/1960))-r,10<r){t.timeoutHandle=Lm(Ts.bind(null,t,gn,jr),r);break}Ts(t,gn,jr);break;case 5:Ts(t,gn,jr);break;default:throw Error(W(329))}}}return En(t,yt()),t.callbackNode===n?YP.bind(null,t):null}function tg(t,e){var n=Ll;return t.current.memoizedState.isDehydrated&&(Ds(t,e).flags|=256),t=qd(t,e),t!==2&&(e=gn,gn=n,e!==null&&ng(e)),t}function ng(t){gn===null?gn=t:gn.push.apply(gn,t)}function oO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function bi(t,e){for(e&=~Ky,e&=~Kh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-rr(e),r=1<<n;t[n]=-1,e&=~r}}function yw(t){if(Le&6)throw Error(W(327));Go();var e=Rd(t,0);if(!(e&1))return En(t,yt()),null;var n=qd(t,e);if(t.tag!==0&&n===2){var r=bm(t);r!==0&&(e=r,n=tg(t,r))}if(n===1)throw n=uu,Ds(t,0),bi(t,e),En(t,yt()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ts(t,gn,jr),En(t,yt()),null}function Qy(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(aa=yt()+500,$h&&us())}}function Hs(t){Di!==null&&Di.tag===0&&!(Le&6)&&Go();var e=Le;Le|=1;var n=Hn.transition,r=Ue;try{if(Hn.transition=null,Ue=1,t)return t()}finally{Ue=r,Hn.transition=n,Le=e,!(Le&6)&&us()}}function Xy(){Pn=Mo.current,Ye(Mo)}function Ds(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,M2(n)),St!==null)for(n=St.return;n!==null;){var r=n;switch(Ay(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nd();break;case 3:sa(),Ye(_n),Ye(Zt),Fy();break;case 5:jy(r);break;case 4:sa();break;case 13:Ye(ot);break;case 19:Ye(ot);break;case 10:Dy(r.type._context);break;case 22:case 23:Xy()}n=n.return}if(kt=t,St=t=Wi(t.current,null),jt=Pn=e,It=0,uu=null,Ky=Kh=$s=0,gn=Ll=null,Cs!==null){for(e=0;e<Cs.length;e++)if(n=Cs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Cs=null}return t}function JP(t,e){do{var n=St;try{if(Ny(),td.current=zd,Bd){for(var r=lt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Bd=!1}if(zs=0,At=xt=lt=null,Nl=!1,ou=0,qy.current=null,n===null||n.return===null){It=1,uu=e,St=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=jt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=iw(o);if(y!==null){y.flags&=-257,sw(y,o,a,s,e),y.mode&1&&rw(s,c,e),e=y,l=c;var T=e.updateQueue;if(T===null){var S=new Set;S.add(l),e.updateQueue=S}else T.add(l);break e}else{if(!(e&1)){rw(s,c,e),Yy();break e}l=Error(W(426))}}else if(rt&&a.mode&1){var I=iw(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),sw(I,o,a,s,e),ky(oa(l,a));break e}}s=l=oa(l,a),It!==4&&(It=2),Ll===null?Ll=[s]:Ll.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=LP(s,l,e);Y_(s,w);break e;case 1:a=l;var g=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&($i===null||!$i.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=MP(s,a,e);Y_(s,A);break e}}s=s.return}while(s!==null)}tx(n)}catch(M){e=M,St===n&&n!==null&&(St=n=n.return);continue}break}while(!0)}function ZP(){var t=$d.current;return $d.current=zd,t===null?zd:t}function Yy(){(It===0||It===3||It===2)&&(It=4),kt===null||!($s&268435455)&&!(Kh&268435455)||bi(kt,jt)}function qd(t,e){var n=Le;Le|=2;var r=ZP();(kt!==t||jt!==e)&&(jr=null,Ds(t,e));do try{aO();break}catch(i){JP(t,i)}while(!0);if(Ny(),Le=n,$d.current=r,St!==null)throw Error(W(261));return kt=null,jt=0,It}function aO(){for(;St!==null;)ex(St)}function lO(){for(;St!==null&&!Nk();)ex(St)}function ex(t){var e=rx(t.alternate,t,Pn);t.memoizedProps=t.pendingProps,e===null?tx(t):St=e,qy.current=null}function tx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=tO(n,e),n!==null){n.flags&=32767,St=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{It=6,St=null;return}}else if(n=eO(n,e,Pn),n!==null){St=n;return}if(e=e.sibling,e!==null){St=e;return}St=e=t}while(e!==null);It===0&&(It=5)}function Ts(t,e,n){var r=Ue,i=Hn.transition;try{Hn.transition=null,Ue=1,uO(t,e,n,r)}finally{Hn.transition=i,Ue=r}return null}function uO(t,e,n,r){do Go();while(Di!==null);if(Le&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if($k(t,s),t===kt&&(St=kt=null,jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Nc||(Nc=!0,ix(bd,function(){return Go(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Hn.transition,Hn.transition=null;var o=Ue;Ue=1;var a=Le;Le|=4,qy.current=null,rO(t,n),QP(n,t),C2(Nm),Cd=!!Om,Nm=Om=null,t.current=n,iO(n),Dk(),Le=a,Ue=o,Hn.transition=s}else t.current=n;if(Nc&&(Nc=!1,Di=t,Wd=i),s=t.pendingLanes,s===0&&($i=null),Vk(n.stateNode),En(t,yt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hd)throw Hd=!1,t=Zm,Zm=null,t;return Wd&1&&t.tag!==0&&Go(),s=t.pendingLanes,s&1?t===eg?Ml++:(Ml=0,eg=t):Ml=0,us(),null}function Go(){if(Di!==null){var t=LS(Wd),e=Hn.transition,n=Ue;try{if(Hn.transition=null,Ue=16>t?16:t,Di===null)var r=!1;else{if(t=Di,Di=null,Wd=0,Le&6)throw Error(W(331));var i=Le;for(Le|=4,Z=t.current;Z!==null;){var s=Z,o=s.child;if(Z.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Z=c;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:Dl(8,d,s)}var h=d.child;if(h!==null)h.return=d,Z=h;else for(;Z!==null;){d=Z;var f=d.sibling,y=d.return;if(qP(d),d===c){Z=null;break}if(f!==null){f.return=y,Z=f;break}Z=y}}}var T=s.alternate;if(T!==null){var S=T.child;if(S!==null){T.child=null;do{var I=S.sibling;S.sibling=null,S=I}while(S!==null)}}Z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Z=o;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Dl(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,Z=w;break e}Z=s.return}}var g=t.current;for(Z=g;Z!==null;){o=Z;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,Z=_;else e:for(o=g;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:qh(9,a)}}catch(M){pt(a,a.return,M)}if(a===o){Z=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,Z=A;break e}Z=a.return}}if(Le=i,us(),vr&&typeof vr.onPostCommitFiberRoot=="function")try{vr.onPostCommitFiberRoot(jh,t)}catch{}r=!0}return r}finally{Ue=n,Hn.transition=e}}return!1}function vw(t,e,n){e=oa(n,e),e=LP(t,e,1),t=zi(t,e,1),e=on(),t!==null&&(Au(t,1,e),En(t,e))}function pt(t,e,n){if(t.tag===3)vw(t,t,n);else for(;e!==null;){if(e.tag===3){vw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($i===null||!$i.has(r))){t=oa(n,t),t=MP(e,t,1),e=zi(e,t,1),t=on(),e!==null&&(Au(e,1,t),En(e,t));break}}e=e.return}}function cO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=on(),t.pingedLanes|=t.suspendedLanes&n,kt===t&&(jt&n)===n&&(It===4||It===3&&(jt&130023424)===jt&&500>yt()-Gy?Ds(t,0):Ky|=n),En(t,e)}function nx(t,e){e===0&&(t.mode&1?(e=Sc,Sc<<=1,!(Sc&130023424)&&(Sc=4194304)):e=1);var n=on();t=ri(t,e),t!==null&&(Au(t,e,n),En(t,n))}function dO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),nx(t,n)}function hO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),nx(t,n)}var rx;rx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_n.current)vn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return vn=!1,Z2(t,e,n);vn=!!(t.flags&131072)}else vn=!1,rt&&e.flags&1048576&&aP(e,Md,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rd(t,e),t=e.pendingProps;var i=na(e,Zt.current);Ko(e,n),i=By(null,e,r,t,i,n);var s=zy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wn(r)?(s=!0,Dd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,My(e),i.updater=Wh,e.stateNode=i,i._reactInternals=e,zm(e,r,t,n),e=Wm(null,e,r,!0,s,n)):(e.tag=0,rt&&s&&Cy(e),rn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(rd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=pO(r),t=Jn(r,t),i){case 0:e=Hm(null,e,r,t,n);break e;case 1:e=lw(null,e,r,t,n);break e;case 11:e=ow(null,e,r,t,n);break e;case 14:e=aw(null,e,r,Jn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jn(r,i),Hm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jn(r,i),lw(t,e,r,i,n);case 3:e:{if(UP(e),t===null)throw Error(W(387));r=e.pendingProps,s=e.memoizedState,i=s.element,fP(t,e),Fd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=oa(Error(W(423)),e),e=uw(t,e,r,n,i);break e}else if(r!==i){i=oa(Error(W(424)),e),e=uw(t,e,r,n,i);break e}else for(In=Bi(e.stateNode.containerInfo.firstChild),An=e,rt=!0,tr=null,n=dP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ra(),r===i){e=ii(t,e,n);break e}rn(t,e,r,n)}e=e.child}return e;case 5:return pP(e),t===null&&Fm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Dm(r,i)?o=null:s!==null&&Dm(r,s)&&(e.flags|=32),FP(t,e),rn(t,e,o,n),e.child;case 6:return t===null&&Fm(e),null;case 13:return BP(t,e,n);case 4:return Vy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ia(e,null,r,n):rn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jn(r,i),ow(t,e,r,i,n);case 7:return rn(t,e,e.pendingProps,n),e.child;case 8:return rn(t,e,e.pendingProps.children,n),e.child;case 12:return rn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,qe(Vd,r._currentValue),r._currentValue=o,s!==null)if(or(s.value,o)){if(s.children===i.children&&!_n.current){e=ii(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=qr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Um(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Um(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}rn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ko(e,n),i=Wn(i),r=r(i),e.flags|=1,rn(t,e,r,n),e.child;case 14:return r=e.type,i=Jn(r,e.pendingProps),i=Jn(r.type,i),aw(t,e,r,i,n);case 15:return VP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jn(r,i),rd(t,e),e.tag=1,wn(r)?(t=!0,Dd(e)):t=!1,Ko(e,n),DP(e,r,i),zm(e,r,i,n),Wm(null,e,r,!0,t,n);case 19:return zP(t,e,n);case 22:return jP(t,e,n)}throw Error(W(156,e.tag))};function ix(t,e){return kS(t,e)}function fO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(t,e,n,r){return new fO(t,e,n,r)}function Jy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pO(t){if(typeof t=="function")return Jy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===yy)return 11;if(t===vy)return 14}return 2}function Wi(t,e){var n=t.alternate;return n===null?(n=$n(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function od(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Jy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Io:return Ls(n.children,i,s,e);case gy:o=8,i|=8;break;case hm:return t=$n(12,n,e,i|2),t.elementType=hm,t.lanes=s,t;case fm:return t=$n(13,n,e,i),t.elementType=fm,t.lanes=s,t;case pm:return t=$n(19,n,e,i),t.elementType=pm,t.lanes=s,t;case pS:return Gh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hS:o=10;break e;case fS:o=9;break e;case yy:o=11;break e;case vy:o=14;break e;case Si:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=$n(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ls(t,e,n,r){return t=$n(7,t,r,e),t.lanes=n,t}function Gh(t,e,n,r){return t=$n(22,t,r,e),t.elementType=pS,t.lanes=n,t.stateNode={isHidden:!1},t}function Ep(t,e,n){return t=$n(6,t,null,e),t.lanes=n,t}function Tp(t,e,n){return e=$n(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=np(0),this.expirationTimes=np(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=np(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zy(t,e,n,r,i,s,o,a,l){return t=new mO(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=$n(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},My(s),t}function gO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function sx(t){if(!t)return Xi;t=t._reactInternals;e:{if(eo(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(wn(n))return sP(t,n,e)}return e}function ox(t,e,n,r,i,s,o,a,l){return t=Zy(n,r,!0,t,i,s,o,a,l),t.context=sx(null),n=t.current,r=on(),i=Hi(n),s=qr(r,i),s.callback=e??null,zi(n,s,i),t.current.lanes=i,Au(t,i,r),En(t,r),t}function Qh(t,e,n,r){var i=e.current,s=on(),o=Hi(i);return n=sx(n),e.context===null?e.context=n:e.pendingContext=n,e=qr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=zi(i,e,o),t!==null&&(ir(t,i,o,s),ed(t,i,o)),o}function Kd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _w(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ev(t,e){_w(t,e),(t=t.alternate)&&_w(t,e)}function yO(){return null}var ax=typeof reportError=="function"?reportError:function(t){console.error(t)};function tv(t){this._internalRoot=t}Xh.prototype.render=tv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Qh(t,e,null,null)};Xh.prototype.unmount=tv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Hs(function(){Qh(null,t,null,null)}),e[ni]=null}};function Xh(t){this._internalRoot=t}Xh.prototype.unstable_scheduleHydration=function(t){if(t){var e=jS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ii.length&&e!==0&&e<Ii[n].priority;n++);Ii.splice(n,0,t),n===0&&US(t)}};function nv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ww(){}function vO(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Kd(o);s.call(c)}}var o=ox(e,r,t,0,null,!1,!1,"",ww);return t._reactRootContainer=o,t[ni]=o.current,tu(t.nodeType===8?t.parentNode:t),Hs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Kd(l);a.call(c)}}var l=Zy(t,0,!1,null,null,!1,!1,"",ww);return t._reactRootContainer=l,t[ni]=l.current,tu(t.nodeType===8?t.parentNode:t),Hs(function(){Qh(e,l,n,r)}),l}function Jh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Kd(o);a.call(l)}}Qh(e,o,t,i)}else o=vO(n,e,t,i,r);return Kd(o)}MS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=yl(e.pendingLanes);n!==0&&(Ey(e,n|1),En(e,yt()),!(Le&6)&&(aa=yt()+500,us()))}break;case 13:Hs(function(){var r=ri(t,1);if(r!==null){var i=on();ir(r,t,1,i)}}),ev(t,1)}};Ty=function(t){if(t.tag===13){var e=ri(t,134217728);if(e!==null){var n=on();ir(e,t,134217728,n)}ev(t,134217728)}};VS=function(t){if(t.tag===13){var e=Hi(t),n=ri(t,e);if(n!==null){var r=on();ir(n,t,e,r)}ev(t,e)}};jS=function(){return Ue};FS=function(t,e){var n=Ue;try{return Ue=t,e()}finally{Ue=n}};Pm=function(t,e,n){switch(e){case"input":if(ym(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=zh(r);if(!i)throw Error(W(90));gS(r),ym(r,i)}}}break;case"textarea":vS(t,n);break;case"select":e=n.value,e!=null&&$o(t,!!n.multiple,e,!1)}};xS=Qy;IS=Hs;var _O={usingClientEntryPoint:!1,Events:[Ou,Ao,zh,SS,PS,Qy]},ul={findFiberByHostInstance:Rs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wO={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ui.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=CS(t),t===null?null:t.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||yO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{jh=Dc.inject(wO),vr=Dc}catch{}}Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_O;Dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nv(e))throw Error(W(200));return gO(t,e,null,n)};Dn.createRoot=function(t,e){if(!nv(t))throw Error(W(299));var n=!1,r="",i=ax;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Zy(t,1,!1,null,null,n,!1,r,i),t[ni]=e.current,tu(t.nodeType===8?t.parentNode:t),new tv(e)};Dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=CS(e),t=t===null?null:t.stateNode,t};Dn.flushSync=function(t){return Hs(t)};Dn.hydrate=function(t,e,n){if(!Yh(e))throw Error(W(200));return Jh(null,t,e,!0,n)};Dn.hydrateRoot=function(t,e,n){if(!nv(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=ax;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ox(e,null,t,1,n??null,i,!1,s,o),t[ni]=e.current,tu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Xh(e)};Dn.render=function(t,e,n){if(!Yh(e))throw Error(W(200));return Jh(null,t,e,!1,n)};Dn.unmountComponentAtNode=function(t){if(!Yh(t))throw Error(W(40));return t._reactRootContainer?(Hs(function(){Jh(null,null,t,!1,function(){t._reactRootContainer=null,t[ni]=null})}),!0):!1};Dn.unstable_batchedUpdates=Qy;Dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yh(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Jh(t,e,n,!1,r)};Dn.version="18.3.1-next-f1338f8080-20240426";function lx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lx)}catch(t){console.error(t)}}lx(),lS.exports=Dn;var rv=lS.exports;const EO=ly(rv),TO=XT({__proto__:null,default:EO},[rv]);var Ew=rv;cm.createRoot=Ew.createRoot,cm.hydrateRoot=Ew.hydrateRoot;function ux(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=ux(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Li(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=ux(t))&&(r&&(r+=" "),r+=e);return r}const cu=t=>typeof t=="number"&&!isNaN(t),Ms=t=>typeof t=="string",bn=t=>typeof t=="function",ad=t=>Ms(t)||bn(t)?t:null,rg=t=>L.isValidElement(t)||Ms(t)||bn(t)||cu(t);function SO(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function Zh(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:l,preventExitTransition:c,done:d,nodeRef:h,isIn:f,playToast:y}=o;const T=r?`${e}--${l}`:e,S=r?`${n}--${l}`:n,I=L.useRef(0);return L.useLayoutEffect(()=>{const w=h.current,g=T.split(" "),_=A=>{A.target===h.current&&(y(),w.removeEventListener("animationend",_),w.removeEventListener("animationcancel",_),I.current===0&&A.type!=="animationcancel"&&w.classList.remove(...g))};w.classList.add(...g),w.addEventListener("animationend",_),w.addEventListener("animationcancel",_)},[]),L.useEffect(()=>{const w=h.current,g=()=>{w.removeEventListener("animationend",g),i?SO(w,d,s):d()};f||(c?g():(I.current=1,w.className+=` ${S}`,w.addEventListener("animationend",g)))},[f]),be.createElement(be.Fragment,null,a)}}function Tw(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const sn=new Map;let du=[];const ig=new Set,PO=t=>ig.forEach(e=>e(t)),cx=()=>sn.size>0;function dx(t,e){var n;if(e)return!((n=sn.get(e))==null||!n.isToastActive(t));let r=!1;return sn.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function hx(t,e){rg(t)&&(cx()||du.push({content:t,options:e}),sn.forEach(n=>{n.buildToast(t,e)}))}function Sw(t,e){sn.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function xO(t){const{subscribe:e,getSnapshot:n,setProps:r}=L.useRef(function(s){const o=s.containerId||1;return{subscribe(a){const l=function(d,h,f){let y=1,T=0,S=[],I=[],w=[],g=h;const _=new Map,A=new Set,M=()=>{w=Array.from(_.values()),A.forEach(v=>v())},k=v=>{I=v==null?[]:I.filter(E=>E!==v),M()},R=v=>{const{toastId:E,onOpen:P,updateId:O,children:N}=v.props,C=O==null;v.staleId&&_.delete(v.staleId),_.set(E,v),I=[...I,v.props.toastId].filter(q=>q!==v.staleId),M(),f(Tw(v,C?"added":"updated")),C&&bn(P)&&P(L.isValidElement(N)&&N.props)};return{id:d,props:g,observe:v=>(A.add(v),()=>A.delete(v)),toggle:(v,E)=>{_.forEach(P=>{E!=null&&E!==P.props.toastId||bn(P.toggle)&&P.toggle(v)})},removeToast:k,toasts:_,clearQueue:()=>{T-=S.length,S=[]},buildToast:(v,E)=>{if((he=>{let{containerId:fe,toastId:De,updateId:Ce}=he;const Ke=fe?fe!==d:d!==1,vt=_.has(De)&&Ce==null;return Ke||vt})(E))return;const{toastId:P,updateId:O,data:N,staleId:C,delay:q}=E,Ve=()=>{k(P)},Ne=O==null;Ne&&T++;const re={...g,style:g.toastStyle,key:y++,...Object.fromEntries(Object.entries(E).filter(he=>{let[fe,De]=he;return De!=null})),toastId:P,updateId:O,data:N,closeToast:Ve,isIn:!1,className:ad(E.className||g.toastClassName),bodyClassName:ad(E.bodyClassName||g.bodyClassName),progressClassName:ad(E.progressClassName||g.progressClassName),autoClose:!E.isLoading&&(H=E.autoClose,Q=g.autoClose,H===!1||cu(H)&&H>0?H:Q),deleteToast(){const he=_.get(P),{onClose:fe,children:De}=he.props;bn(fe)&&fe(L.isValidElement(De)&&De.props),f(Tw(he,"removed")),_.delete(P),T--,T<0&&(T=0),S.length>0?R(S.shift()):M()}};var H,Q;re.closeButton=g.closeButton,E.closeButton===!1||rg(E.closeButton)?re.closeButton=E.closeButton:E.closeButton===!0&&(re.closeButton=!rg(g.closeButton)||g.closeButton);let ie=v;L.isValidElement(v)&&!Ms(v.type)?ie=L.cloneElement(v,{closeToast:Ve,toastProps:re,data:N}):bn(v)&&(ie=v({closeToast:Ve,toastProps:re,data:N}));const de={content:ie,props:re,staleId:C};g.limit&&g.limit>0&&T>g.limit&&Ne?S.push(de):cu(q)?setTimeout(()=>{R(de)},q):R(de)},setProps(v){g=v},setToggle:(v,E)=>{_.get(v).toggle=E},isToastActive:v=>I.some(E=>E===v),getSnapshot:()=>w}}(o,s,PO);sn.set(o,l);const c=l.observe(a);return du.forEach(d=>hx(d.content,d.options)),du=[],()=>{c(),sn.delete(o)}},setProps(a){var l;(l=sn.get(o))==null||l.setProps(a)},getSnapshot(){var a;return(a=sn.get(o))==null?void 0:a.getSnapshot()}}}(t)).current;r(t);const i=L.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!i)return[];const o=new Map;return t.newestOnTop&&i.reverse(),i.forEach(a=>{const{position:l}=a.props;o.has(l)||o.set(l,[]),o.get(l).push(a)}),Array.from(o,a=>s(a[0],a[1]))},isToastActive:dx,count:i==null?void 0:i.length}}function IO(t){const[e,n]=L.useState(!1),[r,i]=L.useState(!1),s=L.useRef(null),o=L.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:d,closeOnClick:h}=t;var f,y;function T(){n(!0)}function S(){n(!1)}function I(_){const A=s.current;o.canDrag&&A&&(o.didMove=!0,e&&S(),o.delta=t.draggableDirection==="x"?_.clientX-o.start:_.clientY-o.start,o.start!==_.clientX&&(o.canCloseOnClick=!1),A.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,A.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function w(){document.removeEventListener("pointermove",I),document.removeEventListener("pointerup",w);const _=s.current;if(o.canDrag&&o.didMove&&_){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();_.style.transition="transform 0.2s, opacity 0.2s",_.style.removeProperty("transform"),_.style.removeProperty("opacity")}}(y=sn.get((f={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||y.setToggle(f.id,f.fn),L.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||S(),window.addEventListener("focus",T),window.addEventListener("blur",S),()=>{window.removeEventListener("focus",T),window.removeEventListener("blur",S)}},[t.pauseOnFocusLoss]);const g={onPointerDown:function(_){if(t.draggable===!0||t.draggable===_.pointerType){o.didMove=!1,document.addEventListener("pointermove",I),document.addEventListener("pointerup",w);const A=s.current;o.canCloseOnClick=!0,o.canDrag=!0,A.style.transition="none",t.draggableDirection==="x"?(o.start=_.clientX,o.removalDistance=A.offsetWidth*(t.draggablePercent/100)):(o.start=_.clientY,o.removalDistance=A.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(_){const{top:A,bottom:M,left:k,right:R}=s.current.getBoundingClientRect();_.nativeEvent.type!=="touchend"&&t.pauseOnHover&&_.clientX>=k&&_.clientX<=R&&_.clientY>=A&&_.clientY<=M?S():T()}};return a&&l&&(g.onMouseEnter=S,t.stacked||(g.onMouseLeave=T)),h&&(g.onClick=_=>{d&&d(_),o.canCloseOnClick&&c()}),{playToast:T,pauseToast:S,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:g}}function bO(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:c,rtl:d,isIn:h,theme:f}=t;const y=s||l&&c===0,T={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};l&&(T.transform=`scaleX(${c})`);const S=Li("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),I=bn(o)?o({rtl:d,type:i,defaultClassName:S}):Li(S,o),w={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{h&&r()}};return be.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},be.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${i}`}),be.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:I,style:T,...w}))}let RO=1;const fx=()=>""+RO++;function CO(t){return t&&(Ms(t.toastId)||cu(t.toastId))?t.toastId:fx()}function Vl(t,e){return hx(t,e),e.toastId}function Gd(t,e){return{...e,type:e&&e.type||t,toastId:CO(e)}}function Lc(t){return(e,n)=>Vl(e,Gd(t,n))}function ve(t,e){return Vl(t,Gd("default",e))}ve.loading=(t,e)=>Vl(t,Gd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),ve.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=Ms(i)?ve.loading(i,n):ve.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,h,f)=>{if(h==null)return void ve.dismiss(r);const y={type:d,...a,...n,data:f},T=Ms(h)?{render:h}:h;return r?ve.update(r,{...y,...T}):ve(T.render,{...y,...T}),f},c=bn(t)?t():t;return c.then(d=>l("success",o,d)).catch(d=>l("error",s,d)),c},ve.success=Lc("success"),ve.info=Lc("info"),ve.error=Lc("error"),ve.warning=Lc("warning"),ve.warn=ve.warning,ve.dark=(t,e)=>Vl(t,Gd("default",{theme:"dark",...e})),ve.dismiss=function(t){(function(e){var n;if(cx()){if(e==null||Ms(n=e)||cu(n))sn.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=sn.get(e.containerId);r?r.removeToast(e.id):sn.forEach(i=>{i.removeToast(e.id)})}}else du=du.filter(r=>e!=null&&r.options.toastId!==e)})(t)},ve.clearWaitingQueue=function(t){t===void 0&&(t={}),sn.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},ve.isActive=dx,ve.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var s;let{containerId:o}=i;return(s=sn.get(o||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:fx()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,Vl(o,s)}},ve.done=t=>{ve.update(t,{progress:1})},ve.onChange=function(t){return ig.add(t),()=>{ig.delete(t)}},ve.play=t=>Sw(!0,t),ve.pause=t=>Sw(!1,t);const AO=typeof window<"u"?L.useLayoutEffect:L.useEffect,Mc=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return be.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},Sp={info:function(t){return be.createElement(Mc,{...t},be.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return be.createElement(Mc,{...t},be.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return be.createElement(Mc,{...t},be.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return be.createElement(Mc,{...t},be.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return be.createElement("div",{className:"Toastify__spinner"})}},kO=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=IO(t),{closeButton:o,children:a,autoClose:l,onClick:c,type:d,hideProgressBar:h,closeToast:f,transition:y,position:T,className:S,style:I,bodyClassName:w,bodyStyle:g,progressClassName:_,progressStyle:A,updateId:M,role:k,progress:R,rtl:v,toastId:E,deleteToast:P,isIn:O,isLoading:N,closeOnClick:C,theme:q}=t,Ve=Li("Toastify__toast",`Toastify__toast-theme--${q}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":v},{"Toastify__toast--close-on-click":C}),Ne=bn(S)?S({rtl:v,position:T,type:d,defaultClassName:Ve}):Li(Ve,S),re=function(de){let{theme:he,type:fe,isLoading:De,icon:Ce}=de,Ke=null;const vt={theme:he,type:fe};return Ce===!1||(bn(Ce)?Ke=Ce({...vt,isLoading:De}):L.isValidElement(Ce)?Ke=L.cloneElement(Ce,vt):De?Ke=Sp.spinner():(Fa=>Fa in Sp)(fe)&&(Ke=Sp[fe](vt))),Ke}(t),H=!!R||!l,Q={closeToast:f,type:d,theme:q};let ie=null;return o===!1||(ie=bn(o)?o(Q):L.isValidElement(o)?L.cloneElement(o,Q):function(de){let{closeToast:he,theme:fe,ariaLabel:De="close"}=de;return be.createElement("button",{className:`Toastify__close-button Toastify__close-button--${fe}`,type:"button",onClick:Ce=>{Ce.stopPropagation(),he(Ce)},"aria-label":De},be.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},be.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Q)),be.createElement(y,{isIn:O,done:P,position:T,preventExitTransition:n,nodeRef:r,playToast:s},be.createElement("div",{id:E,onClick:c,"data-in":O,className:Ne,...i,style:I,ref:r},be.createElement("div",{...O&&{role:k},className:bn(w)?w({type:d}):Li("Toastify__toast-body",w),style:g},re!=null&&be.createElement("div",{className:Li("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!N})},re),be.createElement("div",null,a)),ie,be.createElement(bO,{...M&&!H?{key:`pb-${M}`}:{},rtl:v,theme:q,delay:l,isRunning:e,isIn:O,closeToast:f,hide:h,type:d,style:A,className:_,controlledProgress:H,progress:R||0})))},ef=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},OO=Zh(ef("bounce",!0));Zh(ef("slide",!0));Zh(ef("zoom"));Zh(ef("flip"));const NO={position:"top-right",transition:OO,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function DO(t){let e={...NO,...t};const n=t.stacked,[r,i]=L.useState(!0),s=L.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=xO(e),{className:c,style:d,rtl:h,containerId:f}=e;function y(S){const I=Li("Toastify__toast-container",`Toastify__toast-container--${S}`,{"Toastify__toast-container--rtl":h});return bn(c)?c({position:S,rtl:h,defaultClassName:I}):Li(I,ad(c))}function T(){n&&(i(!0),ve.play())}return AO(()=>{if(n){var S;const I=s.current.querySelectorAll('[data-in="true"]'),w=12,g=(S=e.position)==null?void 0:S.includes("top");let _=0,A=0;Array.from(I).reverse().forEach((M,k)=>{const R=M;R.classList.add("Toastify__toast--stacked"),k>0&&(R.dataset.collapsed=`${r}`),R.dataset.pos||(R.dataset.pos=g?"top":"bot");const v=_*(r?.2:1)+(r?0:w*k);R.style.setProperty("--y",`${g?v:-1*v}px`),R.style.setProperty("--g",`${w}`),R.style.setProperty("--s",""+(1-(r?A:0))),_+=R.offsetHeight,A+=.025})}},[r,l,n]),be.createElement("div",{ref:s,className:"Toastify",id:f,onMouseEnter:()=>{n&&(i(!1),ve.pause())},onMouseLeave:T},o((S,I)=>{const w=I.length?{...d}:{...d,pointerEvents:"none"};return be.createElement("div",{className:y(S),style:w,key:`container-${S}`},I.map(g=>{let{content:_,props:A}=g;return be.createElement(kO,{...A,stacked:n,collapseAll:T,isIn:a(A.toastId,A.containerId),style:A.style,key:`toast-${A.key}`},_)}))}))}var Pw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},LO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},mx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,y=c&63;l||(y=64,o||(f=64)),r.push(n[d],n[h],n[f],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(px(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):LO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new MO;const f=s<<2|a>>4;if(r.push(f),c!==64){const y=a<<4&240|c>>2;if(r.push(y),h!==64){const T=c<<6&192|h;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class MO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VO=function(t){const e=px(t);return mx.encodeByteArray(e,!0)},Qd=function(t){return VO(t).replace(/\./g,"")},gx=function(t){try{return mx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=()=>jO().__FIREBASE_DEFAULTS__,UO=()=>{if(typeof process>"u"||typeof Pw>"u")return;const t=Pw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},BO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gx(t[1]);return e&&JSON.parse(e)},tf=()=>{try{return FO()||UO()||BO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yx=t=>{var e,n;return(n=(e=tf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},vx=t=>{const e=yx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_x=()=>{var t;return(t=tf())===null||t===void 0?void 0:t.config},wx=t=>{var e;return(e=tf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zO=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qd(JSON.stringify(n)),Qd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $O(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function HO(){var t;const e=(t=tf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function KO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GO(){const t=en();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QO(){return!HO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XO(){try{return typeof indexedDB=="object"}catch{return!1}}function YO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO="FirebaseError";class Cr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=JO,Object.setPrototypeOf(this,Cr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Du.prototype.create)}}class Du{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?ZO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Cr(i,a,r)}}function ZO(t,e){return t.replace(eN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const eN=/\{\$([^}]+)}/g;function tN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(xw(s)&&xw(o)){if(!Xd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _l(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function wl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function nN(t,e){const n=new rN(t,e);return n.subscribe.bind(n)}class rN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");iN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Pp),i.error===void 0&&(i.error=Pp),i.complete===void 0&&(i.complete=Pp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Pp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t){return t&&t._delegate?t._delegate:t}class Yi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aN(e))try{this.getOrInitializeService({instanceIdentifier:Ss})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ss){return this.instances.has(e)}getOptions(e=Ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ss){return this.component?this.component.multipleInstances?e:Ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oN(t){return t===Ss?void 0:t}function aN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ie||(Ie={}));const uN={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},cN=Ie.INFO,dN={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},hN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=dN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iv{constructor(e){this.name=e,this._logLevel=cN,this._logHandler=hN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const fN=(t,e)=>e.some(n=>t instanceof n);let Iw,bw;function pN(){return Iw||(Iw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mN(){return bw||(bw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tx=new WeakMap,sg=new WeakMap,Sx=new WeakMap,xp=new WeakMap,sv=new WeakMap;function gN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(qi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Tx.set(n,t)}).catch(()=>{}),sv.set(e,t),e}function yN(t){if(sg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});sg.set(t,e)}let og={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Sx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vN(t){og=t(og)}function _N(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ip(this),e,...n);return Sx.set(r,e.sort?e.sort():[e]),qi(r)}:mN().includes(t)?function(...e){return t.apply(Ip(this),e),qi(Tx.get(this))}:function(...e){return qi(t.apply(Ip(this),e))}}function wN(t){return typeof t=="function"?_N(t):(t instanceof IDBTransaction&&yN(t),fN(t,pN())?new Proxy(t,og):t)}function qi(t){if(t instanceof IDBRequest)return gN(t);if(xp.has(t))return xp.get(t);const e=wN(t);return e!==t&&(xp.set(t,e),sv.set(e,t)),e}const Ip=t=>sv.get(t);function EN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=qi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(qi(o.result),l.oldVersion,l.newVersion,qi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const TN=["get","getKey","getAll","getAllKeys","count"],SN=["put","add","delete","clear"],bp=new Map;function Rw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bp.get(e))return bp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=SN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||TN.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return bp.set(e,s),s}vN(t=>({...t,get:(e,n,r)=>Rw(e,n)||t.get(e,n,r),has:(e,n)=>!!Rw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ag="@firebase/app",Cw="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new iv("@firebase/app"),IN="@firebase/app-compat",bN="@firebase/analytics-compat",RN="@firebase/analytics",CN="@firebase/app-check-compat",AN="@firebase/app-check",kN="@firebase/auth",ON="@firebase/auth-compat",NN="@firebase/database",DN="@firebase/data-connect",LN="@firebase/database-compat",MN="@firebase/functions",VN="@firebase/functions-compat",jN="@firebase/installations",FN="@firebase/installations-compat",UN="@firebase/messaging",BN="@firebase/messaging-compat",zN="@firebase/performance",$N="@firebase/performance-compat",HN="@firebase/remote-config",WN="@firebase/remote-config-compat",qN="@firebase/storage",KN="@firebase/storage-compat",GN="@firebase/firestore",QN="@firebase/vertexai",XN="@firebase/firestore-compat",YN="firebase",JN="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="[DEFAULT]",ZN={[ag]:"fire-core",[IN]:"fire-core-compat",[RN]:"fire-analytics",[bN]:"fire-analytics-compat",[AN]:"fire-app-check",[CN]:"fire-app-check-compat",[kN]:"fire-auth",[ON]:"fire-auth-compat",[NN]:"fire-rtdb",[DN]:"fire-data-connect",[LN]:"fire-rtdb-compat",[MN]:"fire-fn",[VN]:"fire-fn-compat",[jN]:"fire-iid",[FN]:"fire-iid-compat",[UN]:"fire-fcm",[BN]:"fire-fcm-compat",[zN]:"fire-perf",[$N]:"fire-perf-compat",[HN]:"fire-rc",[WN]:"fire-rc-compat",[qN]:"fire-gcs",[KN]:"fire-gcs-compat",[GN]:"fire-fst",[XN]:"fire-fst-compat",[QN]:"fire-vertex","fire-js":"fire-js",[YN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd=new Map,eD=new Map,ug=new Map;function Aw(t,e){try{t.container.addComponent(e)}catch(n){si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ws(t){const e=t.name;if(ug.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;ug.set(e,t);for(const n of Yd.values())Aw(n,t);for(const n of eD.values())Aw(n,t);return!0}function nf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ki=new Du("app","Firebase",tD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=JN;function Px(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:lg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ki.create("bad-app-name",{appName:String(i)});if(n||(n=_x()),!n)throw Ki.create("no-options");const s=Yd.get(i);if(s){if(Xd(n,s.options)&&Xd(r,s.config))return s;throw Ki.create("duplicate-app",{appName:i})}const o=new lN(i);for(const l of ug.values())o.addComponent(l);const a=new nD(n,r,o);return Yd.set(i,a),a}function ov(t=lg){const e=Yd.get(t);if(!e&&t===lg&&_x())return Px();if(!e)throw Ki.create("no-app",{appName:t});return e}function wr(t,e,n){var r;let i=(r=ZN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(a.join(" "));return}Ws(new Yi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="firebase-heartbeat-database",iD=1,hu="firebase-heartbeat-store";let Rp=null;function xx(){return Rp||(Rp=EN(rD,iD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ki.create("idb-open",{originalErrorMessage:t.message})})),Rp}async function sD(t){try{const n=(await xx()).transaction(hu),r=await n.objectStore(hu).get(Ix(t));return await n.done,r}catch(e){if(e instanceof Cr)si.warn(e.message);else{const n=Ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});si.warn(n.message)}}}async function kw(t,e){try{const r=(await xx()).transaction(hu,"readwrite");await r.objectStore(hu).put(e,Ix(t)),await r.done}catch(n){if(n instanceof Cr)si.warn(n.message);else{const r=Ki.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});si.warn(r.message)}}}function Ix(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=1024,aD=30*24*60*60*1e3;class lD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ow();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=aD}),this._storage.overwrite(this._heartbeatsCache))}catch(r){si.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ow(),{heartbeatsToSend:r,unsentEntries:i}=uD(this._heartbeatsCache.heartbeats),s=Qd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return si.warn(n),""}}}function Ow(){return new Date().toISOString().substring(0,10)}function uD(t,e=oD){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Nw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Nw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class cD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XO()?YO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return kw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return kw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Nw(t){return Qd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(t){Ws(new Yi("platform-logger",e=>new PN(e),"PRIVATE")),Ws(new Yi("heartbeat",e=>new lD(e),"PRIVATE")),wr(ag,Cw,t),wr(ag,Cw,"esm2017"),wr("fire-js","")}dD("");var hD="firebase",fD="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wr(hD,fD,"app");function av(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function bx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pD=bx,Rx=new Du("auth","Firebase",bx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new iv("@firebase/auth");function mD(t,...e){Jd.logLevel<=Ie.WARN&&Jd.warn(`Auth (${to}): ${t}`,...e)}function ld(t,...e){Jd.logLevel<=Ie.ERROR&&Jd.error(`Auth (${to}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t,...e){throw lv(t,...e)}function Er(t,...e){return lv(t,...e)}function Cx(t,e,n){const r=Object.assign(Object.assign({},pD()),{[e]:n});return new Du("auth","Firebase",r).create(e,{appName:t.name})}function Kr(t){return Cx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Rx.create(t,...e)}function pe(t,e,...n){if(!t)throw lv(e,...n)}function zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ld(e),new Error(e)}function oi(t,e){t||zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gD(){return Dw()==="http:"||Dw()==="https:"}function Dw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gD()||qO()||"connection"in navigator)?navigator.onLine:!0}function vD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n){this.shortDelay=e,this.longDelay=n,oi(n>e,"Short delay should be less than long delay!"),this.isMobile=$O()||KO()}get(){return yD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(t,e){oi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=new Mu(3e4,6e4);function ci(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function di(t,e,n,r,i={}){return kx(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Lu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return WO()||(c.referrerPolicy="no-referrer"),Ax.fetch()(Ox(t,t.config.apiHost,n,a),c)})}async function kx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},_D),e);try{const i=new TD(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Vc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Vc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Vc(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Cx(t,d,c);ar(t,d)}}catch(i){if(i instanceof Cr)throw i;ar(t,"network-request-failed",{message:String(i)})}}async function Vu(t,e,n,r,i={}){const s=await di(t,e,n,r,i);return"mfaPendingCredential"in s&&ar(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Ox(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?uv(t.config,i):`${t.config.apiScheme}://${i}`}function ED(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Er(this.auth,"network-request-failed")),wD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Er(t,e,r);return i.customData._tokenResponse=n,i}function Lw(t){return t!==void 0&&t.enterprise!==void 0}class SD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ED(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function PD(t,e){return di(t,"GET","/v2/recaptchaConfig",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(t,e){return di(t,"POST","/v1/accounts:delete",e)}async function Nx(t,e){return di(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ID(t,e=!1){const n=ct(t),r=await n.getIdToken(e),i=cv(r);pe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:jl(Cp(i.auth_time)),issuedAtTime:jl(Cp(i.iat)),expirationTime:jl(Cp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Cp(t){return Number(t)*1e3}function cv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ld("JWT malformed, contained fewer than 3 sections"),null;try{const i=gx(n);return i?JSON.parse(i):(ld("Failed to decode base64 JWT payload"),null)}catch(i){return ld("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Mw(t){const e=cv(t);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Cr&&bD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jl(this.lastLoginAt),this.creationTime=jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await fu(t,Nx(n,{idToken:r}));pe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Dx(s.providerUserInfo):[],a=AD(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new dg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function CD(t){const e=ct(t);await Zd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AD(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Dx(t){return t.map(e=>{var{providerId:n}=e,r=av(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(t,e){const n=await kx(t,{},async()=>{const r=Lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Ox(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ax.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function OD(t,e){return di(t,"POST","/v2/accounts:revokeToken",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Mw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const n=Mw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await kD(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Qo;return r&&(pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(pe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(pe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qo,this.toJSON())}_performRefresh(){return zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(t,e){pe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $r{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=av(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new dg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await fu(this,this.stsTokenManager.getToken(this.auth,e));return pe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ID(this,e)}reload(){return CD(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $r(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Zd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gr(this.auth.app))return Promise.reject(Kr(this.auth));const e=await this.getIdToken();return await fu(this,xD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,T=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,g=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:_,emailVerified:A,isAnonymous:M,providerData:k,stsTokenManager:R}=n;pe(_&&R,e,"internal-error");const v=Qo.fromJSON(this.name,R);pe(typeof _=="string",e,"internal-error"),wi(h,e.name),wi(f,e.name),pe(typeof A=="boolean",e,"internal-error"),pe(typeof M=="boolean",e,"internal-error"),wi(y,e.name),wi(T,e.name),wi(S,e.name),wi(I,e.name),wi(w,e.name),wi(g,e.name);const E=new $r({uid:_,auth:e,email:f,emailVerified:A,displayName:h,isAnonymous:M,photoURL:T,phoneNumber:y,tenantId:S,stsTokenManager:v,createdAt:w,lastLoginAt:g});return k&&Array.isArray(k)&&(E.providerData=k.map(P=>Object.assign({},P))),I&&(E._redirectEventId=I),E}static async _fromIdTokenResponse(e,n,r=!1){const i=new Qo;i.updateFromServerResponse(n);const s=new $r({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Zd(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];pe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Dx(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Qo;a.updateFromIdToken(r);const l=new $r({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new dg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=new Map;function Hr(t){oi(t instanceof Function,"Expected a class definition");let e=Vw.get(t);return e?(oi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Vw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Lx.type="NONE";const jw=Lx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(t,e,n){return`firebase:${t}:${e}:${n}`}class Xo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ud(this.userKey,i.apiKey,s),this.fullPersistenceKey=ud("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$r._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Xo(Hr(jw),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Hr(jw);const o=ud(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const h=$r._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Xo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Xo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Fx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Mx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Bx(e))return"Blackberry";if(zx(e))return"Webos";if(Vx(e))return"Safari";if((e.includes("chrome/")||jx(e))&&!e.includes("edge/"))return"Chrome";if(Ux(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Mx(t=en()){return/firefox\//i.test(t)}function Vx(t=en()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jx(t=en()){return/crios\//i.test(t)}function Fx(t=en()){return/iemobile/i.test(t)}function Ux(t=en()){return/android/i.test(t)}function Bx(t=en()){return/blackberry/i.test(t)}function zx(t=en()){return/webos/i.test(t)}function dv(t=en()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ND(t=en()){var e;return dv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function DD(){return GO()&&document.documentMode===10}function $x(t=en()){return dv(t)||Ux(t)||zx(t)||Bx(t)||/windows phone/i.test(t)||Fx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(t,e=[]){let n;switch(t){case"Browser":n=Fw(en());break;case"Worker":n=`${Fw(en())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${to}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MD(t,e={}){return di(t,"GET","/v2/passwordPolicy",ci(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=6;class jD{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:VD,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uw(this),this.idTokenSubscription=new Uw(this),this.beforeStateQueue=new LD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Rx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Xo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nx(this,{idToken:e}),r=await $r._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(gr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gr(this.app))return Promise.reject(Kr(this));const n=e?ct(e):null;return n&&pe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gr(this.app)?Promise.reject(Kr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gr(this.app)?Promise.reject(Kr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MD(this),n=new jD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Du("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await OD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hr(e)||this._popupRedirectResolver;pe(n,this,"argument-error"),this.redirectPersistenceManager=await Xo.create(this,[Hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&mD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function no(t){return ct(t)}class Uw{constructor(e){this.auth=e,this.observer=null,this.addObserver=nN(n=>this.observer=n)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UD(t){rf=t}function Wx(t){return rf.loadJS(t)}function BD(){return rf.recaptchaEnterpriseScript}function zD(){return rf.gapiScript}function $D(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class HD{constructor(){this.enterprise=new WD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class WD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const qD="recaptcha-enterprise",qx="NO_RECAPTCHA";class KD{constructor(e){this.type=qD,this.auth=no(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{PD(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new SD(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Lw(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(qx)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HD().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Lw(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=BD();l.length!==0&&(l+=a),Wx(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Bw(t,e,n,r=!1,i=!1){const s=new KD(t);let o;if(i)o=qx;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function hg(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Bw(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Bw(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(t,e){const n=nf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Xd(s,e??{}))return i;ar(i,"already-initialized")}return n.initialize({options:e})}function QD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Hr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function XD(t,e,n){const r=no(t);pe(r._canInitEmulator,r,"emulator-config-failed"),pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Kx(e),{host:o,port:a}=YD(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),JD()}function Kx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function YD(t){const e=Kx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:zw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:zw(o)}}}function zw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function JD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,n){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}async function ZD(t,e){return di(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eL(t,e){return Vu(t,"POST","/v1/accounts:signInWithPassword",ci(t,e))}async function tL(t,e){return di(t,"POST","/v1/accounts:sendOobCode",ci(t,e))}async function nL(t,e){return tL(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rL(t,e){return Vu(t,"POST","/v1/accounts:signInWithEmailLink",ci(t,e))}async function iL(t,e){return Vu(t,"POST","/v1/accounts:signInWithEmailLink",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends hv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new pu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new pu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hg(e,n,"signInWithPassword",eL);case"emailLink":return rL(e,{email:this._email,oobCode:this._password});default:ar(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hg(e,r,"signUpPassword",ZD);case"emailLink":return iL(e,{idToken:n,email:this._email,oobCode:this._password});default:ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yo(t,e){return Vu(t,"POST","/v1/accounts:signInWithIdp",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL="http://localhost";class qs extends hv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ar("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=av(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new qs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Yo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Yo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yo(e,n)}buildRequest(){const e={requestUri:sL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aL(t){const e=_l(wl(t)).link,n=e?_l(wl(e)).deep_link_id:null,r=_l(wl(t)).deep_link_id;return(r?_l(wl(r)).link:null)||r||n||e||t}class fv{constructor(e){var n,r,i,s,o,a;const l=_l(wl(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=oL((i=l.mode)!==null&&i!==void 0?i:null);pe(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=aL(e);try{return new fv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(){this.providerId=ba.PROVIDER_ID}static credential(e,n){return pu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=fv.parseLink(n);return pe(r,"argument-error"),pu._fromEmailAndCode(e,r.code,r.tenantId)}}ba.PROVIDER_ID="password";ba.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ba.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends Gx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends ju{constructor(){super("facebook.com")}static credential(e){return qs._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ri.credential(e.oauthAccessToken)}catch{return null}}}Ri.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ri.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return qs._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ci.credential(n,r)}catch{return null}}}Ci.GOOGLE_SIGN_IN_METHOD="google.com";Ci.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends ju{constructor(){super("github.com")}static credential(e){return qs._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.GITHUB_SIGN_IN_METHOD="github.com";Ai.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends ju{constructor(){super("twitter.com")}static credential(e,n){return qs._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ki.credential(n,r)}catch{return null}}}ki.TWITTER_SIGN_IN_METHOD="twitter.com";ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lL(t,e){return Vu(t,"POST","/v1/accounts:signUp",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await $r._fromIdTokenResponse(e,r,i),o=$w(r);return new Ks({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=$w(r);return new Ks({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function $w(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends Cr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,eh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new eh(e,n,r,i)}}function Qx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?eh._fromErrorAndOperation(t,s,e,r):s})}async function uL(t,e,n=!1){const r=await fu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ks._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cL(t,e,n=!1){const{auth:r}=t;if(gr(r.app))return Promise.reject(Kr(r));const i="reauthenticate";try{const s=await fu(t,Qx(r,i,e,t),n);pe(s.idToken,r,"internal-error");const o=cv(s.idToken);pe(o,r,"internal-error");const{sub:a}=o;return pe(t.uid===a,r,"user-mismatch"),Ks._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ar(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx(t,e,n=!1){if(gr(t.app))return Promise.reject(Kr(t));const r="signIn",i=await Qx(t,r,e),s=await Ks._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function dL(t,e){return Xx(no(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yx(t){const e=no(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hL(t,e,n){if(gr(t.app))return Promise.reject(Kr(t));const r=no(t),o=await hg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lL).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Yx(t),l}),a=await Ks._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function fL(t,e,n){return gr(t.app)?Promise.reject(Kr(t)):dL(ct(t),ba.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Yx(t),r})}async function pL(t,e){const n=ct(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:s}=await nL(n.auth,i);s!==t.email&&await t.reload()}function mL(t,e,n,r){return ct(t).onIdTokenChanged(e,n,r)}function gL(t,e,n){return ct(t).beforeAuthStateChanged(e,n)}function yL(t,e,n,r){return ct(t).onAuthStateChanged(e,n,r)}function vL(t){return ct(t).signOut()}const th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(th,"1"),this.storage.removeItem(th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=1e3,wL=10;class Zx extends Jx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$x(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);DD()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,wL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_L)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Zx.type="LOCAL";const EL=Zx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI extends Jx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eI.type="SESSION";const tI=eI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new sf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await TL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=pv("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(){return window}function PL(t){Tr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(){return typeof Tr().WorkerGlobalScope<"u"&&typeof Tr().importScripts=="function"}async function xL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function bL(){return nI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="firebaseLocalStorageDb",RL=1,nh="firebaseLocalStorage",iI="fbase_key";class Fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function of(t,e){return t.transaction([nh],e?"readwrite":"readonly").objectStore(nh)}function CL(){const t=indexedDB.deleteDatabase(rI);return new Fu(t).toPromise()}function fg(){const t=indexedDB.open(rI,RL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(nh,{keyPath:iI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(nh)?e(r):(r.close(),await CL(),e(await fg()))})})}async function Hw(t,e,n){const r=of(t,!0).put({[iI]:e,value:n});return new Fu(r).toPromise()}async function AL(t,e){const n=of(t,!1).get(e),r=await new Fu(n).toPromise();return r===void 0?null:r.value}function Ww(t,e){const n=of(t,!0).delete(e);return new Fu(n).toPromise()}const kL=800,OL=3;class sI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>OL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sf._getInstance(bL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await xL(),!this.activeServiceWorker)return;this.sender=new SL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||IL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fg();return await Hw(e,th,"1"),await Ww(e,th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Hw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>AL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ww(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=of(i,!1).getAll();return new Fu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sI.type="LOCAL";const NL=sI;new Mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(t,e){return e?Hr(e):(pe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv extends hv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function LL(t){return Xx(t.auth,new mv(t),t.bypassAuthState)}function ML(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),cL(n,new mv(t),t.bypassAuthState)}async function VL(t){const{auth:e,user:n}=t;return pe(n,e,"internal-error"),uL(n,new mv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LL;case"linkViaPopup":case"linkViaRedirect":return VL;case"reauthViaPopup":case"reauthViaRedirect":return ML;default:ar(this.auth,"internal-error")}}resolve(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=new Mu(2e3,1e4);class Vo extends oI{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Vo.currentPopupAction&&Vo.currentPopupAction.cancel(),Vo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){oi(this.filter.length===1,"Popup operations only handle one event");const e=pv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jL.get())};e()}}Vo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL="pendingRedirect",cd=new Map;class UL extends oI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=cd.get(this.auth._key());if(!e){try{const r=await BL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}cd.set(this.auth._key(),e)}return this.bypassAuthState||cd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BL(t,e){const n=HL(e),r=$L(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function zL(t,e){cd.set(t._key(),e)}function $L(t){return Hr(t._redirectPersistence)}function HL(t){return ud(FL,t.config.apiKey,t.name)}async function WL(t,e,n=!1){if(gr(t.app))return Promise.reject(Kr(t));const r=no(t),i=DL(r,e),o=await new UL(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=10*60*1e3;class KL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!aI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Er(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qL&&this.cachedEventUids.clear(),this.cachedEventUids.has(qw(e))}saveEventToCache(e){this.cachedEventUids.add(qw(e)),this.lastProcessedEventTime=Date.now()}}function qw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function aI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function GL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QL(t,e={}){return di(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YL=/^https?/;async function JL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await QL(t);for(const n of e)try{if(ZL(n))return}catch{}ar(t,"unauthorized-domain")}function ZL(t){const e=cg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!YL.test(n))return!1;if(XL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=new Mu(3e4,6e4);function Kw(){const t=Tr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function tM(t){return new Promise((e,n)=>{var r,i,s;function o(){Kw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Kw(),n(Er(t,"network-request-failed"))},timeout:eM.get()})}if(!((i=(r=Tr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Tr().gapi)===null||s===void 0)&&s.load)o();else{const a=$D("iframefcb");return Tr()[a]=()=>{gapi.load?o():n(Er(t,"network-request-failed"))},Wx(`${zD()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw dd=null,e})}let dd=null;function nM(t){return dd=dd||tM(t),dd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=new Mu(5e3,15e3),iM="__/auth/iframe",sM="emulator/auth/iframe",oM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lM(t){const e=t.config;pe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?uv(e,sM):`https://${t.config.authDomain}/${iM}`,r={apiKey:e.apiKey,appName:t.name,v:to},i=aM.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Lu(r).slice(1)}`}async function uM(t){const e=await nM(t),n=Tr().gapi;return pe(n,t,"internal-error"),e.open({where:document.body,url:lM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oM,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Er(t,"network-request-failed"),a=Tr().setTimeout(()=>{s(o)},rM.get());function l(){Tr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dM=500,hM=600,fM="_blank",pM="http://localhost";class Gw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mM(t,e,n,r=dM,i=hM){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},cM),{width:r.toString(),height:i.toString(),top:s,left:o}),c=en().toLowerCase();n&&(a=jx(c)?fM:n),Mx(c)&&(e=e||pM,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[y,T])=>`${f}${y}=${T},`,"");if(ND(c)&&a!=="_self")return gM(e||"",a),new Gw(null);const h=window.open(e||"",a,d);pe(h,t,"popup-blocked");try{h.focus()}catch{}return new Gw(h)}function gM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM="__/auth/handler",vM="emulator/auth/handler",_M=encodeURIComponent("fac");async function Qw(t,e,n,r,i,s){pe(t.config.authDomain,t,"auth-domain-config-required"),pe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:to,eventId:i};if(e instanceof Gx){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",tN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof ju){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${_M}=${encodeURIComponent(l)}`:"";return`${wM(t)}?${Lu(a).slice(1)}${c}`}function wM({config:t}){return t.emulator?uv(t,vM):`https://${t.authDomain}/${yM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="webStorageSupport";class EM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tI,this._completeRedirectFn=WL,this._overrideRedirectResult=zL}async _openPopup(e,n,r,i){var s;oi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Qw(e,n,r,cg(),i);return mM(e,o,pv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Qw(e,n,r,cg(),i);return PL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(oi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await uM(e),r=new KL(e);return n.register("authEvent",i=>(pe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ap,{type:Ap},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Ap];o!==void 0&&n(!!o),ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $x()||Vx()||dv()}}const TM=EM;var Xw="@firebase/auth",Yw="1.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xM(t){Ws(new Yi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hx(t)},c=new FD(r,i,s,l);return QD(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ws(new Yi("auth-internal",e=>{const n=no(e.getProvider("auth").getImmediate());return(r=>new SM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),wr(Xw,Yw,PM(t)),wr(Xw,Yw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=5*60,bM=wx("authIdTokenMaxAge")||IM;let Jw=null;const RM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>bM)return;const i=n==null?void 0:n.token;Jw!==i&&(Jw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function CM(t=ov()){const e=nf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=GD(t,{popupRedirectResolver:TM,persistence:[NL,EL,tI]}),r=wx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=RM(s.toString());gL(n,o,()=>o(n.currentUser)),mL(n,a=>o(a))}}const i=yx("auth");return i&&XD(n,`http://${i}`),n}function AM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}UD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Er("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",AM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xM("Browser");var Zw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vs,lI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,v){function E(){}E.prototype=v.prototype,R.D=v.prototype,R.prototype=new E,R.prototype.constructor=R,R.C=function(P,O,N){for(var C=Array(arguments.length-2),q=2;q<arguments.length;q++)C[q-2]=arguments[q];return v.prototype[O].apply(P,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,v,E){E||(E=0);var P=Array(16);if(typeof v=="string")for(var O=0;16>O;++O)P[O]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(O=0;16>O;++O)P[O]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=R.g[0],E=R.g[1],O=R.g[2];var N=R.g[3],C=v+(N^E&(O^N))+P[0]+3614090360&4294967295;v=E+(C<<7&4294967295|C>>>25),C=N+(O^v&(E^O))+P[1]+3905402710&4294967295,N=v+(C<<12&4294967295|C>>>20),C=O+(E^N&(v^E))+P[2]+606105819&4294967295,O=N+(C<<17&4294967295|C>>>15),C=E+(v^O&(N^v))+P[3]+3250441966&4294967295,E=O+(C<<22&4294967295|C>>>10),C=v+(N^E&(O^N))+P[4]+4118548399&4294967295,v=E+(C<<7&4294967295|C>>>25),C=N+(O^v&(E^O))+P[5]+1200080426&4294967295,N=v+(C<<12&4294967295|C>>>20),C=O+(E^N&(v^E))+P[6]+2821735955&4294967295,O=N+(C<<17&4294967295|C>>>15),C=E+(v^O&(N^v))+P[7]+4249261313&4294967295,E=O+(C<<22&4294967295|C>>>10),C=v+(N^E&(O^N))+P[8]+1770035416&4294967295,v=E+(C<<7&4294967295|C>>>25),C=N+(O^v&(E^O))+P[9]+2336552879&4294967295,N=v+(C<<12&4294967295|C>>>20),C=O+(E^N&(v^E))+P[10]+4294925233&4294967295,O=N+(C<<17&4294967295|C>>>15),C=E+(v^O&(N^v))+P[11]+2304563134&4294967295,E=O+(C<<22&4294967295|C>>>10),C=v+(N^E&(O^N))+P[12]+1804603682&4294967295,v=E+(C<<7&4294967295|C>>>25),C=N+(O^v&(E^O))+P[13]+4254626195&4294967295,N=v+(C<<12&4294967295|C>>>20),C=O+(E^N&(v^E))+P[14]+2792965006&4294967295,O=N+(C<<17&4294967295|C>>>15),C=E+(v^O&(N^v))+P[15]+1236535329&4294967295,E=O+(C<<22&4294967295|C>>>10),C=v+(O^N&(E^O))+P[1]+4129170786&4294967295,v=E+(C<<5&4294967295|C>>>27),C=N+(E^O&(v^E))+P[6]+3225465664&4294967295,N=v+(C<<9&4294967295|C>>>23),C=O+(v^E&(N^v))+P[11]+643717713&4294967295,O=N+(C<<14&4294967295|C>>>18),C=E+(N^v&(O^N))+P[0]+3921069994&4294967295,E=O+(C<<20&4294967295|C>>>12),C=v+(O^N&(E^O))+P[5]+3593408605&4294967295,v=E+(C<<5&4294967295|C>>>27),C=N+(E^O&(v^E))+P[10]+38016083&4294967295,N=v+(C<<9&4294967295|C>>>23),C=O+(v^E&(N^v))+P[15]+3634488961&4294967295,O=N+(C<<14&4294967295|C>>>18),C=E+(N^v&(O^N))+P[4]+3889429448&4294967295,E=O+(C<<20&4294967295|C>>>12),C=v+(O^N&(E^O))+P[9]+568446438&4294967295,v=E+(C<<5&4294967295|C>>>27),C=N+(E^O&(v^E))+P[14]+3275163606&4294967295,N=v+(C<<9&4294967295|C>>>23),C=O+(v^E&(N^v))+P[3]+4107603335&4294967295,O=N+(C<<14&4294967295|C>>>18),C=E+(N^v&(O^N))+P[8]+1163531501&4294967295,E=O+(C<<20&4294967295|C>>>12),C=v+(O^N&(E^O))+P[13]+2850285829&4294967295,v=E+(C<<5&4294967295|C>>>27),C=N+(E^O&(v^E))+P[2]+4243563512&4294967295,N=v+(C<<9&4294967295|C>>>23),C=O+(v^E&(N^v))+P[7]+1735328473&4294967295,O=N+(C<<14&4294967295|C>>>18),C=E+(N^v&(O^N))+P[12]+2368359562&4294967295,E=O+(C<<20&4294967295|C>>>12),C=v+(E^O^N)+P[5]+4294588738&4294967295,v=E+(C<<4&4294967295|C>>>28),C=N+(v^E^O)+P[8]+2272392833&4294967295,N=v+(C<<11&4294967295|C>>>21),C=O+(N^v^E)+P[11]+1839030562&4294967295,O=N+(C<<16&4294967295|C>>>16),C=E+(O^N^v)+P[14]+4259657740&4294967295,E=O+(C<<23&4294967295|C>>>9),C=v+(E^O^N)+P[1]+2763975236&4294967295,v=E+(C<<4&4294967295|C>>>28),C=N+(v^E^O)+P[4]+1272893353&4294967295,N=v+(C<<11&4294967295|C>>>21),C=O+(N^v^E)+P[7]+4139469664&4294967295,O=N+(C<<16&4294967295|C>>>16),C=E+(O^N^v)+P[10]+3200236656&4294967295,E=O+(C<<23&4294967295|C>>>9),C=v+(E^O^N)+P[13]+681279174&4294967295,v=E+(C<<4&4294967295|C>>>28),C=N+(v^E^O)+P[0]+3936430074&4294967295,N=v+(C<<11&4294967295|C>>>21),C=O+(N^v^E)+P[3]+3572445317&4294967295,O=N+(C<<16&4294967295|C>>>16),C=E+(O^N^v)+P[6]+76029189&4294967295,E=O+(C<<23&4294967295|C>>>9),C=v+(E^O^N)+P[9]+3654602809&4294967295,v=E+(C<<4&4294967295|C>>>28),C=N+(v^E^O)+P[12]+3873151461&4294967295,N=v+(C<<11&4294967295|C>>>21),C=O+(N^v^E)+P[15]+530742520&4294967295,O=N+(C<<16&4294967295|C>>>16),C=E+(O^N^v)+P[2]+3299628645&4294967295,E=O+(C<<23&4294967295|C>>>9),C=v+(O^(E|~N))+P[0]+4096336452&4294967295,v=E+(C<<6&4294967295|C>>>26),C=N+(E^(v|~O))+P[7]+1126891415&4294967295,N=v+(C<<10&4294967295|C>>>22),C=O+(v^(N|~E))+P[14]+2878612391&4294967295,O=N+(C<<15&4294967295|C>>>17),C=E+(N^(O|~v))+P[5]+4237533241&4294967295,E=O+(C<<21&4294967295|C>>>11),C=v+(O^(E|~N))+P[12]+1700485571&4294967295,v=E+(C<<6&4294967295|C>>>26),C=N+(E^(v|~O))+P[3]+2399980690&4294967295,N=v+(C<<10&4294967295|C>>>22),C=O+(v^(N|~E))+P[10]+4293915773&4294967295,O=N+(C<<15&4294967295|C>>>17),C=E+(N^(O|~v))+P[1]+2240044497&4294967295,E=O+(C<<21&4294967295|C>>>11),C=v+(O^(E|~N))+P[8]+1873313359&4294967295,v=E+(C<<6&4294967295|C>>>26),C=N+(E^(v|~O))+P[15]+4264355552&4294967295,N=v+(C<<10&4294967295|C>>>22),C=O+(v^(N|~E))+P[6]+2734768916&4294967295,O=N+(C<<15&4294967295|C>>>17),C=E+(N^(O|~v))+P[13]+1309151649&4294967295,E=O+(C<<21&4294967295|C>>>11),C=v+(O^(E|~N))+P[4]+4149444226&4294967295,v=E+(C<<6&4294967295|C>>>26),C=N+(E^(v|~O))+P[11]+3174756917&4294967295,N=v+(C<<10&4294967295|C>>>22),C=O+(v^(N|~E))+P[2]+718787259&4294967295,O=N+(C<<15&4294967295|C>>>17),C=E+(N^(O|~v))+P[9]+3951481745&4294967295,R.g[0]=R.g[0]+v&4294967295,R.g[1]=R.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+N&4294967295}r.prototype.u=function(R,v){v===void 0&&(v=R.length);for(var E=v-this.blockSize,P=this.B,O=this.h,N=0;N<v;){if(O==0)for(;N<=E;)i(this,R,N),N+=this.blockSize;if(typeof R=="string"){for(;N<v;)if(P[O++]=R.charCodeAt(N++),O==this.blockSize){i(this,P),O=0;break}}else for(;N<v;)if(P[O++]=R[N++],O==this.blockSize){i(this,P),O=0;break}}this.h=O,this.o+=v},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var v=1;v<R.length-8;++v)R[v]=0;var E=8*this.o;for(v=R.length-8;v<R.length;++v)R[v]=E&255,E/=256;for(this.u(R),R=Array(16),v=E=0;4>v;++v)for(var P=0;32>P;P+=8)R[E++]=this.g[v]>>>P&255;return R};function s(R,v){var E=a;return Object.prototype.hasOwnProperty.call(E,R)?E[R]:E[R]=v(R)}function o(R,v){this.h=v;for(var E=[],P=!0,O=R.length-1;0<=O;O--){var N=R[O]|0;P&&N==v||(E[O]=N,P=!1)}this.g=E}var a={};function l(R){return-128<=R&&128>R?s(R,function(v){return new o([v|0],0>v?-1:0)}):new o([R|0],0>R?-1:0)}function c(R){if(isNaN(R)||!isFinite(R))return h;if(0>R)return I(c(-R));for(var v=[],E=1,P=0;R>=E;P++)v[P]=R/E|0,E*=4294967296;return new o(v,0)}function d(R,v){if(R.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(R.charAt(0)=="-")return I(d(R.substring(1),v));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=c(Math.pow(v,8)),P=h,O=0;O<R.length;O+=8){var N=Math.min(8,R.length-O),C=parseInt(R.substring(O,O+N),v);8>N?(N=c(Math.pow(v,N)),P=P.j(N).add(c(C))):(P=P.j(E),P=P.add(c(C)))}return P}var h=l(0),f=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(S(this))return-I(this).m();for(var R=0,v=1,E=0;E<this.g.length;E++){var P=this.i(E);R+=(0<=P?P:4294967296+P)*v,v*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(T(this))return"0";if(S(this))return"-"+I(this).toString(R);for(var v=c(Math.pow(R,6)),E=this,P="";;){var O=A(E,v).g;E=w(E,O.j(v));var N=((0<E.g.length?E.g[0]:E.h)>>>0).toString(R);if(E=O,T(E))return N+P;for(;6>N.length;)N="0"+N;P=N+P}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function T(R){if(R.h!=0)return!1;for(var v=0;v<R.g.length;v++)if(R.g[v]!=0)return!1;return!0}function S(R){return R.h==-1}t.l=function(R){return R=w(this,R),S(R)?-1:T(R)?0:1};function I(R){for(var v=R.g.length,E=[],P=0;P<v;P++)E[P]=~R.g[P];return new o(E,~R.h).add(f)}t.abs=function(){return S(this)?I(this):this},t.add=function(R){for(var v=Math.max(this.g.length,R.g.length),E=[],P=0,O=0;O<=v;O++){var N=P+(this.i(O)&65535)+(R.i(O)&65535),C=(N>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);P=C>>>16,N&=65535,C&=65535,E[O]=C<<16|N}return new o(E,E[E.length-1]&-2147483648?-1:0)};function w(R,v){return R.add(I(v))}t.j=function(R){if(T(this)||T(R))return h;if(S(this))return S(R)?I(this).j(I(R)):I(I(this).j(R));if(S(R))return I(this.j(I(R)));if(0>this.l(y)&&0>R.l(y))return c(this.m()*R.m());for(var v=this.g.length+R.g.length,E=[],P=0;P<2*v;P++)E[P]=0;for(P=0;P<this.g.length;P++)for(var O=0;O<R.g.length;O++){var N=this.i(P)>>>16,C=this.i(P)&65535,q=R.i(O)>>>16,Ve=R.i(O)&65535;E[2*P+2*O]+=C*Ve,g(E,2*P+2*O),E[2*P+2*O+1]+=N*Ve,g(E,2*P+2*O+1),E[2*P+2*O+1]+=C*q,g(E,2*P+2*O+1),E[2*P+2*O+2]+=N*q,g(E,2*P+2*O+2)}for(P=0;P<v;P++)E[P]=E[2*P+1]<<16|E[2*P];for(P=v;P<2*v;P++)E[P]=0;return new o(E,0)};function g(R,v){for(;(R[v]&65535)!=R[v];)R[v+1]+=R[v]>>>16,R[v]&=65535,v++}function _(R,v){this.g=R,this.h=v}function A(R,v){if(T(v))throw Error("division by zero");if(T(R))return new _(h,h);if(S(R))return v=A(I(R),v),new _(I(v.g),I(v.h));if(S(v))return v=A(R,I(v)),new _(I(v.g),v.h);if(30<R.g.length){if(S(R)||S(v))throw Error("slowDivide_ only works with positive integers.");for(var E=f,P=v;0>=P.l(R);)E=M(E),P=M(P);var O=k(E,1),N=k(P,1);for(P=k(P,2),E=k(E,2);!T(P);){var C=N.add(P);0>=C.l(R)&&(O=O.add(E),N=C),P=k(P,1),E=k(E,1)}return v=w(R,O.j(v)),new _(O,v)}for(O=h;0<=R.l(v);){for(E=Math.max(1,Math.floor(R.m()/v.m())),P=Math.ceil(Math.log(E)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),N=c(E),C=N.j(v);S(C)||0<C.l(R);)E-=P,N=c(E),C=N.j(v);T(N)&&(N=f),O=O.add(N),R=w(R,C)}return new _(O,R)}t.A=function(R){return A(this,R).h},t.and=function(R){for(var v=Math.max(this.g.length,R.g.length),E=[],P=0;P<v;P++)E[P]=this.i(P)&R.i(P);return new o(E,this.h&R.h)},t.or=function(R){for(var v=Math.max(this.g.length,R.g.length),E=[],P=0;P<v;P++)E[P]=this.i(P)|R.i(P);return new o(E,this.h|R.h)},t.xor=function(R){for(var v=Math.max(this.g.length,R.g.length),E=[],P=0;P<v;P++)E[P]=this.i(P)^R.i(P);return new o(E,this.h^R.h)};function M(R){for(var v=R.g.length+1,E=[],P=0;P<v;P++)E[P]=R.i(P)<<1|R.i(P-1)>>>31;return new o(E,R.h)}function k(R,v){var E=v>>5;v%=32;for(var P=R.g.length-E,O=[],N=0;N<P;N++)O[N]=0<v?R.i(N+E)>>>v|R.i(N+E+1)<<32-v:R.i(N+E);return new o(O,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,lI=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Vs=o}).apply(typeof Zw<"u"?Zw:typeof self<"u"?self:typeof window<"u"?window:{});var jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uI,El,cI,hd,pg,dI,hI,fI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,m){return u==Array.prototype||u==Object.prototype||(u[p]=m.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof jc=="object"&&jc];for(var p=0;p<u.length;++p){var m=u[p];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var m=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var j=u[b];if(!(j in m))break e;m=m[j]}u=u[u.length-1],b=m[u],p=p(b),p!=b&&p!=null&&e(m,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var m=0,b=!1,j={next:function(){if(!b&&m<u.length){var U=m++;return{value:p(U,u[U]),done:!1}}return b=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,m){return u.call.apply(u.bind,arguments)}function h(u,p,m){if(!u)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,b),u.apply(p,j)}}return function(){return u.apply(p,arguments)}}function f(u,p,m){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function y(u,p){var m=Array.prototype.slice.call(arguments,1);return function(){var b=m.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function T(u,p){function m(){}m.prototype=p.prototype,u.aa=p.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(b,j,U){for(var K=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)K[$e-2]=arguments[$e];return p.prototype[j].apply(b,K)}}function S(u){const p=u.length;if(0<p){const m=Array(p);for(let b=0;b<p;b++)m[b]=u[b];return m}return[]}function I(u,p){for(let m=1;m<arguments.length;m++){const b=arguments[m];if(l(b)){const j=u.length||0,U=b.length||0;u.length=j+U;for(let K=0;K<U;K++)u[j+K]=b[K]}else u.push(b)}}class w{constructor(p,m){this.i=p,this.j=m,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function g(u){return/^[\s\xa0]*$/.test(u)}function _(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function A(u){return A[" "](u),u}A[" "]=function(){};var M=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function k(u,p,m){for(const b in u)p.call(m,u[b],b,u)}function R(u,p){for(const m in u)p.call(void 0,u[m],m,u)}function v(u){const p={};for(const m in u)p[m]=u[m];return p}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,p){let m,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(m in b)u[m]=b[m];for(let U=0;U<E.length;U++)m=E[U],Object.prototype.hasOwnProperty.call(b,m)&&(u[m]=b[m])}}function O(u){var p=1;u=u.split(":");const m=[];for(;0<p&&u.length;)m.push(u.shift()),p--;return u.length&&m.push(u.join(":")),m}function N(u){a.setTimeout(()=>{throw u},0)}function C(){var u=Q;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class q{constructor(){this.h=this.g=null}add(p,m){const b=Ve.get();b.set(p,m),this.h?this.h.next=b:this.g=b,this.h=b}}var Ve=new w(()=>new Ne,u=>u.reset());class Ne{constructor(){this.next=this.g=this.h=null}set(p,m){this.h=p,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let re,H=!1,Q=new q,ie=()=>{const u=a.Promise.resolve(void 0);re=()=>{u.then(de)}};var de=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(m){N(m)}var p=Ve;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}H=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var De=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};a.addEventListener("test",m,p),a.removeEventListener("test",m,p)}catch{}return u}();function Ce(u,p){if(fe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(M){e:{try{A(p.nodeName);var j=!0;break e}catch{}j=!1}j||(p=null)}}else m=="mouseover"?p=u.fromElement:m=="mouseout"&&(p=u.toElement);this.relatedTarget=p,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ke[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ce.aa.h.call(this)}}T(Ce,fe);var Ke={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),Fa=0;function Bf(u,p,m,b,j){this.listener=u,this.proxy=null,this.src=p,this.type=m,this.capture=!!b,this.ha=j,this.key=++Fa,this.da=this.fa=!1}function ao(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function _t(u){this.src=u,this.g={},this.h=0}_t.prototype.add=function(u,p,m,b,j){var U=u.toString();u=this.g[U],u||(u=this.g[U]=[],this.h++);var K=lo(u,p,b,j);return-1<K?(p=u[K],m||(p.fa=!1)):(p=new Bf(p,this.src,U,!!b,j),p.fa=m,u.push(p)),p};function ur(u,p){var m=p.type;if(m in u.g){var b=u.g[m],j=Array.prototype.indexOf.call(b,p,void 0),U;(U=0<=j)&&Array.prototype.splice.call(b,j,1),U&&(ao(p),u.g[m].length==0&&(delete u.g[m],u.h--))}}function lo(u,p,m,b){for(var j=0;j<u.length;++j){var U=u[j];if(!U.da&&U.listener==p&&U.capture==!!m&&U.ha==b)return j}return-1}var Ua="closure_lm_"+(1e6*Math.random()|0),Kn={};function Zu(u,p,m,b,j){if(Array.isArray(p)){for(var U=0;U<p.length;U++)Zu(u,p[U],m,b,j);return null}return m=za(m),u&&u[vt]?u.K(p,m,c(b)?!!b.capture:!!b,j):zf(u,p,m,!1,b,j)}function zf(u,p,m,b,j,U){if(!p)throw Error("Invalid event type");var K=c(j)?!!j.capture:!!j,$e=Gn(u);if($e||(u[Ua]=$e=new _t(u)),m=$e.add(p,m,b,K,U),m.proxy)return m;if(b=ec(),m.proxy=b,b.src=u,b.listener=m,u.addEventListener)De||(j=K),j===void 0&&(j=!1),u.addEventListener(p.toString(),b,j);else if(u.attachEvent)u.attachEvent(nc(p.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return m}function ec(){function u(m){return p.call(u.src,u.listener,m)}const p=$f;return u}function tc(u,p,m,b,j){if(Array.isArray(p))for(var U=0;U<p.length;U++)tc(u,p[U],m,b,j);else b=c(b)?!!b.capture:!!b,m=za(m),u&&u[vt]?(u=u.i,p=String(p).toString(),p in u.g&&(U=u.g[p],m=lo(U,m,b,j),-1<m&&(ao(U[m]),Array.prototype.splice.call(U,m,1),U.length==0&&(delete u.g[p],u.h--)))):u&&(u=Gn(u))&&(p=u.g[p.toString()],u=-1,p&&(u=lo(p,m,b,j)),(m=-1<u?p[u]:null)&&Ba(m))}function Ba(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[vt])ur(p.i,u);else{var m=u.type,b=u.proxy;p.removeEventListener?p.removeEventListener(m,b,u.capture):p.detachEvent?p.detachEvent(nc(m),b):p.addListener&&p.removeListener&&p.removeListener(b),(m=Gn(p))?(ur(m,u),m.h==0&&(m.src=null,p[Ua]=null)):ao(u)}}}function nc(u){return u in Kn?Kn[u]:Kn[u]="on"+u}function $f(u,p){if(u.da)u=!0;else{p=new Ce(p,this);var m=u.listener,b=u.ha||u.src;u.fa&&Ba(u),u=m.call(b,p)}return u}function Gn(u){return u=u[Ua],u instanceof _t?u:null}var kr="__closure_events_fn_"+(1e9*Math.random()>>>0);function za(u){return typeof u=="function"?u:(u[kr]||(u[kr]=function(p){return u.handleEvent(p)}),u[kr])}function wt(){he.call(this),this.i=new _t(this),this.M=this,this.F=null}T(wt,he),wt.prototype[vt]=!0,wt.prototype.removeEventListener=function(u,p,m,b){tc(this,u,p,m,b)};function Ze(u,p){var m,b=u.F;if(b)for(m=[];b;b=b.F)m.push(b);if(u=u.M,b=p.type||p,typeof p=="string")p=new fe(p,u);else if(p instanceof fe)p.target=p.target||u;else{var j=p;p=new fe(b,u),P(p,j)}if(j=!0,m)for(var U=m.length-1;0<=U;U--){var K=p.g=m[U];j=cn(K,b,!0,p)&&j}if(K=p.g=u,j=cn(K,b,!0,p)&&j,j=cn(K,b,!1,p)&&j,m)for(U=0;U<m.length;U++)K=p.g=m[U],j=cn(K,b,!1,p)&&j}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var m=u.g[p],b=0;b<m.length;b++)ao(m[b]);delete u.g[p],u.h--}}this.F=null},wt.prototype.K=function(u,p,m,b){return this.i.add(String(u),p,!1,m,b)},wt.prototype.L=function(u,p,m,b){return this.i.add(String(u),p,!0,m,b)};function cn(u,p,m,b){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var j=!0,U=0;U<p.length;++U){var K=p[U];if(K&&!K.da&&K.capture==m){var $e=K.listener,Nt=K.ha||K.src;K.fa&&ur(u.i,K),j=$e.call(Nt,b)!==!1&&j}}return j&&!b.defaultPrevented}function $a(u,p,m){if(typeof u=="function")m&&(u=f(u,m));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function ms(u){u.g=$a(()=>{u.g=null,u.i&&(u.i=!1,ms(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Hf extends he{constructor(p,m){super(),this.m=p,this.l=m,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:ms(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dn(u){he.call(this),this.h=u,this.g={}}T(dn,he);var Ha=[];function Wa(u){k(u.g,function(p,m){this.g.hasOwnProperty(m)&&Ba(p)},u),u.g={}}dn.prototype.N=function(){dn.aa.N.call(this),Wa(this)},dn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var uo=a.JSON.stringify,Wf=a.JSON.parse,rc=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function hi(){}hi.prototype.h=null;function qa(u){return u.h||(u.h=u.i())}function co(){}var Or={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ka(){fe.call(this,"d")}T(Ka,fe);function ho(){fe.call(this,"c")}T(ho,fe);var Nr={},Ga=null;function Dr(){return Ga=Ga||new wt}Nr.La="serverreachability";function gs(u){fe.call(this,Nr.La,u)}T(gs,fe);function ys(u){const p=Dr();Ze(p,new gs(p))}Nr.STAT_EVENT="statevent";function ic(u,p){fe.call(this,Nr.STAT_EVENT,u),this.stat=p}T(ic,fe);function D(u){const p=Dr();Ze(p,new ic(p,u))}Nr.Ma="timingevent";function V(u,p){fe.call(this,Nr.Ma,u),this.size=p}T(V,fe);function F(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function $(){this.g=!0}$.prototype.xa=function(){this.g=!1};function J(u,p,m,b,j,U){u.info(function(){if(u.g)if(U)for(var K="",$e=U.split("&"),Nt=0;Nt<$e.length;Nt++){var Me=$e[Nt].split("=");if(1<Me.length){var Bt=Me[0];Me=Me[1];var zt=Bt.split("_");K=2<=zt.length&&zt[1]=="type"?K+(Bt+"="+Me+"&"):K+(Bt+"=redacted&")}}else K=null;else K=U;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+p+`
`+m+`
`+K})}function oe(u,p,m,b,j,U,K){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+p+`
`+m+`
`+U+" "+K})}function le(u,p,m,b){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+ne(u,m)+(b?" "+b:"")})}function te(u,p){u.info(function(){return"TIMEOUT: "+p})}$.prototype.info=function(){};function ne(u,p){if(!u.g)return p;if(!p)return null;try{var m=JSON.parse(p);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var b=m[u];if(!(2>b.length)){var j=b[1];if(Array.isArray(j)&&!(1>j.length)){var U=j[0];if(U!="noop"&&U!="stop"&&U!="close")for(var K=1;K<j.length;K++)j[K]=""}}}}return uo(m)}catch{return p}}var X={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},se={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_e;function Ee(){}T(Ee,hi),Ee.prototype.g=function(){return new XMLHttpRequest},Ee.prototype.i=function(){return{}},_e=new Ee;function He(u,p,m,b){this.j=u,this.i=p,this.l=m,this.R=b||1,this.U=new dn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fe}function Fe(){this.i=null,this.g="",this.h=!1}var Ae={},We={};function cr(u,p,m){u.L=1,u.v=lc(Mr(p)),u.m=m,u.P=!0,fi(u,null)}function fi(u,p){u.F=Date.now(),pi(u),u.A=Mr(u.v);var m=u.A,b=u.R;Array.isArray(b)||(b=[String(b)]),W0(m.i,"t",b),u.C=0,m=u.j.J,u.h=new Fe,u.g=u_(u.j,m?p:null,!u.m),0<u.O&&(u.M=new Hf(f(u.Y,u,u.g),u.O)),p=u.U,m=u.g,b=u.ca;var j="readystatechange";Array.isArray(j)||(j&&(Ha[0]=j.toString()),j=Ha);for(var U=0;U<j.length;U++){var K=Zu(m,j[U],b||p.handleEvent,!1,p.h||p);if(!K)break;p.g[K.key]=K}p=u.H?v(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),ys(),J(u.i,u.u,u.A,u.l,u.R,u.m)}He.prototype.ca=function(u){u=u.target;const p=this.M;p&&Vr(u)==3?p.j():this.Y(u)},He.prototype.Y=function(u){try{if(u==this.g)e:{const zt=Vr(this.g);var p=this.g.Ba();const go=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||J0(this.g)))){this.J||zt!=4||p==7||(p==8||0>=go?ys(3):ys(2)),Qn(this);var m=this.g.Z();this.X=m;t:if(Mn(this)){var b=J0(this.g);u="";var j=b.length,U=Vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jn(this),dr(this);var K="";break t}this.h.i=new a.TextDecoder}for(p=0;p<j;p++)this.h.h=!0,u+=this.h.i.decode(b[p],{stream:!(U&&p==j-1)});b.length=0,this.h.g+=u,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=m==200,oe(this.i,this.u,this.A,this.l,this.R,zt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,Nt=this.g;if(($e=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g($e)){var Me=$e;break t}}Me=null}if(m=Me)le(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xe(this,m);else{this.o=!1,this.s=3,D(12),jn(this),dr(this);break e}}if(this.P){m=!0;let Xn;for(;!this.J&&this.C<K.length;)if(Xn=Vn(this,K),Xn==We){zt==4&&(this.s=4,D(14),m=!1),le(this.i,this.l,null,"[Incomplete Response]");break}else if(Xn==Ae){this.s=4,D(15),le(this.i,this.l,K,"[Invalid Chunk]"),m=!1;break}else le(this.i,this.l,Xn,null),xe(this,Xn);if(Mn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||K.length!=0||this.h.h||(this.s=1,D(16),m=!1),this.o=this.o&&m,!m)le(this.i,this.l,K,"[Invalid Chunked Response]"),jn(this),dr(this);else if(0<K.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),Qf(Bt),Bt.M=!0,D(11))}}else le(this.i,this.l,K,null),xe(this,K);zt==4&&jn(this),this.o&&!this.J&&(zt==4?s_(this.j,this):(this.o=!1,pi(this)))}else qA(this.g),m==400&&0<K.indexOf("Unknown SID")?(this.s=3,D(12)):(this.s=0,D(13)),jn(this),dr(this)}}}catch{}finally{}};function Mn(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Vn(u,p){var m=u.C,b=p.indexOf(`
`,m);return b==-1?We:(m=Number(p.substring(m,b)),isNaN(m)?Ae:(b+=1,b+m>p.length?We:(p=p.slice(b,b+m),u.C=b+m,p)))}He.prototype.cancel=function(){this.J=!0,jn(this)};function pi(u){u.S=Date.now()+u.I,mi(u,u.I)}function mi(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=F(f(u.ba,u),p)}function Qn(u){u.B&&(a.clearTimeout(u.B),u.B=null)}He.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(te(this.i,this.A),this.L!=2&&(ys(),D(17)),jn(this),this.s=2,dr(this)):mi(this,this.S-u)};function dr(u){u.j.G==0||u.J||s_(u.j,u)}function jn(u){Qn(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,Wa(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function xe(u,p){try{var m=u.j;if(m.G!=0&&(m.g==u||hr(m.h,u))){if(!u.K&&hr(m.h,u)&&m.G==3){try{var b=m.Da.g.parse(p)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)pc(m),hc(m);else break e;Gf(m),D(18)}}else m.za=j[1],0<m.za-m.T&&37500>j[2]&&m.F&&m.v==0&&!m.C&&(m.C=F(f(m.Za,m),6e3));if(1>=it(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else _s(m,11)}else if((u.K||m.g==u)&&pc(m),!g(p))for(j=m.Da.g.parse(p),p=0;p<j.length;p++){let Me=j[p];if(m.T=Me[0],Me=Me[1],m.G==2)if(Me[0]=="c"){m.K=Me[1],m.ia=Me[2];const Bt=Me[3];Bt!=null&&(m.la=Bt,m.j.info("VER="+m.la));const zt=Me[4];zt!=null&&(m.Aa=zt,m.j.info("SVER="+m.Aa));const go=Me[5];go!=null&&typeof go=="number"&&0<go&&(b=1.5*go,m.L=b,m.j.info("backChannelRequestTimeoutMs_="+b)),b=m;const Xn=u.g;if(Xn){const gc=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gc){var U=b.h;U.g||gc.indexOf("spdy")==-1&&gc.indexOf("quic")==-1&&gc.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(fo(U,U.h),U.h=null))}if(b.D){const Xf=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;Xf&&(b.ya=Xf,Ge(b.I,b.D,Xf))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),b=m;var K=u;if(b.qa=l_(b,b.J?b.ia:null,b.W),K.K){sc(b.h,K);var $e=K,Nt=b.L;Nt&&($e.I=Nt),$e.B&&(Qn($e),pi($e)),b.g=K}else r_(b);0<m.i.length&&fc(m)}else Me[0]!="stop"&&Me[0]!="close"||_s(m,7);else m.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?_s(m,7):Kf(m):Me[0]!="noop"&&m.l&&m.l.ta(Me),m.v=0)}}ys(4)}catch{}}var et=class{constructor(u,p){this.g=u,this.map=p}};function Lr(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gi(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function it(u){return u.h?1:u.g?u.g.size:0}function hr(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function fo(u,p){u.g?u.g.add(p):u.h=p}function sc(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Lr.prototype.cancel=function(){if(this.i=j0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function j0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const m of u.g.values())p=p.concat(m.D);return p}return S(u.i)}function kA(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],m=u.length,b=0;b<m;b++)p.push(u[b]);return p}p=[],m=0;for(b in u)p[m++]=u[b];return p}function OA(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var m=0;m<u;m++)p.push(m);return p}p=[],m=0;for(const b in u)p[m++]=b;return p}}}function F0(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var m=OA(u),b=kA(u),j=b.length,U=0;U<j;U++)p.call(void 0,b[U],m&&m[U],u)}var U0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function NA(u,p){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var b=u[m].indexOf("="),j=null;if(0<=b){var U=u[m].substring(0,b);j=u[m].substring(b+1)}else U=u[m];p(U,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function vs(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof vs){this.h=u.h,oc(this,u.j),this.o=u.o,this.g=u.g,ac(this,u.s),this.l=u.l;var p=u.i,m=new Ya;m.i=p.i,p.g&&(m.g=new Map(p.g),m.h=p.h),B0(this,m),this.m=u.m}else u&&(p=String(u).match(U0))?(this.h=!1,oc(this,p[1]||"",!0),this.o=Qa(p[2]||""),this.g=Qa(p[3]||"",!0),ac(this,p[4]),this.l=Qa(p[5]||"",!0),B0(this,p[6]||"",!0),this.m=Qa(p[7]||"")):(this.h=!1,this.i=new Ya(null,this.h))}vs.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Xa(p,z0,!0),":");var m=this.g;return(m||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Xa(p,z0,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(Xa(m,m.charAt(0)=="/"?MA:LA,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",Xa(m,jA)),u.join("")};function Mr(u){return new vs(u)}function oc(u,p,m){u.j=m?Qa(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function ac(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function B0(u,p,m){p instanceof Ya?(u.i=p,FA(u.i,u.h)):(m||(p=Xa(p,VA)),u.i=new Ya(p,u.h))}function Ge(u,p,m){u.i.set(p,m)}function lc(u){return Ge(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Qa(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Xa(u,p,m){return typeof u=="string"?(u=encodeURI(u).replace(p,DA),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function DA(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var z0=/[#\/\?@]/g,LA=/[#\?:]/g,MA=/[#\?]/g,VA=/[#\?@]/g,jA=/#/g;function Ya(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function yi(u){u.g||(u.g=new Map,u.h=0,u.i&&NA(u.i,function(p,m){u.add(decodeURIComponent(p.replace(/\+/g," ")),m)}))}t=Ya.prototype,t.add=function(u,p){yi(this),this.i=null,u=po(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(p),this.h+=1,this};function $0(u,p){yi(u),p=po(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function H0(u,p){return yi(u),p=po(u,p),u.g.has(p)}t.forEach=function(u,p){yi(this),this.g.forEach(function(m,b){m.forEach(function(j){u.call(p,j,b,this)},this)},this)},t.na=function(){yi(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),m=[];for(let b=0;b<p.length;b++){const j=u[b];for(let U=0;U<j.length;U++)m.push(p[b])}return m},t.V=function(u){yi(this);let p=[];if(typeof u=="string")H0(this,u)&&(p=p.concat(this.g.get(po(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)p=p.concat(u[m])}return p},t.set=function(u,p){return yi(this),this.i=null,u=po(this,u),H0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function W0(u,p,m){$0(u,p),0<m.length&&(u.i=null,u.g.set(po(u,p),S(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var m=0;m<p.length;m++){var b=p[m];const U=encodeURIComponent(String(b)),K=this.V(b);for(b=0;b<K.length;b++){var j=U;K[b]!==""&&(j+="="+encodeURIComponent(String(K[b]))),u.push(j)}}return this.i=u.join("&")};function po(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function FA(u,p){p&&!u.j&&(yi(u),u.i=null,u.g.forEach(function(m,b){var j=b.toLowerCase();b!=j&&($0(this,b),W0(this,j,m))},u)),u.j=p}function UA(u,p){const m=new $;if(a.Image){const b=new Image;b.onload=y(vi,m,"TestLoadImage: loaded",!0,p,b),b.onerror=y(vi,m,"TestLoadImage: error",!1,p,b),b.onabort=y(vi,m,"TestLoadImage: abort",!1,p,b),b.ontimeout=y(vi,m,"TestLoadImage: timeout",!1,p,b),a.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else p(!1)}function BA(u,p){const m=new $,b=new AbortController,j=setTimeout(()=>{b.abort(),vi(m,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:b.signal}).then(U=>{clearTimeout(j),U.ok?vi(m,"TestPingServer: ok",!0,p):vi(m,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(j),vi(m,"TestPingServer: error",!1,p)})}function vi(u,p,m,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(m)}catch{}}function zA(){this.g=new rc}function $A(u,p,m){const b=m||"";try{F0(u,function(j,U){let K=j;c(j)&&(K=uo(j)),p.push(b+U+"="+encodeURIComponent(K))})}catch(j){throw p.push(b+"type="+encodeURIComponent("_badmap")),j}}function uc(u){this.l=u.Ub||null,this.j=u.eb||!1}T(uc,hi),uc.prototype.g=function(){return new cc(this.l,this.j)},uc.prototype.i=function(u){return function(){return u}}({});function cc(u,p){wt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(cc,wt),t=cc.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Za(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ja(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Za(this)),this.g&&(this.readyState=3,Za(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;q0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function q0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Ja(this):Za(this),this.readyState==3&&q0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Ja(this))},t.Qa=function(u){this.g&&(this.response=u,Ja(this))},t.ga=function(){this.g&&Ja(this)};function Ja(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Za(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var m=p.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=p.next();return u.join(`\r
`)};function Za(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(cc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function K0(u){let p="";return k(u,function(m,b){p+=b,p+=":",p+=m,p+=`\r
`}),p}function qf(u,p,m){e:{for(b in m){var b=!1;break e}b=!0}b||(m=K0(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):Ge(u,p,m))}function ft(u){wt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(ft,wt);var HA=/^https?$/i,WA=["POST","PUT"];t=ft.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,m,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_e.g(),this.v=this.o?qa(this.o):qa(_e),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(U){G0(this,U);return}if(u=m||"",m=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)m.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const U of b.keys())m.set(U,b.get(U));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(m.keys()).find(U=>U.toLowerCase()=="content-type"),j=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(WA,p,void 0))||b||j||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,K]of m)this.g.setRequestHeader(U,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Y0(this),this.u=!0,this.g.send(u),this.u=!1}catch(U){G0(this,U)}};function G0(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,Q0(u),dc(u)}function Q0(u){u.A||(u.A=!0,Ze(u,"complete"),Ze(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ze(this,"complete"),Ze(this,"abort"),dc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dc(this,!0)),ft.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?X0(this):this.bb())},t.bb=function(){X0(this)};function X0(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Vr(u)!=4||u.Z()!=2)){if(u.u&&Vr(u)==4)$a(u.Ea,0,u);else if(Ze(u,"readystatechange"),Vr(u)==4){u.h=!1;try{const K=u.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var m;if(!(m=p)){var b;if(b=K===0){var j=String(u.D).match(U0)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),b=!HA.test(j?j.toLowerCase():"")}m=b}if(m)Ze(u,"complete"),Ze(u,"success");else{u.m=6;try{var U=2<Vr(u)?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.Z()+"]",Q0(u)}}finally{dc(u)}}}}function dc(u,p){if(u.g){Y0(u);const m=u.g,b=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Ze(u,"ready");try{m.onreadystatechange=b}catch{}}}function Y0(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Vr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Vr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Wf(p)}};function J0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function qA(u){const p={};u=(u.g&&2<=Vr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(g(u[b]))continue;var m=O(u[b]);const j=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const U=p[j]||[];p[j]=U,U.push(m)}R(p,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function el(u,p,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||p}function Z0(u){this.Aa=0,this.i=[],this.j=new $,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=el("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=el("baseRetryDelayMs",5e3,u),this.cb=el("retryDelaySeedMs",1e4,u),this.Wa=el("forwardChannelMaxRetries",2,u),this.wa=el("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Lr(u&&u.concurrentRequestLimit),this.Da=new zA,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Z0.prototype,t.la=8,t.G=1,t.connect=function(u,p,m,b){D(0),this.W=u,this.H=p||{},m&&b!==void 0&&(this.H.OSID=m,this.H.OAID=b),this.F=this.X,this.I=l_(this,null,this.W),fc(this)};function Kf(u){if(e_(u),u.G==3){var p=u.U++,m=Mr(u.I);if(Ge(m,"SID",u.K),Ge(m,"RID",p),Ge(m,"TYPE","terminate"),tl(u,m),p=new He(u,u.j,p),p.L=2,p.v=lc(Mr(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=p.v,m=!0),m||(p.g=u_(p.j,null),p.g.ea(p.v)),p.F=Date.now(),pi(p)}a_(u)}function hc(u){u.g&&(Qf(u),u.g.cancel(),u.g=null)}function e_(u){hc(u),u.u&&(a.clearTimeout(u.u),u.u=null),pc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function fc(u){if(!gi(u.h)&&!u.s){u.s=!0;var p=u.Ga;re||ie(),H||(re(),H=!0),Q.add(p,u),u.B=0}}function KA(u,p){return it(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=F(f(u.Ga,u,p),o_(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const j=new He(this,this.j,u);let U=this.o;if(this.S&&(U?(U=v(U),P(U,this.S)):U=this.S),this.m!==null||this.O||(j.H=U,U=null),this.P)e:{for(var p=0,m=0;m<this.i.length;m++){t:{var b=this.i[m];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(p+=b,4096<p){p=m;break e}if(p===4096||m===this.i.length-1){p=m+1;break e}}p=1e3}else p=1e3;p=n_(this,j,p),m=Mr(this.I),Ge(m,"RID",u),Ge(m,"CVER",22),this.D&&Ge(m,"X-HTTP-Session-Id",this.D),tl(this,m),U&&(this.O?p="headers="+encodeURIComponent(String(K0(U)))+"&"+p:this.m&&qf(m,this.m,U)),fo(this.h,j),this.Ua&&Ge(m,"TYPE","init"),this.P?(Ge(m,"$req",p),Ge(m,"SID","null"),j.T=!0,cr(j,m,null)):cr(j,m,p),this.G=2}}else this.G==3&&(u?t_(this,u):this.i.length==0||gi(this.h)||t_(this))};function t_(u,p){var m;p?m=p.l:m=u.U++;const b=Mr(u.I);Ge(b,"SID",u.K),Ge(b,"RID",m),Ge(b,"AID",u.T),tl(u,b),u.m&&u.o&&qf(b,u.m,u.o),m=new He(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),p&&(u.i=p.D.concat(u.i)),p=n_(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),fo(u.h,m),cr(m,b,p)}function tl(u,p){u.H&&k(u.H,function(m,b){Ge(p,b,m)}),u.l&&F0({},function(m,b){Ge(p,b,m)})}function n_(u,p,m){m=Math.min(u.i.length,m);var b=u.l?f(u.l.Na,u.l,u):null;e:{var j=u.i;let U=-1;for(;;){const K=["count="+m];U==-1?0<m?(U=j[0].g,K.push("ofs="+U)):U=0:K.push("ofs="+U);let $e=!0;for(let Nt=0;Nt<m;Nt++){let Me=j[Nt].g;const Bt=j[Nt].map;if(Me-=U,0>Me)U=Math.max(0,j[Nt].g-100),$e=!1;else try{$A(Bt,K,"req"+Me+"_")}catch{b&&b(Bt)}}if($e){b=K.join("&");break e}}}return u=u.i.splice(0,m),p.D=u,b}function r_(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;re||ie(),H||(re(),H=!0),Q.add(p,u),u.v=0}}function Gf(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=F(f(u.Fa,u),o_(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,i_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=F(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,D(10),hc(this),i_(this))};function Qf(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function i_(u){u.g=new He(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Mr(u.qa);Ge(p,"RID","rpc"),Ge(p,"SID",u.K),Ge(p,"AID",u.T),Ge(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ge(p,"TO",u.ja),Ge(p,"TYPE","xmlhttp"),tl(u,p),u.m&&u.o&&qf(p,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=lc(Mr(p)),m.m=null,m.P=!0,fi(m,u)}t.Za=function(){this.C!=null&&(this.C=null,hc(this),Gf(this),D(19))};function pc(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function s_(u,p){var m=null;if(u.g==p){pc(u),Qf(u),u.g=null;var b=2}else if(hr(u.h,p))m=p.D,sc(u.h,p),b=1;else return;if(u.G!=0){if(p.o)if(b==1){m=p.m?p.m.length:0,p=Date.now()-p.F;var j=u.B;b=Dr(),Ze(b,new V(b,m)),fc(u)}else r_(u);else if(j=p.s,j==3||j==0&&0<p.X||!(b==1&&KA(u,p)||b==2&&Gf(u)))switch(m&&0<m.length&&(p=u.h,p.i=p.i.concat(m)),j){case 1:_s(u,5);break;case 4:_s(u,10);break;case 3:_s(u,6);break;default:_s(u,2)}}}function o_(u,p){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*p}function _s(u,p){if(u.j.info("Error code "+p),p==2){var m=f(u.fb,u),b=u.Xa;const j=!b;b=new vs(b||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||oc(b,"https"),lc(b),j?UA(b.toString(),m):BA(b.toString(),m)}else D(2);u.G=0,u.l&&u.l.sa(p),a_(u),e_(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),D(2)):(this.j.info("Failed to ping google.com"),D(1))};function a_(u){if(u.G=0,u.ka=[],u.l){const p=j0(u.h);(p.length!=0||u.i.length!=0)&&(I(u.ka,p),I(u.ka,u.i),u.h.i.length=0,S(u.i),u.i.length=0),u.l.ra()}}function l_(u,p,m){var b=m instanceof vs?Mr(m):new vs(m);if(b.g!="")p&&(b.g=p+"."+b.g),ac(b,b.s);else{var j=a.location;b=j.protocol,p=p?p+"."+j.hostname:j.hostname,j=+j.port;var U=new vs(null);b&&oc(U,b),p&&(U.g=p),j&&ac(U,j),m&&(U.l=m),b=U}return m=u.D,p=u.ya,m&&p&&Ge(b,m,p),Ge(b,"VER",u.la),tl(u,b),b}function u_(u,p,m){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new ft(new uc({eb:m})):new ft(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function c_(){}t=c_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function mc(){}mc.prototype.g=function(u,p){return new Tn(u,p)};function Tn(u,p){wt.call(this),this.g=new Z0(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!g(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!g(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new mo(this)}T(Tn,wt),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Kf(this.g)},Tn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=uo(u),u=m);p.i.push(new et(p.Ya++,u)),p.G==3&&fc(p)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Kf(this.g),delete this.g,Tn.aa.N.call(this)};function d_(u){Ka.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const m in p){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}T(d_,Ka);function h_(){ho.call(this),this.status=1}T(h_,ho);function mo(u){this.g=u}T(mo,c_),mo.prototype.ua=function(){Ze(this.g,"a")},mo.prototype.ta=function(u){Ze(this.g,new d_(u))},mo.prototype.sa=function(u){Ze(this.g,new h_)},mo.prototype.ra=function(){Ze(this.g,"b")},mc.prototype.createWebChannel=mc.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,fI=function(){return new mc},hI=function(){return Dr()},dI=Nr,pg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},X.NO_ERROR=0,X.TIMEOUT=8,X.HTTP_ERROR=6,hd=X,se.COMPLETE="complete",cI=se,co.EventType=Or,Or.OPEN="a",Or.CLOSE="b",Or.ERROR="c",Or.MESSAGE="d",wt.prototype.listen=wt.prototype.K,El=co,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,uI=ft}).apply(typeof jc<"u"?jc:typeof self<"u"?self:typeof window<"u"?window:{});const e1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ra="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=new iv("@firebase/firestore");function wo(){return Gs.logLevel}function Y(t,...e){if(Gs.logLevel<=Ie.DEBUG){const n=e.map(gv);Gs.debug(`Firestore (${Ra}): ${t}`,...n)}}function ai(t,...e){if(Gs.logLevel<=Ie.ERROR){const n=e.map(gv);Gs.error(`Firestore (${Ra}): ${t}`,...n)}}function la(t,...e){if(Gs.logLevel<=Ie.WARN){const n=e.map(gv);Gs.warn(`Firestore (${Ra}): ${t}`,...n)}}function gv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(t="Unexpected state"){const e=`FIRESTORE (${Ra}) INTERNAL ASSERTION FAILED: `+t;throw ai(e),new Error(e)}function je(t,e){t||me()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends Cr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Gt.UNAUTHENTICATED))}shutdown(){}}class OM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class NM{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){je(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Gr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Gr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new pI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new Gt(e)}}class DM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class LM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new DM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class MM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){je(this.o===void 0);const r=s=>{s.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.R=n.token,new MM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=jM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function ua(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ee(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new bt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ge(e)}static min(){return new ge(new bt(0,0))}static max(){return new ge(new bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n,r){n===void 0?n=0:n>e.length&&me(),r===void 0?r=e.length-n:r>e.length-n&&me(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return mu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Xe extends mu{construct(e,n,r){return new Xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Xe(n)}static emptyPath(){return new Xe([])}}const FM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends mu{construct(e,n,r){return new Vt(e,n,r)}static isValidIdentifier(e){return FM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ee(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ee(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ee(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ee(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(n)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(Xe.fromString(e))}static fromName(e){return new ae(Xe.fromString(e).popFirst(5))}static empty(){return new ae(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new Xe(e.slice()))}}function UM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ge.fromTimestamp(r===1e9?new bt(n+1,0):new bt(n,r));return new Ji(i,ae.empty(),e)}function BM(t){return new Ji(t.readTime,t.key,-1)}class Ji{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ji(ge.min(),ae.empty(),-1)}static max(){return new Ji(ge.max(),ae.empty(),-1)}}function zM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==$M)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new B((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function WM(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Aa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}af.oe=-1;function lf(t){return t==null}function rh(t){return t===0&&1/t==-1/0}function qM(t){return typeof t=="number"&&Number.isInteger(t)&&!rh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=t1(e)),e=GM(t.get(n),e);return t1(e)}function GM(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function t1(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||Mt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fc(this.root,e,this.comparator,!0)}}class Fc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Mt.RED,this.left=i??Mt.EMPTY,this.right=s??Mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Mt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Mt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw me();const e=this.left.check();if(e!==this.right.check())throw me();return e+(this.isRed()?0:1)}}Mt.EMPTY=null,Mt.RED=!0,Mt.BLACK=!1;Mt.EMPTY=new class{constructor(){this.size=0}get key(){throw me()}get value(){throw me()}get color(){throw me()}get left(){throw me()}get right(){throw me()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Mt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new r1(this.data.getIterator())}getIteratorFrom(e){return new r1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class r1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Ot(Vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ua(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new yI("Invalid base64 string: "+s):s}}(e);return new Ut(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const QM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(t){if(je(!!t),typeof t=="string"){let e=0;const n=QM.exec(t);if(je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gt(t.seconds),nanos:gt(t.nanos)}}function gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function es(t){return typeof t=="string"?Ut.fromBase64String(t):Ut.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function uf(t){const e=t.mapValue.fields.__previous_value__;return yv(e)?uf(e):e}function gu(t){const e=Zi(t.mapValue.fields.__local_write_time__.timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class yu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new yu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof yu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ts(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yv(t)?4:JM(t)?9007199254740991:YM(t)?10:11:me()}function br(t,e){if(t===e)return!0;const n=ts(t);if(n!==ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gu(t).isEqual(gu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Zi(i.timestampValue),a=Zi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return es(i.bytesValue).isEqual(es(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return gt(i.geoPointValue.latitude)===gt(s.geoPointValue.latitude)&&gt(i.geoPointValue.longitude)===gt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return gt(i.integerValue)===gt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=gt(i.doubleValue),a=gt(s.doubleValue);return o===a?rh(o)===rh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ua(t.arrayValue.values||[],e.arrayValue.values||[],br);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(n1(o)!==n1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!br(o[l],a[l])))return!1;return!0}(t,e);default:return me()}}function vu(t,e){return(t.values||[]).find(n=>br(n,e))!==void 0}function ca(t,e){if(t===e)return 0;const n=ts(t),r=ts(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=gt(s.integerValue||s.doubleValue),l=gt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return i1(t.timestampValue,e.timestampValue);case 4:return i1(gu(t),gu(e));case 5:return Oe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=es(s),l=es(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Oe(a[c],l[c]);if(d!==0)return d}return Oe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Oe(gt(s.latitude),gt(o.latitude));return a!==0?a:Oe(gt(s.longitude),gt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return s1(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const h=s.fields||{},f=o.fields||{},y=(a=h.value)===null||a===void 0?void 0:a.arrayValue,T=(l=f.value)===null||l===void 0?void 0:l.arrayValue,S=Oe(((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0,((d=T==null?void 0:T.values)===null||d===void 0?void 0:d.length)||0);return S!==0?S:s1(y,T)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Uc.mapValue&&o===Uc.mapValue)return 0;if(s===Uc.mapValue)return 1;if(o===Uc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=Oe(l[h],d[h]);if(f!==0)return f;const y=ca(a[l[h]],c[d[h]]);if(y!==0)return y}return Oe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw me()}}function i1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=Zi(t),r=Zi(e),i=Oe(n.seconds,r.seconds);return i!==0?i:Oe(n.nanos,r.nanos)}function s1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ca(n[i],r[i]);if(s)return s}return Oe(n.length,r.length)}function da(t){return mg(t)}function mg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Zi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return es(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=mg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${mg(n.fields[o])}`;return i+"}"}(t.mapValue):me()}function fd(t){switch(ts(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uf(t);return e?16+fd(e):16;case 5:return 2*t.stringValue.length;case 6:return es(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+fd(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return cs(r.fields,(s,o)=>{i+=s.length+fd(o)}),i}(t.mapValue);default:throw me()}}function o1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function gg(t){return!!t&&"integerValue"in t}function vv(t){return!!t&&"arrayValue"in t}function a1(t){return!!t&&"nullValue"in t}function l1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pd(t){return!!t&&"mapValue"in t}function YM(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Fl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return cs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Fl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function JM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fl(n)}setAll(e){let n=Vt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Fl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());pd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];pd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){cs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new yn(Fl(this.value))}}function vI(t){const e=[];return cs(t.fields,(n,r)=>{const i=new Vt([n]);if(pd(r)){const s=vI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Xt(e,0,ge.min(),ge.min(),ge.min(),yn.empty(),0)}static newFoundDocument(e,n,r,i){return new Xt(e,1,n,ge.min(),r,i,0)}static newNoDocument(e,n){return new Xt(e,2,n,ge.min(),ge.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,ge.min(),ge.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n){this.position=e,this.inclusive=n}}function u1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=ca(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function c1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!br(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n="asc"){this.field=e,this.dir=n}}function ZM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{}class Pt extends _I{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new t4(e,n,r):n==="array-contains"?new i4(e,r):n==="in"?new s4(e,r):n==="not-in"?new o4(e,r):n==="array-contains-any"?new a4(e,r):new Pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new n4(e,r):new r4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ca(n,this.value)):n!==null&&ts(this.value)===ts(n)&&this.matchesComparison(ca(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lr extends _I{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new lr(e,n)}matches(e){return wI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function wI(t){return t.op==="and"}function EI(t){return e4(t)&&wI(t)}function e4(t){for(const e of t.filters)if(e instanceof lr)return!1;return!0}function yg(t){if(t instanceof Pt)return t.field.canonicalString()+t.op.toString()+da(t.value);if(EI(t))return t.filters.map(e=>yg(e)).join(",");{const e=t.filters.map(n=>yg(n)).join(",");return`${t.op}(${e})`}}function TI(t,e){return t instanceof Pt?function(r,i){return i instanceof Pt&&r.op===i.op&&r.field.isEqual(i.field)&&br(r.value,i.value)}(t,e):t instanceof lr?function(r,i){return i instanceof lr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&TI(o,i.filters[a]),!0):!1}(t,e):void me()}function SI(t){return t instanceof Pt?function(n){return`${n.field.canonicalString()} ${n.op} ${da(n.value)}`}(t):t instanceof lr?function(n){return n.op.toString()+" {"+n.getFilters().map(SI).join(" ,")+"}"}(t):"Filter"}class t4 extends Pt{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class n4 extends Pt{constructor(e,n){super(e,"in",n),this.keys=PI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class r4 extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=PI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function PI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class i4 extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vv(n)&&vu(n.arrayValue,this.value)}}class s4 extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vu(this.value.arrayValue,n)}}class o4 extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!vu(this.value.arrayValue,n)}}class a4 extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function d1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new l4(t,e,n,r,i,s,o)}function _v(t){const e=ye(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>yg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),lf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>da(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>da(r)).join(",")),e.ue=n}return e.ue}function wv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!ZM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!TI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!c1(t.startAt,e.startAt)&&c1(t.endAt,e.endAt)}function vg(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function u4(t,e,n,r,i,s,o,a){return new Uu(t,e,n,r,i,s,o,a)}function Ev(t){return new Uu(t)}function h1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xI(t){return t.collectionGroup!==null}function Ul(t){const e=ye(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ot(Vt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new sh(s,r))}),n.has(Vt.keyField().canonicalString())||e.ce.push(new sh(Vt.keyField(),r))}return e.ce}function Sr(t){const e=ye(t);return e.le||(e.le=c4(e,Ul(t))),e.le}function c4(t,e){if(t.limitType==="F")return d1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new sh(i.field,s)});const n=t.endAt?new ih(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ih(t.startAt.position,t.startAt.inclusive):null;return d1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function _g(t,e){const n=t.filters.concat([e]);return new Uu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function wg(t,e,n){return new Uu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cf(t,e){return wv(Sr(t),Sr(e))&&t.limitType===e.limitType}function II(t){return`${_v(Sr(t))}|lt:${t.limitType}`}function Eo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>SI(i)).join(", ")}]`),lf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>da(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>da(i)).join(",")),`Target(${r})`}(Sr(t))}; limitType=${t.limitType})`}function df(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ae.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ul(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=u1(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Ul(r),i)||r.endAt&&!function(o,a,l){const c=u1(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Ul(r),i))}(t,e)}function d4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function bI(t){return(e,n)=>{let r=!1;for(const i of Ul(t)){const s=h4(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function h4(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?ca(l,c):me()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){cs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return gI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=new dt(ae.comparator);function li(){return f4}const RI=new dt(ae.comparator);function Tl(...t){let e=RI;for(const n of t)e=e.insert(n.key,n);return e}function CI(t){let e=RI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ks(){return Bl()}function AI(){return Bl()}function Bl(){return new ro(t=>t.toString(),(t,e)=>t.isEqual(e))}const p4=new dt(ae.comparator),m4=new Ot(ae.comparator);function Re(...t){let e=m4;for(const n of t)e=e.add(n);return e}const g4=new Ot(Oe);function y4(){return g4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(e)?"-0":e}}function kI(t){return{integerValue:""+t}}function v4(t,e){return qM(e)?kI(e):Tv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(){this._=void 0}}function _4(t,e,n){return t instanceof _u?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&yv(s)&&(s=uf(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof wu?NI(t,e):t instanceof Eu?DI(t,e):function(i,s){const o=OI(i,s),a=f1(o)+f1(i.Pe);return gg(o)&&gg(i.Pe)?kI(a):Tv(i.serializer,a)}(t,e)}function w4(t,e,n){return t instanceof wu?NI(t,e):t instanceof Eu?DI(t,e):n}function OI(t,e){return t instanceof oh?function(r){return gg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class _u extends hf{}class wu extends hf{constructor(e){super(),this.elements=e}}function NI(t,e){const n=LI(e);for(const r of t.elements)n.some(i=>br(i,r))||n.push(r);return{arrayValue:{values:n}}}class Eu extends hf{constructor(e){super(),this.elements=e}}function DI(t,e){let n=LI(e);for(const r of t.elements)n=n.filter(i=>!br(i,r));return{arrayValue:{values:n}}}class oh extends hf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function f1(t){return gt(t.integerValue||t.doubleValue)}function LI(t){return vv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n){this.field=e,this.transform=n}}function T4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof wu&&i instanceof wu||r instanceof Eu&&i instanceof Eu?ua(r.elements,i.elements,br):r instanceof oh&&i instanceof oh?br(r.Pe,i.Pe):r instanceof _u&&i instanceof _u}(t.transform,e.transform)}class S4{constructor(e,n){this.version=e,this.transformResults=n}}class sr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new sr}static exists(e){return new sr(void 0,e)}static updateTime(e){return new sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function md(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ff{}function MI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jI(t.key,sr.none()):new Bu(t.key,t.data,sr.none());{const n=t.data,r=yn.empty();let i=new Ot(Vt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ds(t.key,r,new Rn(i.toArray()),sr.none())}}function P4(t,e,n){t instanceof Bu?function(i,s,o){const a=i.value.clone(),l=m1(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ds?function(i,s,o){if(!md(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=m1(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(VI(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function zl(t,e,n,r){return t instanceof Bu?function(s,o,a,l){if(!md(s.precondition,o))return a;const c=s.value.clone(),d=g1(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ds?function(s,o,a,l){if(!md(s.precondition,o))return a;const c=g1(s.fieldTransforms,l,o),d=o.data;return d.setAll(VI(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return md(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function x4(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=OI(r.transform,i||null);s!=null&&(n===null&&(n=yn.empty()),n.set(r.field,s))}return n||null}function p1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ua(r,i,(s,o)=>T4(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bu extends ff{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ds extends ff{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function VI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function m1(t,e,n){const r=new Map;je(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,w4(o,a,n[i]))}return r}function g1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,_4(s,o,e))}return r}class jI extends ff{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I4 extends ff{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&P4(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=MI(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&ua(this.mutations,e.mutations,(n,r)=>p1(n,r))&&ua(this.baseMutations,e.baseMutations,(n,r)=>p1(n,r))}}class Sv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){je(e.mutations.length===r.length);let i=function(){return p4}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Sv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,ke;function A4(t){switch(t){default:return me();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function FI(t){if(t===void 0)return ai("GRPC error has no .code"),z.UNKNOWN;switch(t){case Et.OK:return z.OK;case Et.CANCELLED:return z.CANCELLED;case Et.UNKNOWN:return z.UNKNOWN;case Et.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Et.INTERNAL:return z.INTERNAL;case Et.UNAVAILABLE:return z.UNAVAILABLE;case Et.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Et.NOT_FOUND:return z.NOT_FOUND;case Et.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Et.ABORTED:return z.ABORTED;case Et.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Et.DATA_LOSS:return z.DATA_LOSS;default:return me()}}(ke=Et||(Et={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=new Vs([4294967295,4294967295],0);function y1(t){const e=k4().encode(t),n=new lI;return n.update(e),new Uint8Array(n.digest())}function v1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Vs([n,r],0),new Vs([i,s],0)]}class Pv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sl(`Invalid padding: ${n}`);if(r<0)throw new Sl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Vs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Vs.fromNumber(r)));return i.compare(O4)===1&&(i=new Vs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=y1(e),[r,i]=v1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Pv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=y1(e),[r,i]=v1(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,zu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new pf(ge.min(),i,new dt(Oe),li(),Re())}}class zu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zu(r,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class UI{constructor(e,n){this.targetId=e,this.me=n}}class BI{constructor(e,n,r=Ut.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class _1{constructor(){this.fe=0,this.ge=E1(),this.pe=Ut.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Re(),n=Re(),r=Re();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:me()}}),new zu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=E1()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class N4{constructor(e){this.Le=e,this.Be=new Map,this.ke=li(),this.qe=w1(),this.Qe=new dt(Oe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:me()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(vg(s))if(r===0){const o=new ae(s.path);this.Ue(n,o,Xt.newNoDocument(o,ge.min()))}else je(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=es(r).toUint8Array()}catch(l){if(l instanceof yI)return la("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Pv(o,i,s)}catch(l){return la(l instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&vg(a.target)){const l=new ae(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Xt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Re();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new pf(e,n,this.Qe,this.ke,r);return this.ke=li(),this.qe=w1(),this.Qe=new dt(Oe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new _1,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ot(Oe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new _1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function w1(){return new dt(ae.comparator)}function E1(){return new dt(ae.comparator)}const D4={asc:"ASCENDING",desc:"DESCENDING"},L4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},M4={and:"AND",or:"OR"};class V4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Eg(t,e){return t.useProto3Json||lf(e)?e:{value:e}}function ah(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function j4(t,e){return ah(t,e.toTimestamp())}function Pr(t){return je(!!t),ge.fromTimestamp(function(n){const r=Zi(n);return new bt(r.seconds,r.nanos)}(t))}function xv(t,e){return Tg(t,e).canonicalString()}function Tg(t,e){const n=function(i){return new Xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $I(t){const e=Xe.fromString(t);return je(GI(e)),e}function Sg(t,e){return xv(t.databaseId,e.path)}function kp(t,e){const n=$I(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(WI(n))}function HI(t,e){return xv(t.databaseId,e)}function F4(t){const e=$I(t);return e.length===4?Xe.emptyPath():WI(e)}function Pg(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WI(t){return je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function T1(t,e,n){return{name:Sg(t,e),fields:n.value.mapValue.fields}}function U4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:me()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(je(d===void 0||typeof d=="string"),Ut.fromBase64String(d||"")):(je(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Ut.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?z.UNKNOWN:FI(c.code);return new ee(d,c.message||"")}(o);n=new BI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=kp(t,r.document.name),s=Pr(r.document.updateTime),o=r.document.createTime?Pr(r.document.createTime):ge.min(),a=new yn({mapValue:{fields:r.document.fields}}),l=Xt.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new gd(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=kp(t,r.document),s=r.readTime?Pr(r.readTime):ge.min(),o=Xt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new gd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=kp(t,r.document),s=r.removedTargetIds||[];n=new gd([],s,i,null)}else{if(!("filter"in e))return me();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new C4(i,s),a=r.targetId;n=new UI(a,o)}}return n}function B4(t,e){let n;if(e instanceof Bu)n={update:T1(t,e.key,e.value)};else if(e instanceof jI)n={delete:Sg(t,e.key)};else if(e instanceof ds)n={update:T1(t,e.key,e.data),updateMask:X4(e.fieldMask)};else{if(!(e instanceof I4))return me();n={verify:Sg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof _u)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Eu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof oh)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw me()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:j4(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:me()}(t,e.precondition)),n}function z4(t,e){return t&&t.length>0?(je(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Pr(i.updateTime):Pr(s);return o.isEqual(ge.min())&&(o=Pr(s)),new S4(o,i.transformResults||[])}(n,e))):[]}function $4(t,e){return{documents:[HI(t,e.path)]}}function H4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=HI(t,i);const s=function(c){if(c.length!==0)return KI(lr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:To(f.field),direction:K4(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Eg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function W4(t){let e=F4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){je(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=qI(h);return f instanceof lr&&EI(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(T){return new sh(So(T.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,lf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,y=h.values||[];return new ih(y,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,y=h.values||[];return new ih(y,f)}(n.endAt)),u4(e,i,o,s,a,"F",l,c)}function q4(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=So(n.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=So(n.unaryFilter.field);return Pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=So(n.unaryFilter.field);return Pt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=So(n.unaryFilter.field);return Pt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return me()}}(t):t.fieldFilter!==void 0?function(n){return Pt.create(So(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return me()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return lr.create(n.compositeFilter.filters.map(r=>qI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return me()}}(n.compositeFilter.op))}(t):me()}function K4(t){return D4[t]}function G4(t){return L4[t]}function Q4(t){return M4[t]}function To(t){return{fieldPath:t.canonicalString()}}function So(t){return Vt.fromServerFormat(t.fieldPath)}function KI(t){return t instanceof Pt?function(n){if(n.op==="=="){if(l1(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NAN"}};if(a1(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(l1(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NAN"}};if(a1(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(n.field),op:G4(n.op),value:n.value}}}(t):t instanceof lr?function(n){const r=n.getFilters().map(i=>KI(i));return r.length===1?r[0]:{compositeFilter:{op:Q4(n.op),filters:r}}}(t):me()}function X4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function GI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n,r,i,s=ge.min(),o=ge.min(),a=Ut.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Mi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e){this.ct=e}}function J4(t){const e=W4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?wg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(){this.un=new eV}addToCollectionParentIndex(e,n){return this.un.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Ji.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class eV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ot(Xe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ot(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class pn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(41943040,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ha(0)}static kn(){return new ha(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1([t,e],[n,r]){const i=Oe(t,n);return i===0?Oe(e,r):i}class tV{constructor(e){this.Un=e,this.buffer=new Ot(P1),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();P1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){Y("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Aa(n)?Y("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ca(n)}await this.Hn(3e5)})}}class rV{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(af.oe);const r=new tV(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(S1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),S1):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),wo()<=Ie.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function iV(t,e){return new rV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this.changes=new ro(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&zl(r.mutation,i,Rn.empty(),bt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Re()){const i=ks();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Tl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ks();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Re()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=li();const o=Bl(),a=function(){return Bl()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof ds)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),zl(d.mutation,c,d.mutation.getFieldMask(),bt.now())):o.set(c.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new oV(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Bl();let i=new dt((o,a)=>o-a),s=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||Rn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(i.get(a.batchId)||Re()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=AI();d.forEach(f=>{if(!s.has(f)){const y=MI(n.get(f),r.get(f));y!==null&&h.set(f,y),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):B.resolve(ks());let a=-1,l=s;return o.next(c=>B.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,Re())).next(d=>({batchId:a,changes:CI(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let i=Tl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Tl();return this.indexManager.getCollectionParents(e,s).next(a=>B.forEach(a,l=>{const c=function(h,f){return new Uu(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Xt.newInvalidDocument(d)))});let a=Tl();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&zl(d.mutation,c,Rn.empty(),bt.now()),df(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return B.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Pr(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:J4(i.bundledQuery),readTime:Pr(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(){this.overlays=new dt(ae.comparator),this.Ir=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ks();return B.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=ks(),s=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new dt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=ks(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=ks(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return B.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new R4(n,r));let s=this.Ir.get(n);s===void 0&&(s=Re(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(){this.Tr=new Ot(Ct.Er),this.dr=new Ot(Ct.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ct(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ct(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ae(new Xe([])),r=new Ct(n,e),i=new Ct(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ae(new Xe([])),r=new Ct(n,e),i=new Ct(n,e+1);let s=Re();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ct(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ct{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ae.comparator(e.key,n.key)||Oe(e.wr,n.wr)}static Ar(e,n){return Oe(e.wr,n.wr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ot(Ct.Er)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new b4(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ct(n,0),i=new Ct(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ot(Oe);return n.forEach(i=>{const s=new Ct(i,0),o=new Ct(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),B.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ae.isDocumentKey(s)||(s=s.child(""));const o=new Ct(new ae(s),0);let a=new Ot(Oe);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},o),B.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){je(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return B.forEach(n.mutations,i=>{const s=new Ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ct(n,0),i=this.br.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e){this.Mr=e,this.docs=function(){return new dt(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let r=li();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Xt.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=li();const o=n.path,a=new ae(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||zM(BM(d),r)<=0||(i.has(d.key)||df(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,n,r,i){me()}Or(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new fV(this)}getSize(e){return B.resolve(this.size)}}class fV extends sV{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e){this.persistence=e,this.Nr=new ro(n=>_v(n),wv),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Iv,this.targetCount=0,this.kr=ha.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),B.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ha(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Kn(n),B.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n){this.qr={},this.overlays={},this.Qr=new af(0),this.Kr=!1,this.Kr=!0,this.$r=new cV,this.referenceDelegate=e(this),this.Ur=new pV(this),this.indexManager=new Z4,this.remoteDocumentCache=function(i){return new hV(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Y4(n),this.Gr=new lV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new dV(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const i=new mV(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return B.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class mV extends HM{constructor(e){super(),this.currentSequenceNumber=e}}class bv{constructor(e){this.persistence=e,this.Jr=new Iv,this.Yr=null}static Zr(e){return new bv(e)}get Xr(){if(this.Yr)return this.Yr;throw me()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Xr,r=>{const i=ae.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ge.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return B.or([()=>B.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class lh{constructor(e,n){this.persistence=e,this.ti=new ro(r=>KM(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=iV(this,n)}static Zr(e,n){return new lh(e,n)}zr(){}jr(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}Zn(e,n){return B.forEach(this.ti,(r,i)=>this.nr(e,r,i).next(s=>s?B.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Or(e,o=>this.nr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ge.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),B.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=fd(e.data.value)),n}nr(e,n,r){return B.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ti.get(n);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Re(),i=Re();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Rv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return QO()?8:WM(en())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new gV;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(wo()<=Ie.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),B.resolve()):(wo()<=Ie.DEBUG&&Y("QueryEngine","Query:",Eo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(wo()<=Ie.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(n))):B.resolve())}Yi(e,n){if(h1(n))return B.resolve(null);let r=Sr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=wg(n,null,"F"),r=Sr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Re(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,wg(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return h1(n)||i.isEqual(ge.min())?B.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?B.resolve(null):(wo()<=Ie.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Eo(n)),this.rs(e,o,n,UM(i,-1)).next(a=>a))})}ts(e,n){let r=new Ot(bI(e));return n.forEach((i,s)=>{df(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return wo()<=Ie.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Eo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ji.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new dt(Oe),this._s=new ro(s=>_v(s),wv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function _V(t,e,n,r){return new vV(t,e,n,r)}async function XI(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Re();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function wV(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,f=h.keys();let y=B.resolve();return f.forEach(T=>{y=y.next(()=>d.getEntry(l,T)).next(S=>{const I=c.docVersions.get(T);je(I!==null),S.version.compareTo(I)<0&&(h.applyToRemoteDocument(S,c),S.isValidDocument()&&(S.setReadTime(c.commitVersion),d.addEntry(S)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Re();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function YI(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function EV(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,h)));let y=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?y=y.withResumeToken(Ut.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(h,y),function(S,I,w){return S.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,y,d)&&a.push(n.Ur.updateTargetData(s,y))});let l=li(),c=Re();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(TV(s,o,e.documentUpdates).next(d=>{l=d.Ps,c=d.Is})),!r.isEqual(ge.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(h=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.os=i,s))}function TV(t,e,n){let r=Re(),i=Re();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=li();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ge.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Y("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function SV(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function PV(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,B.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Mi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function xg(t,e,n){const r=ye(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Aa(o))throw o;Y("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function x1(t,e,n){const r=ye(t);let i=ge.min(),s=Re();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=ye(l),f=h._s.get(d);return f!==void 0?B.resolve(h.os.get(f)):h.Ur.getTargetData(c,d)}(r,o,Sr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ge.min(),n?s:Re())).next(a=>(xV(r,d4(e),a),{documents:a,Ts:s})))}function xV(t,e,n){let r=t.us.get(e)||ge.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class I1{constructor(){this.activeTargetIds=y4()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IV{constructor(){this.so=new I1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new I1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc=null;function Op(){return Bc===null?Bc=function(){return 268435456+Math.round(2147483648*Math.random())}():Bc++,"0x"+Bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class AV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Op(),l=this.xo(n,r.toUriEncodedString());Y("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,l,c,i).then(d=>(Y("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw la("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ra}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=RV[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Op();return new Promise((o,a)=>{const l=new uI;l.setWithCredentials(!0),l.listenOnce(cI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case hd.NO_ERROR:const d=l.getResponseJson();Y(Wt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case hd.TIMEOUT:Y(Wt,`RPC '${e}' ${s} timed out`),a(new ee(z.DEADLINE_EXCEEDED,"Request time out"));break;case hd.HTTP_ERROR:const h=l.getStatus();if(Y(Wt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const y=f==null?void 0:f.error;if(y&&y.status&&y.message){const T=function(I){const w=I.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(w)>=0?w:z.UNKNOWN}(y.status);a(new ee(T,y.message))}else a(new ee(z.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ee(z.UNAVAILABLE,"Connection failed."));break;default:me()}}finally{Y(Wt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);Y(Wt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Op(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=fI(),a=hI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");Y(Wt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,y=!1;const T=new CV({Io:I=>{y?Y(Wt,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(f||(Y(Wt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),Y(Wt,`RPC '${e}' stream ${i} sending:`,I),h.send(I))},To:()=>h.close()}),S=(I,w,g)=>{I.listen(w,_=>{try{g(_)}catch(A){setTimeout(()=>{throw A},0)}})};return S(h,El.EventType.OPEN,()=>{y||(Y(Wt,`RPC '${e}' stream ${i} transport opened.`),T.yo())}),S(h,El.EventType.CLOSE,()=>{y||(y=!0,Y(Wt,`RPC '${e}' stream ${i} transport closed`),T.So())}),S(h,El.EventType.ERROR,I=>{y||(y=!0,la(Wt,`RPC '${e}' stream ${i} transport errored:`,I),T.So(new ee(z.UNAVAILABLE,"The operation could not be completed")))}),S(h,El.EventType.MESSAGE,I=>{var w;if(!y){const g=I.data[0];je(!!g);const _=g,A=_.error||((w=_[0])===null||w===void 0?void 0:w.error);if(A){Y(Wt,`RPC '${e}' stream ${i} received error:`,A);const M=A.status;let k=function(E){const P=Et[E];if(P!==void 0)return FI(P)}(M),R=A.message;k===void 0&&(k=z.INTERNAL,R="Unknown error status: "+M+" with message "+A.message),y=!0,T.So(new ee(k,R)),h.close()}else Y(Wt,`RPC '${e}' stream ${i} received:`,g),T.bo(g)}}),S(a,dI.STAT_EVENT,I=>{I.stat===pg.PROXY?Y(Wt,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===pg.NOPROXY&&Y(Wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.wo()},0),T}}function Np(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(t){return new V4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new JI(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(ai(n.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ee(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Y("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kV extends ZI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=U4(this.serializer,e),r=function(s){if(!("targetChange"in s))return ge.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?Pr(o.readTime):ge.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Pg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=vg(l)?{documents:$4(s,l)}:{query:H4(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=zI(s,o.resumeToken);const c=Eg(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=ah(s,o.snapshotVersion.toTimestamp());const c=Eg(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=q4(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Pg(this.serializer),n.removeTarget=e,this.a_(n)}}class OV extends ZI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return je(!!e.streamToken),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=z4(e.writeResults,e.commitTime),r=Pr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Pg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>B4(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ee(z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Tg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(z.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Tg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(z.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class DV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ai(n),this.D_=!1):Y("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{io(this)&&(Y("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ye(l);c.L_.add(4),await $u(c),c.q_.set("Unknown"),c.L_.delete(4),await gf(c)}(this))})}),this.q_=new DV(r,i)}}async function gf(t){if(io(t))for(const e of t.B_)await e(!0)}async function $u(t){for(const e of t.B_)await e(!1)}function eb(t,e){const n=ye(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Ov(n)?kv(n):ka(n).r_()&&Av(n,e))}function Cv(t,e){const n=ye(t),r=ka(n);n.N_.delete(e),r.r_()&&tb(n,e),n.N_.size===0&&(r.r_()?r.o_():io(n)&&n.q_.set("Unknown"))}function Av(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ka(t).A_(e)}function tb(t,e){t.Q_.xe(e),ka(t).R_(e)}function kv(t){t.Q_=new N4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ka(t).start(),t.q_.v_()}function Ov(t){return io(t)&&!ka(t).n_()&&t.N_.size>0}function io(t){return ye(t).L_.size===0}function nb(t){t.Q_=void 0}async function MV(t){t.q_.set("Online")}async function VV(t){t.N_.forEach((e,n)=>{Av(t,e)})}async function jV(t,e){nb(t),Ov(t)?(t.q_.M_(e),kv(t)):t.q_.set("Unknown")}async function FV(t,e,n){if(t.q_.set("Online"),e instanceof BI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Y("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await uh(t,r)}else if(e instanceof gd?t.Q_.Ke(e):e instanceof UI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ge.min()))try{const r=await YI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(c);d&&s.N_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(Ut.EMPTY_BYTE_STRING,d.snapshotVersion)),tb(s,l);const h=new Mi(d.target,l,c,d.sequenceNumber);Av(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Y("RemoteStore","Failed to raise snapshot:",r),await uh(t,r)}}async function uh(t,e,n){if(!Aa(e))throw e;t.L_.add(1),await $u(t),t.q_.set("Offline"),n||(n=()=>YI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await gf(t)})}function rb(t,e){return e().catch(n=>uh(t,n,e))}async function yf(t){const e=ye(t),n=ns(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;UV(e);)try{const i=await SV(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,BV(e,i)}catch(i){await uh(e,i)}ib(e)&&sb(e)}function UV(t){return io(t)&&t.O_.length<10}function BV(t,e){t.O_.push(e);const n=ns(t);n.r_()&&n.V_&&n.m_(e.mutations)}function ib(t){return io(t)&&!ns(t).n_()&&t.O_.length>0}function sb(t){ns(t).start()}async function zV(t){ns(t).p_()}async function $V(t){const e=ns(t);for(const n of t.O_)e.m_(n.mutations)}async function HV(t,e,n){const r=t.O_.shift(),i=Sv.from(r,e,n);await rb(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await yf(t)}async function WV(t,e){e&&ns(t).V_&&await async function(r,i){if(function(o){return A4(o)&&o!==z.ABORTED}(i.code)){const s=r.O_.shift();ns(r).s_(),await rb(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await yf(r)}}(t,e),ib(t)&&sb(t)}async function R1(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials");const r=io(n);n.L_.add(3),await $u(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await gf(n)}async function qV(t,e){const n=ye(t);e?(n.L_.delete(2),await gf(n)):e||(n.L_.add(2),await $u(n),n.q_.set("Unknown"))}function ka(t){return t.K_||(t.K_=function(n,r,i){const s=ye(n);return s.w_(),new kV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:MV.bind(null,t),Ro:VV.bind(null,t),mo:jV.bind(null,t),d_:FV.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Ov(t)?kv(t):t.q_.set("Unknown")):(await t.K_.stop(),nb(t))})),t.K_}function ns(t){return t.U_||(t.U_=function(n,r,i){const s=ye(n);return s.w_(),new OV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:zV.bind(null,t),mo:WV.bind(null,t),f_:$V.bind(null,t),g_:HV.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await yf(t)):(await t.U_.stop(),t.O_.length>0&&(Y("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Nv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dv(t,e){if(ai("AsyncQueue",`${e}: ${t}`),Aa(t))return new ee(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=Tl(),this.sortedSet=new dt(this.comparator)}static emptySet(e){return new Jo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Jo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Jo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this.W_=new dt(ae.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):me():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class fa{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new fa(e,n,Jo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class GV{constructor(){this.queries=A1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ye(n),s=i.queries;i.queries=A1(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ee(z.ABORTED,"Firestore shutting down"))}}function A1(){return new ro(t=>II(t),cf)}async function ob(t,e){const n=ye(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new KV,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=Dv(o,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Lv(n)}async function ab(t,e){const n=ye(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function QV(t,e){const n=ye(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Lv(n)}function XV(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Lv(t){t.Y_.forEach(e=>{e.next()})}var Ig,k1;(k1=Ig||(Ig={})).ea="default",k1.Cache="cache";class lb{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new fa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=fa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ig.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this.key=e}}class cb{constructor(e){this.key=e}}class YV{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Re(),this.mutatedKeys=Re(),this.Aa=bI(e),this.Ra=new Jo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new C1,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),y=df(this.query,h)?h:null,T=!!f&&this.mutatedKeys.has(f.key),S=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let I=!1;f&&y?f.data.isEqual(y.data)?T!==S&&(r.track({type:3,doc:y}),I=!0):this.ga(f,y)||(r.track({type:2,doc:y}),I=!0,(l&&this.Aa(y,l)>0||c&&this.Aa(y,c)<0)&&(a=!0)):!f&&y?(r.track({type:0,doc:y}),I=!0):f&&!y&&(r.track({type:1,doc:f}),I=!0,(l||c)&&(a=!0)),I&&(y?(o=o.add(y),s=S?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,h)=>function(y,T){const S=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me()}};return S(y)-S(T)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new fa(this.query,e.Ra,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new C1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Re(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new cb(r))}),this.da.forEach(r=>{e.has(r)||n.push(new ub(r))}),n}ba(e){this.Ta=e.Ts,this.da=Re();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return fa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class JV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ZV{constructor(e){this.key=e,this.va=!1}}class e3{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ro(a=>II(a),cf),this.Ma=new Map,this.xa=new Set,this.Oa=new dt(ae.comparator),this.Na=new Map,this.La=new Iv,this.Ba={},this.ka=new Map,this.qa=ha.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function t3(t,e,n=!0){const r=gb(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await db(r,e,n,!0),i}async function n3(t,e){const n=gb(t);await db(n,e,!0,!1)}async function db(t,e,n,r){const i=await PV(t.localStore,Sr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await r3(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&eb(t.remoteStore,i),a}async function r3(t,e,n,r,i){t.Ka=(h,f,y)=>async function(S,I,w,g){let _=I.view.ma(w);_.ns&&(_=await x1(S.localStore,I.query,!1).then(({documents:R})=>I.view.ma(R,_)));const A=g&&g.targetChanges.get(I.targetId),M=g&&g.targetMismatches.get(I.targetId)!=null,k=I.view.applyChanges(_,S.isPrimaryClient,A,M);return N1(S,I.targetId,k.wa),k.snapshot}(t,h,f,y);const s=await x1(t.localStore,e,!0),o=new YV(e,s.Ts),a=o.ma(s.documents),l=zu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);N1(t,n,c.wa);const d=new JV(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function i3(t,e,n){const r=ye(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!cf(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await xg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Cv(r.remoteStore,i.targetId),bg(r,i.targetId)}).catch(Ca)):(bg(r,i.targetId),await xg(r.localStore,i.targetId,!0))}async function s3(t,e){const n=ye(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Cv(n.remoteStore,r.targetId))}async function o3(t,e,n){const r=f3(t);try{const i=await function(o,a){const l=ye(o),c=bt.now(),d=a.reduce((y,T)=>y.add(T.key),Re());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=li(),S=Re();return l.cs.getEntries(y,d).next(I=>{T=I,T.forEach((w,g)=>{g.isValidDocument()||(S=S.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,T)).next(I=>{h=I;const w=[];for(const g of a){const _=x4(g,h.get(g.key).overlayedDocument);_!=null&&w.push(new ds(g.key,_,vI(_.value.mapValue),sr.exists(!0)))}return l.mutationQueue.addMutationBatch(y,c,w,a)}).next(I=>{f=I;const w=I.applyToLocalDocumentSet(h,S);return l.documentOverlayCache.saveOverlays(y,I.batchId,w)})}).then(()=>({batchId:f.batchId,changes:CI(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new dt(Oe)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await Hu(r,i.changes),await yf(r.remoteStore)}catch(i){const s=Dv(i,"Failed to persist write");n.reject(s)}}async function hb(t,e){const n=ye(t);try{const r=await EV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?je(o.va):i.removedDocuments.size>0&&(je(o.va),o.va=!1))}),await Hu(n,r,e)}catch(r){await Ca(r)}}function O1(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ye(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const f of h.j_)f.Z_(a)&&(c=!0)}),c&&Lv(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function a3(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new dt(ae.comparator);o=o.insert(s,Xt.newNoDocument(s,ge.min()));const a=Re().add(s),l=new pf(ge.min(),new Map,new dt(Oe),o,a);await hb(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Mv(r)}else await xg(r.localStore,e,!1).then(()=>bg(r,e,n)).catch(Ca)}async function l3(t,e){const n=ye(t),r=e.batch.batchId;try{const i=await wV(n.localStore,e);pb(n,r,null),fb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hu(n,i)}catch(i){await Ca(i)}}async function u3(t,e,n){const r=ye(t);try{const i=await function(o,a){const l=ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(je(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);pb(r,e,n),fb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Hu(r,i)}catch(i){await Ca(i)}}function fb(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function pb(t,e,n){const r=ye(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function bg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||mb(t,r)})}function mb(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Cv(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Mv(t))}function N1(t,e,n){for(const r of n)r instanceof ub?(t.La.addReference(r.key,e),c3(t,r)):r instanceof cb?(Y("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||mb(t,r.key)):me()}function c3(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Y("SyncEngine","New document in limbo: "+n),t.xa.add(r),Mv(t))}function Mv(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ae(Xe.fromString(e)),r=t.qa.next();t.Na.set(r,new ZV(n)),t.Oa=t.Oa.insert(n,r),eb(t.remoteStore,new Mi(Sr(Ev(n.path)),r,"TargetPurposeLimboResolution",af.oe))}}async function Hu(t,e,n){const r=ye(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=Rv.Wi(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,c){const d=ye(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>B.forEach(c,f=>B.forEach(f.$i,y=>d.persistence.referenceDelegate.addReference(h,f.targetId,y)).next(()=>B.forEach(f.Ui,y=>d.persistence.referenceDelegate.removeReference(h,f.targetId,y)))))}catch(h){if(!Aa(h))throw h;Y("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const y=d.os.get(f),T=y.snapshotVersion,S=y.withLastLimboFreeSnapshotVersion(T);d.os=d.os.insert(f,S)}}}(r.localStore,s))}async function d3(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){Y("SyncEngine","User change. New user:",e.toKey());const r=await XI(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new ee(z.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Hu(n,r.hs)}}function h3(t,e){const n=ye(t),r=n.Na.get(e);if(r&&r.va)return Re().add(r.key);{let i=Re();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function gb(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=hb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=h3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=a3.bind(null,e),e.Ca.d_=QV.bind(null,e.eventManager),e.Ca.$a=XV.bind(null,e.eventManager),e}function f3(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=l3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=u3.bind(null,e),e}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mf(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return _V(this.persistence,new yV,e.initialUser,this.serializer)}Ga(e){return new QI(bv.Zr,this.serializer)}Wa(e){return new IV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class p3 extends ch{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){je(this.persistence.referenceDelegate instanceof lh);const r=this.persistence.referenceDelegate.garbageCollector;return new nV(r,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new QI(r=>lh.Zr(r,n),this.serializer)}}class Rg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>O1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=d3.bind(null,this.syncEngine),await qV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new GV}()}createDatastore(e){const n=mf(e.databaseInfo.databaseId),r=function(s){return new AV(s)}(e.databaseInfo);return function(s,o,a,l){return new NV(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new LV(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>O1(this.syncEngine,n,0),function(){return b1.D()?new b1:new bV}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const h=new e3(i,s,o,a,l,c);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ye(i);Y("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await $u(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Rg.provider={build:()=>new Rg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ai("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Gt.UNAUTHENTICATED,this.clientId=mI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Y("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Dv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Dp(t,e){t.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await XI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function D1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await g3(t);Y("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>R1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>R1(e.remoteStore,i)),t._onlineComponents=e}async function g3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y("FirestoreClient","Using user provided OfflineComponentProvider");try{await Dp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;la("Error using user provided cache. Falling back to memory cache: "+n),await Dp(t,new ch)}}else Y("FirestoreClient","Using default OfflineComponentProvider"),await Dp(t,new p3(void 0));return t._offlineComponents}async function vb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y("FirestoreClient","Using user provided OnlineComponentProvider"),await D1(t,t._uninitializedComponentsProvider._online)):(Y("FirestoreClient","Using default OnlineComponentProvider"),await D1(t,new Rg))),t._onlineComponents}function y3(t){return vb(t).then(e=>e.syncEngine)}async function _b(t){const e=await vb(t),n=e.eventManager;return n.onListen=t3.bind(null,e.syncEngine),n.onUnlisten=i3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=n3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=s3.bind(null,e.syncEngine),n}function v3(t,e,n={}){const r=new Gr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new yb({next:f=>{d.Za(),o.enqueueAndForget(()=>ab(s,h));const y=f.docs.has(a);!y&&f.fromCache?c.reject(new ee(z.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&f.fromCache&&l&&l.source==="server"?c.reject(new ee(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new lb(Ev(a.path),d,{includeMetadataChanges:!0,_a:!0});return ob(s,h)}(await _b(t),t.asyncQueue,e,n,r)),r.promise}function _3(t,e,n={}){const r=new Gr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new yb({next:f=>{d.Za(),o.enqueueAndForget(()=>ab(s,h)),f.fromCache&&l.source==="server"?c.reject(new ee(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new lb(a,d,{includeMetadataChanges:!0,_a:!0});return ob(s,h)}(await _b(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(t,e,n){if(!n)throw new ee(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function w3(t,e,n,r){if(e===!0&&r===!0)throw new ee(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function M1(t){if(!ae.isDocumentKey(t))throw new ee(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function V1(t){if(ae.isDocumentKey(t))throw new ee(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":me()}function Rr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vf(t);throw new ee(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ee(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}w3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ee(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ee(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ee(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _f{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ee(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new kM;switch(r.type){case"firstParty":return new LM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=L1.get(n);r&&(Y("ComponentProvider","Removing Datastore"),L1.delete(n),r.terminate())}(this),Promise.resolve()}}function E3(t,e,n,r={}){var i;const s=(t=Rr(t,_f))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&la("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Gt.MOCK_USER;else{a=Ex(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ee(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Gt(c)}t._authCredentials=new OM(new pI(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Oa(this.firestore,e,this._query)}}class an{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new an(this.firestore,e,this._key)}}class Gi extends Oa{constructor(e,n,r){super(e,n,Ev(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new an(this.firestore,null,new ae(e))}withConverter(e){return new Gi(this.firestore,e,this._path)}}function Na(t,e,...n){if(t=ct(t),Eb("collection","path",e),t instanceof _f){const r=Xe.fromString(e,...n);return V1(r),new Gi(t,null,r)}{if(!(t instanceof an||t instanceof Gi))throw new ee(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return V1(r),new Gi(t.firestore,null,r)}}function Qs(t,e,...n){if(t=ct(t),arguments.length===1&&(e=mI.newId()),Eb("doc","path",e),t instanceof _f){const r=Xe.fromString(e,...n);return M1(r),new an(t,null,new ae(r))}{if(!(t instanceof an||t instanceof Gi))throw new ee(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return M1(r),new an(t.firestore,t instanceof Gi?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new JI(this,"async_queue_retry"),this.Vu=()=>{const r=Np();r&&Y("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Np();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Np();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Gr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Aa(e))throw e;Y("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ai("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Nv.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&me()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Da extends _f{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new F1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new F1(e),this._firestoreClient=void 0,await e}}}function T3(t,e){const n=typeof t=="object"?t:ov(),r=typeof t=="string"?t:"(default)",i=nf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=vx("firestore");s&&E3(i,...s)}return i}function Vv(t){if(t._terminated)throw new ee(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||S3(t),t._firestoreClient}function S3(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new XM(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,wb(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new m3(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pa(Ut.fromBase64String(e))}catch(n){throw new ee(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pa(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3=/^__.*__$/;class x3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bu(e,this.data,n,this.fieldTransforms)}}class Tb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ds(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Sb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me()}}class Uv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Uv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return dh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Sb(this.Cu)&&P3.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class I3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||mf(e)}Qu(e,n,r,i=!1){return new Uv({Cu:e,methodName:n,qu:r,path:Vt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tf(t){const e=t._freezeSettings(),n=mf(t._databaseId);return new I3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Pb(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);zv("Data must be an object, but it was:",o,r);const a=xb(r,o);let l,c;if(s.merge)l=new Rn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=Cg(e,h,n);if(!o.contains(f))throw new ee(z.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);bb(d,f)||d.push(f)}l=new Rn(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new x3(new yn(a),l,c)}class Sf extends Ef{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sf}}class Bv extends Ef{_toFieldTransform(e){return new E4(e.path,new _u)}isEqual(e){return e instanceof Bv}}function b3(t,e,n,r){const i=t.Qu(1,e,n);zv("Data must be an object, but it was:",i,r);const s=[],o=yn.empty();cs(r,(l,c)=>{const d=$v(e,l,n);c=ct(c);const h=i.Nu(d);if(c instanceof Sf)s.push(d);else{const f=Wu(c,h);f!=null&&(s.push(d),o.set(d,f))}});const a=new Rn(s);return new Tb(o,a,i.fieldTransforms)}function R3(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[Cg(e,r,n)],l=[i];if(s.length%2!=0)throw new ee(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Cg(e,s[f])),l.push(s[f+1]);const c=[],d=yn.empty();for(let f=a.length-1;f>=0;--f)if(!bb(c,a[f])){const y=a[f];let T=l[f];T=ct(T);const S=o.Nu(y);if(T instanceof Sf)c.push(y);else{const I=Wu(T,S);I!=null&&(c.push(y),d.set(y,I))}}const h=new Rn(c);return new Tb(d,h,o.fieldTransforms)}function C3(t,e,n,r=!1){return Wu(n,t.Qu(r?4:3,e))}function Wu(t,e){if(Ib(t=ct(t)))return zv("Unsupported field value:",e,t),xb(t,e);if(t instanceof Ef)return function(r,i){if(!Sb(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Wu(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return v4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=bt.fromDate(r);return{timestampValue:ah(i.serializer,s)}}if(r instanceof bt){const s=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ah(i.serializer,s)}}if(r instanceof jv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pa)return{bytesValue:zI(i.serializer,r._byteString)};if(r instanceof an){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:xv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Fv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Tv(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${vf(r)}`)}(t,e)}function xb(t,e){const n={};return gI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cs(t,(r,i)=>{const s=Wu(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Ib(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof bt||t instanceof jv||t instanceof pa||t instanceof an||t instanceof Ef||t instanceof Fv)}function zv(t,e,n){if(!Ib(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=vf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Cg(t,e,n){if((e=ct(e))instanceof wf)return e._internalPath;if(typeof e=="string")return $v(t,e);throw dh("Field path arguments must be of type string or ",t,!1,void 0,n)}const A3=new RegExp("[~\\*/\\[\\]]");function $v(t,e,n){if(e.search(A3)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wf(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ee(z.INVALID_ARGUMENT,a+t+l)}function bb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new k3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class k3 extends Rb{data(){return super.data()}}function Cb(t,e){return typeof e=="string"?$v(t,e):e instanceof wf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hv{}class N3 extends Hv{}function D3(t,e,...n){let r=[];e instanceof Hv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof qv).length,a=s.filter(l=>l instanceof Wv).length;if(o>1||o>0&&a>0)throw new ee(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Wv extends N3{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Wv(e,n,r)}_apply(e){const n=this._parse(e);return Ab(e._query,n),new Oa(e.firestore,e.converter,_g(e._query,n))}_parse(e){const n=Tf(e.firestore);return function(s,o,a,l,c,d,h){let f;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ee(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){B1(h,d);const y=[];for(const T of h)y.push(U1(l,s,T));f={arrayValue:{values:y}}}else f=U1(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||B1(h,d),f=C3(a,o,h,d==="in"||d==="not-in");return Pt.create(c,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class qv extends Hv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new qv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:lr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)Ab(o,l),o=_g(o,l)}(e._query,n),new Oa(e.firestore,e.converter,_g(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function U1(t,e,n){if(typeof(n=ct(n))=="string"){if(n==="")throw new ee(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xI(e)&&n.indexOf("/")!==-1)throw new ee(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Xe.fromString(n));if(!ae.isDocumentKey(r))throw new ee(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return o1(t,new ae(r))}if(n instanceof an)return o1(t,n._key);throw new ee(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vf(n)}.`)}function B1(t,e){if(!Array.isArray(t)||t.length===0)throw new ee(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ab(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ee(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ee(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class L3{convertValue(e,n="none"){switch(ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw me()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return cs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>gt(o.doubleValue));return new Fv(s)}convertGeoPoint(e){return new jv(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=uf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gu(e));default:return null}}convertTimestamp(e){const n=Zi(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xe.fromString(e);je(GI(r));const i=new yu(r.get(1),r.get(3)),s=new ae(r.popFirst(5));return i.isEqual(n)||ai(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ob extends Rb{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Cb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class yd extends Ob{data(e={}){return super.data(e)}}class M3{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Pl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new yd(this._firestore,this._userDataWriter,r.key,r,new Pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new yd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Pl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new yd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Pl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:V3(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function V3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t){t=Rr(t,an);const e=Rr(t.firestore,Da);return v3(Vv(e),t._key).then(n=>F3(e,t,n))}class Nb extends L3{constructor(e){super(),this.firestore=e}convertBytes(e){return new pa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new an(this.firestore,null,n)}}function Pf(t){t=Rr(t,Oa);const e=Rr(t.firestore,Da),n=Vv(e),r=new Nb(e);return O3(t._query),_3(n,t._query).then(i=>new M3(e,r,t,i))}function j3(t,e,n){t=Rr(t,an);const r=Rr(t.firestore,Da),i=kb(t.converter,e);return Gv(r,[Pb(Tf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,sr.none())])}function z1(t,e,n,...r){t=Rr(t,an);const i=Rr(t.firestore,Da),s=Tf(i);let o;return o=typeof(e=ct(e))=="string"||e instanceof wf?R3(s,"updateDoc",t._key,e,n,r):b3(s,"updateDoc",t._key,e),Gv(i,[o.toMutation(t._key,sr.exists(!0))])}function Db(t,e){const n=Rr(t.firestore,Da),r=Qs(t),i=kb(t.converter,e);return Gv(n,[Pb(Tf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,sr.exists(!1))]).then(()=>r)}function Gv(t,e){return function(r,i){const s=new Gr;return r.asyncQueue.enqueueAndForget(async()=>o3(await y3(r),i,s)),s.promise}(Vv(t),e)}function F3(t,e,n){const r=n.docs.get(e._key),i=new Nb(t);return new Ob(t,i,e._key,r,new Pl(n.hasPendingWrites,n.fromCache),e.converter)}function Lb(){return new Bv("serverTimestamp")}(function(e,n=!0){(function(i){Ra=i})(to),Ws(new Yi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Da(new NM(r.getProvider("auth-internal")),new VM(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ee(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yu(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),wr(e1,"4.7.4",e),wr(e1,"4.7.4","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="firebasestorage.googleapis.com",Vb="storageBucket",U3=2*60*1e3,B3=10*60*1e3,z3=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht extends Cr{constructor(e,n,r=0){super(Lp(e),`Firebase Storage: ${n} (${Lp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ht.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Lp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Je;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Je||(Je={}));function Lp(t){return"storage/"+t}function Qv(){const t="An unknown error occurred, please check the error payload for server response.";return new ht(Je.UNKNOWN,t)}function $3(t){return new ht(Je.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function H3(t){return new ht(Je.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function W3(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ht(Je.UNAUTHENTICATED,t)}function q3(){return new ht(Je.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function K3(t){return new ht(Je.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function jb(){return new ht(Je.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Fb(){return new ht(Je.CANCELED,"User canceled the upload/download.")}function G3(t){return new ht(Je.INVALID_URL,"Invalid URL '"+t+"'.")}function Q3(t){return new ht(Je.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function X3(){return new ht(Je.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Vb+"' property when initializing the app?")}function Ub(){return new ht(Je.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Y3(){return new ht(Je.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function J3(){return new ht(Je.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Z3(t){return new ht(Je.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ag(t){return new ht(Je.INVALID_ARGUMENT,t)}function Bb(){return new ht(Je.APP_DELETED,"The Firebase app was deleted.")}function ej(t){return new ht(Je.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $l(t,e){return new ht(Je.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function cl(t){throw new ht(Je.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Cn.makeFromUrl(e,n)}catch{return new Cn(e,"")}if(r.path==="")return r;throw Q3(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(A){A.path_=decodeURIComponent(A.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",y=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),T={bucket:1,path:3},S=n===Mb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",w=new RegExp(`^https?://${S}/${i}/${I}`,"i"),_=[{regex:a,indices:l,postModify:s},{regex:y,indices:T,postModify:c},{regex:w,indices:{bucket:1,path:2},postModify:c}];for(let A=0;A<_.length;A++){const M=_[A],k=M.regex.exec(e);if(k){const R=k[M.indices.bucket];let v=k[M.indices.path];v||(v=""),r=new Cn(R,v),M.postModify(r);break}}if(r==null)throw G3(e);return r}}class tj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...I){c||(c=!0,e.apply(null,I))}function h(I){i=setTimeout(()=>{i=null,t(y,l())},I)}function f(){s&&clearTimeout(s)}function y(I,...w){if(c){f();return}if(I){f(),d.call(null,I,...w);return}if(l()||o){f(),d.call(null,I,...w);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,h(_)}let T=!1;function S(I){T||(T=!0,f(),!c&&(i!==null?(I||(a=2),clearTimeout(i),h(0)):I||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,S(!0)},n),S}function rj(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(t){return t!==void 0}function sj(t){return typeof t=="function"}function oj(t){return typeof t=="object"&&!Array.isArray(t)}function xf(t){return typeof t=="string"||t instanceof String}function $1(t){return Xv()&&t instanceof Blob}function Xv(){return typeof Blob<"u"}function H1(t,e,n,r){if(r<e)throw Ag(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Ag(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function zb(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var js;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(js||(js={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e,n,r,i,s,o,a,l,c,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,T)=>{this.resolve_=y,this.reject_=T,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new zc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===js.NO_ERROR,l=s.getStatus();if(!a||$b(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===js.ABORT;r(!1,new zc(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new zc(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());ij(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Qv();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?Bb():Fb();o(l)}else{const l=jb();o(l)}};this.canceled_?n(!1,new zc(!1,null,!0)):this.backoffId_=nj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&rj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class zc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function lj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function uj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function cj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function dj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function hj(t,e,n,r,i,s,o=!0){const a=zb(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return cj(c,e),lj(c,n),uj(c,s),dj(c,r),new aj(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function pj(...t){const e=fj();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Xv())return new Blob(t);throw new ht(Je.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function mj(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(t){if(typeof atob>"u")throw Z3("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Mp{constructor(e,n){this.data=e,this.contentType=n||null}}function yj(t,e){switch(t){case yr.RAW:return new Mp(Hb(e));case yr.BASE64:case yr.BASE64URL:return new Mp(Wb(t,e));case yr.DATA_URL:return new Mp(_j(e),wj(e))}throw Qv()}function Hb(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function vj(t){let e;try{e=decodeURIComponent(t)}catch{throw $l(yr.DATA_URL,"Malformed data URL.")}return Hb(e)}function Wb(t,e){switch(t){case yr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw $l(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case yr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw $l(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=gj(e)}catch(i){throw i.message.includes("polyfill")?i:$l(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class qb{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw $l(yr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Ej(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function _j(t){const e=new qb(t);return e.base64?Wb(yr.BASE64,e.rest):vj(e.rest)}function wj(t){return new qb(t).contentType}function Ej(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n){let r=0,i="";$1(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if($1(this.data_)){const r=this.data_,i=mj(r,e,n);return i===null?null:new Oi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Oi(r,!0)}}static getBlob(...e){if(Xv()){const n=e.map(r=>r instanceof Oi?r.data_:r);return new Oi(pj.apply(null,n))}else{const n=e.map(o=>xf(o)?yj(yr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Oi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(t){let e;try{e=JSON.parse(t)}catch{return null}return oj(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Sj(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Gb(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(t,e){return e}class tn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Pj}}let $c=null;function xj(t){return!xf(t)||t.length<2?t:Gb(t)}function Qb(){if($c)return $c;const t=[];t.push(new tn("bucket")),t.push(new tn("generation")),t.push(new tn("metageneration")),t.push(new tn("name","fullPath",!0));function e(s,o){return xj(o)}const n=new tn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new tn("size");return i.xform=r,t.push(i),t.push(new tn("timeCreated")),t.push(new tn("updated")),t.push(new tn("md5Hash",null,!0)),t.push(new tn("cacheControl",null,!0)),t.push(new tn("contentDisposition",null,!0)),t.push(new tn("contentEncoding",null,!0)),t.push(new tn("contentLanguage",null,!0)),t.push(new tn("contentType",null,!0)),t.push(new tn("metadata","customMetadata",!0)),$c=t,$c}function Ij(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Cn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function bj(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return Ij(r,t),r}function Xb(t,e,n){const r=Kb(e);return r===null?null:bj(t,r,n)}function Rj(t,e,n,r){const i=Kb(e);if(i===null||!xf(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=t.bucket,h=t.fullPath,f="/b/"+o(d)+"/o/"+o(h),y=qu(f,n,r),T=zb({alt:"media",token:c});return y+T})[0]}function Yb(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class La{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(t){if(!t)throw Qv()}function Yv(t,e){function n(r,i){const s=Xb(t,i,e);return Qr(s!==null),s}return n}function Cj(t,e){function n(r,i){const s=Xb(t,i,e);return Qr(s!==null),Rj(s,i,t.host,t._protocol)}return n}function Ku(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=q3():i=W3():n.getStatus()===402?i=H3(t.bucket):n.getStatus()===403?i=K3(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Jb(t){const e=Ku(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=$3(t.path)),s.serverResponse=i.serverResponse,s}return n}function Aj(t,e,n){const r=e.fullServerUrl(),i=qu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new La(i,s,Yv(t,n),o);return a.errorHandler=Jb(e),a}function kj(t,e,n){const r=e.fullServerUrl(),i=qu(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new La(i,s,Cj(t,n),o);return a.errorHandler=Jb(e),a}function Oj(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Zb(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Oj(null,e)),r}function Nj(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let A=0;A<2;A++)_=_+Math.random().toString().slice(2);return _}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=Zb(e,r,i),d=Yb(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",y=Oi.getBlob(h,r,f);if(y===null)throw Ub();const T={name:c.fullPath},S=qu(s,t.host,t._protocol),I="POST",w=t.maxUploadRetryTime,g=new La(S,I,Yv(t,n),w);return g.urlParams=T,g.headers=o,g.body=y.uploadData(),g.errorHandler=Ku(e),g}class hh{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function Jv(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Qr(!1)}return Qr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Dj(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=Zb(e,r,i),a={name:o.fullPath},l=qu(s,t.host,t._protocol),c="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=Yb(o,n),f=t.maxUploadRetryTime;function y(S){Jv(S);let I;try{I=S.getResponseHeader("X-Goog-Upload-URL")}catch{Qr(!1)}return Qr(xf(I)),I}const T=new La(l,c,y,f);return T.urlParams=a,T.headers=d,T.body=h,T.errorHandler=Ku(e),T}function Lj(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(c){const d=Jv(c,["active","final"]);let h=null;try{h=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Qr(!1)}h||Qr(!1);const f=Number(h);return Qr(!isNaN(f)),new hh(f,r.size(),d==="final")}const o="POST",a=t.maxUploadRetryTime,l=new La(n,o,s,a);return l.headers=i,l.errorHandler=Ku(e),l}const W1=256*1024;function Mj(t,e,n,r,i,s,o,a){const l=new hh(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw Y3();const c=l.total-l.current;let d=c;i>0&&(d=Math.min(d,i));const h=l.current,f=h+d;let y="";d===0?y="finalize":c===d?y="upload, finalize":y="upload";const T={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":`${l.current}`},S=r.slice(h,f);if(S===null)throw Ub();function I(A,M){const k=Jv(A,["active","final"]),R=l.current+d,v=r.size();let E;return k==="final"?E=Yv(e,s)(A,M):E=null,new hh(R,v,k==="final",E)}const w="POST",g=e.maxUploadRetryTime,_=new La(n,w,I,g);return _.headers=T,_.body=S.uploadData(),_.progressCallback=a||null,_.errorHandler=Ku(t),_}const mn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Vp(t){switch(t){case"running":case"pausing":case"canceling":return mn.RUNNING;case"paused":return mn.PAUSED;case"success":return mn.SUCCESS;case"canceled":return mn.CANCELED;case"error":return mn.ERROR;default:return mn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e,n,r){if(sj(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class jj{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=js.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=js.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=js.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw cl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw cl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw cl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw cl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw cl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Fj extends jj{initXhr(){this.xhr_.responseType="text"}}function Po(){return new Fj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Qb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Je.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if($b(i.status,[]))if(s)i=jb();else{this.sleepTime=Math.max(this.sleepTime*2,z3),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Je.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=Dj(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Po,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=Lj(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Po,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=W1*this._chunkMultiplier,n=new hh(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=Mj(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Po,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){W1*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=Aj(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Po,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=Nj(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Po,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Fb(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Vp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new Vj(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Vp(this._state)){case mn.SUCCESS:vo(this._resolve.bind(null,this.snapshot))();break;case mn.CANCELED:case mn.ERROR:const n=this._reject;vo(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Vp(this._state)){case mn.RUNNING:case mn.PAUSED:e.next&&vo(e.next.bind(e,this.snapshot))();break;case mn.SUCCESS:e.complete&&vo(e.complete.bind(e))();break;case mn.CANCELED:case mn.ERROR:e.error&&vo(e.error.bind(e,this._error))();break;default:e.error&&vo(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){this._service=e,n instanceof Cn?this._location=n:this._location=Cn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Xs(e,n)}get root(){const e=new Cn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Gb(this._location.path)}get storage(){return this._service}get parent(){const e=Tj(this._location.path);if(e===null)return null;const n=new Cn(this._location.bucket,e);return new Xs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw ej(e)}}function Bj(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Uj(t,new Oi(e),n)}function zj(t){t._throwIfRoot("getDownloadURL");const e=kj(t.storage,t._location,Qb());return t.storage.makeRequestWithTokens(e,Po).then(n=>{if(n===null)throw J3();return n})}function $j(t,e){const n=Sj(t._location.path,e),r=new Cn(t._location.bucket,n);return new Xs(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(t){return/^[A-Za-z]+:\/\//.test(t)}function Wj(t,e){return new Xs(t,e)}function eR(t,e){if(t instanceof Zv){const n=t;if(n._bucket==null)throw X3();const r=new Xs(n,n._bucket);return e!=null?eR(r,e):r}else return e!==void 0?$j(t,e):t}function qj(t,e){if(e&&Hj(e)){if(t instanceof Zv)return Wj(t,e);throw Ag("To use ref(service, url), the first argument must be a Storage instance.")}else return eR(t,e)}function q1(t,e){const n=e==null?void 0:e[Vb];return n==null?null:Cn.makeFromBucketSpec(n,t)}function Kj(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Ex(i,t.app.options.projectId))}class Zv{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Mb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=U3,this._maxUploadRetryTime=B3,this._requests=new Set,i!=null?this._bucket=Cn.makeFromBucketSpec(i,this._host):this._bucket=q1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Cn.makeFromBucketSpec(this._url,e):this._bucket=q1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){H1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){H1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Xs(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new tj(Bb());{const o=hj(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const K1="@firebase/storage",G1="0.13.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="storage";function Gj(t,e,n){return t=ct(t),Bj(t,e,n)}function Qj(t){return t=ct(t),zj(t)}function Xj(t,e){return t=ct(t),qj(t,e)}function Yj(t=ov(),e){t=ct(t);const r=nf(t,tR).getImmediate({identifier:e}),i=vx("storage");return i&&Jj(r,...i),r}function Jj(t,e,n,r={}){Kj(t,e,n,r)}function Zj(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Zv(n,r,i,e,to)}function e5(){Ws(new Yi(tR,Zj,"PUBLIC").setMultipleInstances(!0)),wr(K1,G1,""),wr(K1,G1,"esm2017")}e5();const t5={apiKey:"AIzaSyDtglHZfgsaClEmQF6bnYqvKuDuL3XKWtw",authDomain:"james-store-5d0c7.firebaseapp.com",projectId:"james-store-5d0c7",storageBucket:"james-store-5d0c7.appspot.com",messagingSenderId:"80465013202",appId:"1:80465013202:web:6e27d904178e63e447400b"},e0=Px(t5),kn=T3(e0),nr=CM(e0),n5=Yj(e0);var nR={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Q1=be.createContext&&be.createContext(nR),r5=["attr","size","title"];function i5(t,e){if(t==null)return{};var n=s5(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function s5(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fh(){return fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fh.apply(this,arguments)}function X1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ph(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X1(Object(n),!0).forEach(function(r){o5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o5(t,e,n){return e=a5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a5(t){var e=l5(t,"string");return typeof e=="symbol"?e:e+""}function l5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rR(t){return t&&t.map((e,n)=>be.createElement(e.tag,ph({key:n},e.attr),rR(e.child)))}function Rt(t){return e=>be.createElement(u5,fh({attr:ph({},t.attr)},e),rR(t.child))}function u5(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=i5(t,r5),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),be.createElement("svg",fh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:ph(ph({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&be.createElement("title",null,s),t.children)};return Q1!==void 0?be.createElement(Q1.Consumer,null,n=>e(n)):e(nR)}function c5(t){return Rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function d5(t){return Rt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function h5(t){return Rt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function f5(t){return Rt({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M88 216c81.7 10.2 273.7 102.3 304 232H0c99.5-8.1 184.5-137 88-232zm32-152c32.3 35.6 47.7 83.9 46.4 133.6C249.3 231.3 373.7 321.3 400 448h96C455.3 231.9 222.8 79.5 120 64z"},child:[]}]})(t)}function p5(t){return Rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function m5(t){return Rt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function kg(t){return Rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}function rs(t){return Rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"},child:[]}]})(t)}function g5(t){return Rt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function y5(t){return Rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(t)}function vd(t){return Rt({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"},child:[]}]})(t)}function v5(t){return Rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(t)}function iR(t){return Rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(t)}function _5(t){return Rt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function w5(t){return Rt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(t)}function sR(t){return Rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(t)}function E5(t){return Rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function T5(t){return Rt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function S5(t){return Rt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nt(){return nt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nt.apply(this,arguments)}var Tt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Tt||(Tt={}));const Y1="popstate";function P5(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Tu("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ys(i)}return I5(e,n,null,t)}function we(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ma(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function x5(){return Math.random().toString(36).substr(2,8)}function J1(t,e){return{usr:t.state,key:t.key,idx:e}}function Tu(t,e,n,r){return n===void 0&&(n=null),nt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?hs(e):e,{state:n,key:e&&e.key||r||x5()})}function Ys(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function hs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function I5(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Tt.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(nt({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Tt.Pop;let I=d(),w=I==null?null:I-c;c=I,l&&l({action:a,location:S.location,delta:w})}function f(I,w){a=Tt.Push;let g=Tu(S.location,I,w);c=d()+1;let _=J1(g,c),A=S.createHref(g);try{o.pushState(_,"",A)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(A)}s&&l&&l({action:a,location:S.location,delta:1})}function y(I,w){a=Tt.Replace;let g=Tu(S.location,I,w);c=d();let _=J1(g,c),A=S.createHref(g);o.replaceState(_,"",A),s&&l&&l({action:a,location:S.location,delta:0})}function T(I){let w=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof I=="string"?I:Ys(I);return g=g.replace(/ $/,"%20"),we(w,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,w)}let S={get action(){return a},get location(){return t(i,o)},listen(I){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Y1,h),l=I,()=>{i.removeEventListener(Y1,h),l=null}},createHref(I){return e(i,I)},createURL:T,encodeLocation(I){let w=T(I);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:y,go(I){return o.go(I)}};return S}var Be;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Be||(Be={}));const b5=new Set(["lazy","caseSensitive","path","id","index","children"]);function R5(t){return t.index===!0}function mh(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(we(i.index!==!0||!i.children,"Cannot specify children on an index route"),we(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),R5(i)){let l=nt({},i,e(i),{id:a});return r[a]=l,l}else{let l=nt({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=mh(i.children,e,o,r)),l}})}function Is(t,e,n){return n===void 0&&(n="/"),_d(t,e,n,!1)}function _d(t,e,n,r){let i=typeof e=="string"?hs(e):e,s=Ma(i.pathname||"/",n);if(s==null)return null;let o=oR(t);A5(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=B5(s);a=F5(o[l],c,r)}return a}function C5(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function oR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(we(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Xr([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(we(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),oR(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:V5(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of aR(s.path))i(s,o,l)}),e}function aR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=aR(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function A5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:j5(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const k5=/^:[\w-]+$/,O5=3,N5=2,D5=1,L5=10,M5=-2,Z1=t=>t==="*";function V5(t,e){let n=t.split("/"),r=n.length;return n.some(Z1)&&(r+=M5),e&&(r+=N5),n.filter(i=>!Z1(i)).reduce((i,s)=>i+(k5.test(s)?O5:s===""?D5:L5),r)}function j5(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function F5(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=eE({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=eE({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Xr([s,h.pathname]),pathnameBase:H5(Xr([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Xr([s,h.pathnameBase]))}return o}function eE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=U5(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:y}=d;if(f==="*"){let S=a[h]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const T=a[h];return y&&!T?c[f]=void 0:c[f]=(T||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function U5(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ma(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function B5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ma(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ma(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function z5(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?hs(t):t;return{pathname:n?n.startsWith("/")?n:$5(n,e):e,search:W5(r),hash:q5(i)}}function $5(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function jp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function If(t,e){let n=lR(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function bf(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=hs(t):(i=nt({},t),we(!i.pathname||!i.pathname.includes("?"),jp("?","pathname","search",i)),we(!i.pathname||!i.pathname.includes("#"),jp("#","pathname","hash",i)),we(!i.search||!i.search.includes("#"),jp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=z5(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Xr=t=>t.join("/").replace(/\/\/+/g,"/"),H5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),W5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,q5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class gh{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Rf(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const uR=["post","put","patch","delete"],K5=new Set(uR),G5=["get",...uR],Q5=new Set(G5),X5=new Set([301,302,303,307,308]),Y5=new Set([307,308]),Fp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},J5={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},dl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},t0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Z5=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),cR="remix-router-transitions";function eF(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;we(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let D=t.detectErrorBoundary;i=V=>({hasErrorBoundary:D(V)})}else i=Z5;let s={},o=mh(t.routes,i,void 0,s),a,l=t.basename||"/",c=t.dataStrategy||iF,d=t.patchRoutesOnNavigation,h=nt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,y=new Set,T=null,S=null,I=null,w=t.hydrationData!=null,g=Is(o,t.history.location,l),_=null;if(g==null&&!d){let D=fn(404,{pathname:t.history.location.pathname}),{matches:V,route:F}=dE(o);g=V,_={[F.id]:D}}g&&!t.hydrationData&&Dr(g,o,t.history.location.pathname).active&&(g=null);let A;if(g)if(g.some(D=>D.route.lazy))A=!1;else if(!g.some(D=>D.route.loader))A=!0;else if(h.v7_partialHydration){let D=t.hydrationData?t.hydrationData.loaderData:null,V=t.hydrationData?t.hydrationData.errors:null;if(V){let F=g.findIndex($=>V[$.route.id]!==void 0);A=g.slice(0,F+1).every($=>!Ng($.route,D,V))}else A=g.every(F=>!Ng(F.route,D,V))}else A=t.hydrationData!=null;else if(A=!1,g=[],h.v7_partialHydration){let D=Dr(null,o,t.history.location.pathname);D.active&&D.matches&&(g=D.matches)}let M,k={historyAction:t.history.action,location:t.history.location,matches:g,initialized:A,navigation:Fp,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||_,fetchers:new Map,blockers:new Map},R=Tt.Pop,v=!1,E,P=!1,O=new Map,N=null,C=!1,q=!1,Ve=[],Ne=new Set,re=new Map,H=0,Q=-1,ie=new Map,de=new Set,he=new Map,fe=new Map,De=new Set,Ce=new Map,Ke=new Map,vt;function Fa(){if(f=t.history.listen(D=>{let{action:V,location:F,delta:$}=D;if(vt){vt(),vt=void 0;return}ma(Ke.size===0||$!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let J=qa({currentLocation:k.location,nextLocation:F,historyAction:V});if(J&&$!=null){let oe=new Promise(le=>{vt=le});t.history.go($*-1),hi(J,{state:"blocked",location:F,proceed(){hi(J,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),oe.then(()=>t.history.go($))},reset(){let le=new Map(k.blockers);le.set(J,dl),_t({blockers:le})}});return}return Kn(V,F)}),n){vF(e,O);let D=()=>_F(e,O);e.addEventListener("pagehide",D),N=()=>e.removeEventListener("pagehide",D)}return k.initialized||Kn(Tt.Pop,k.location,{initialHydration:!0}),M}function Bf(){f&&f(),N&&N(),y.clear(),E&&E.abort(),k.fetchers.forEach((D,V)=>ms(V)),k.blockers.forEach((D,V)=>rc(V))}function ao(D){return y.add(D),()=>y.delete(D)}function _t(D,V){V===void 0&&(V={}),k=nt({},k,D);let F=[],$=[];h.v7_fetcherPersist&&k.fetchers.forEach((J,oe)=>{J.state==="idle"&&(De.has(oe)?$.push(oe):F.push(oe))}),[...y].forEach(J=>J(k,{deletedFetchers:$,viewTransitionOpts:V.viewTransitionOpts,flushSync:V.flushSync===!0})),h.v7_fetcherPersist&&(F.forEach(J=>k.fetchers.delete(J)),$.forEach(J=>ms(J)))}function ur(D,V,F){var $,J;let{flushSync:oe}=F===void 0?{}:F,le=k.actionData!=null&&k.navigation.formMethod!=null&&er(k.navigation.formMethod)&&k.navigation.state==="loading"&&(($=D.state)==null?void 0:$._isRedirect)!==!0,te;V.actionData?Object.keys(V.actionData).length>0?te=V.actionData:te=null:le?te=k.actionData:te=null;let ne=V.loaderData?uE(k.loaderData,V.loaderData,V.matches||[],V.errors):k.loaderData,X=k.blockers;X.size>0&&(X=new Map(X),X.forEach((Ee,He)=>X.set(He,dl)));let se=v===!0||k.navigation.formMethod!=null&&er(k.navigation.formMethod)&&((J=D.state)==null?void 0:J._isRedirect)!==!0;a&&(o=a,a=void 0),C||R===Tt.Pop||(R===Tt.Push?t.history.push(D,D.state):R===Tt.Replace&&t.history.replace(D,D.state));let _e;if(R===Tt.Pop){let Ee=O.get(k.location.pathname);Ee&&Ee.has(D.pathname)?_e={currentLocation:k.location,nextLocation:D}:O.has(D.pathname)&&(_e={currentLocation:D,nextLocation:k.location})}else if(P){let Ee=O.get(k.location.pathname);Ee?Ee.add(D.pathname):(Ee=new Set([D.pathname]),O.set(k.location.pathname,Ee)),_e={currentLocation:k.location,nextLocation:D}}_t(nt({},V,{actionData:te,loaderData:ne,historyAction:R,location:D,initialized:!0,navigation:Fp,revalidation:"idle",restoreScrollPosition:Ga(D,V.matches||k.matches),preventScrollReset:se,blockers:X}),{viewTransitionOpts:_e,flushSync:oe===!0}),R=Tt.Pop,v=!1,P=!1,C=!1,q=!1,Ve=[]}async function lo(D,V){if(typeof D=="number"){t.history.go(D);return}let F=Og(k.location,k.matches,l,h.v7_prependBasename,D,h.v7_relativeSplatPath,V==null?void 0:V.fromRouteId,V==null?void 0:V.relative),{path:$,submission:J,error:oe}=tE(h.v7_normalizeFormMethod,!1,F,V),le=k.location,te=Tu(k.location,$,V&&V.state);te=nt({},te,t.history.encodeLocation(te));let ne=V&&V.replace!=null?V.replace:void 0,X=Tt.Push;ne===!0?X=Tt.Replace:ne===!1||J!=null&&er(J.formMethod)&&J.formAction===k.location.pathname+k.location.search&&(X=Tt.Replace);let se=V&&"preventScrollReset"in V?V.preventScrollReset===!0:void 0,_e=(V&&V.flushSync)===!0,Ee=qa({currentLocation:le,nextLocation:te,historyAction:X});if(Ee){hi(Ee,{state:"blocked",location:te,proceed(){hi(Ee,{state:"proceeding",proceed:void 0,reset:void 0,location:te}),lo(D,V)},reset(){let He=new Map(k.blockers);He.set(Ee,dl),_t({blockers:He})}});return}return await Kn(X,te,{submission:J,pendingError:oe,preventScrollReset:se,replace:V&&V.replace,enableViewTransition:V&&V.viewTransition,flushSync:_e})}function Ua(){if(wt(),_t({revalidation:"loading"}),k.navigation.state!=="submitting"){if(k.navigation.state==="idle"){Kn(k.historyAction,k.location,{startUninterruptedRevalidation:!0});return}Kn(R||k.historyAction,k.navigation.location,{overrideNavigation:k.navigation,enableViewTransition:P===!0})}}async function Kn(D,V,F){E&&E.abort(),E=null,R=D,C=(F&&F.startUninterruptedRevalidation)===!0,Nr(k.location,k.matches),v=(F&&F.preventScrollReset)===!0,P=(F&&F.enableViewTransition)===!0;let $=a||o,J=F&&F.overrideNavigation,oe=Is($,V,l),le=(F&&F.flushSync)===!0,te=Dr(oe,$,V.pathname);if(te.active&&te.matches&&(oe=te.matches),!oe){let{error:Fe,notFoundMatches:Ae,route:We}=co(V.pathname);ur(V,{matches:Ae,loaderData:{},errors:{[We.id]:Fe}},{flushSync:le});return}if(k.initialized&&!q&&cF(k.location,V)&&!(F&&F.submission&&er(F.submission.formMethod))){ur(V,{matches:oe},{flushSync:le});return}E=new AbortController;let ne=_o(t.history,V,E.signal,F&&F.submission),X;if(F&&F.pendingError)X=[bs(oe).route.id,{type:Be.error,error:F.pendingError}];else if(F&&F.submission&&er(F.submission.formMethod)){let Fe=await Zu(ne,V,F.submission,oe,te.active,{replace:F.replace,flushSync:le});if(Fe.shortCircuited)return;if(Fe.pendingActionResult){let[Ae,We]=Fe.pendingActionResult;if(xn(We)&&Rf(We.error)&&We.error.status===404){E=null,ur(V,{matches:Fe.matches,loaderData:{},errors:{[Ae]:We.error}});return}}oe=Fe.matches||oe,X=Fe.pendingActionResult,J=Up(V,F.submission),le=!1,te.active=!1,ne=_o(t.history,ne.url,ne.signal)}let{shortCircuited:se,matches:_e,loaderData:Ee,errors:He}=await zf(ne,V,oe,te.active,J,F&&F.submission,F&&F.fetcherSubmission,F&&F.replace,F&&F.initialHydration===!0,le,X);se||(E=null,ur(V,nt({matches:_e||oe},cE(X),{loaderData:Ee,errors:He})))}async function Zu(D,V,F,$,J,oe){oe===void 0&&(oe={}),wt();let le=gF(V,F);if(_t({navigation:le},{flushSync:oe.flushSync===!0}),J){let X=await gs($,V.pathname,D.signal);if(X.type==="aborted")return{shortCircuited:!0};if(X.type==="error"){let se=bs(X.partialMatches).route.id;return{matches:X.partialMatches,pendingActionResult:[se,{type:Be.error,error:X.error}]}}else if(X.matches)$=X.matches;else{let{notFoundMatches:se,error:_e,route:Ee}=co(V.pathname);return{matches:se,pendingActionResult:[Ee.id,{type:Be.error,error:_e}]}}}let te,ne=xl($,V);if(!ne.route.action&&!ne.route.lazy)te={type:Be.error,error:fn(405,{method:D.method,pathname:V.pathname,routeId:ne.route.id})};else if(te=(await kr("action",k,D,[ne],$,null))[ne.route.id],D.signal.aborted)return{shortCircuited:!0};if(Os(te)){let X;return oe&&oe.replace!=null?X=oe.replace:X=oE(te.response.headers.get("Location"),new URL(D.url),l)===k.location.pathname+k.location.search,await Gn(D,te,!0,{submission:F,replace:X}),{shortCircuited:!0}}if(Vi(te))throw fn(400,{type:"defer-action"});if(xn(te)){let X=bs($,ne.route.id);return(oe&&oe.replace)!==!0&&(R=Tt.Push),{matches:$,pendingActionResult:[X.route.id,te]}}return{matches:$,pendingActionResult:[ne.route.id,te]}}async function zf(D,V,F,$,J,oe,le,te,ne,X,se){let _e=J||Up(V,oe),Ee=oe||le||fE(_e),He=!C&&(!h.v7_partialHydration||!ne);if($){if(He){let et=ec(se);_t(nt({navigation:_e},et!==void 0?{actionData:et}:{}),{flushSync:X})}let xe=await gs(F,V.pathname,D.signal);if(xe.type==="aborted")return{shortCircuited:!0};if(xe.type==="error"){let et=bs(xe.partialMatches).route.id;return{matches:xe.partialMatches,loaderData:{},errors:{[et]:xe.error}}}else if(xe.matches)F=xe.matches;else{let{error:et,notFoundMatches:Lr,route:gi}=co(V.pathname);return{matches:Lr,loaderData:{},errors:{[gi.id]:et}}}}let Fe=a||o,[Ae,We]=rE(t.history,k,F,Ee,V,h.v7_partialHydration&&ne===!0,h.v7_skipActionErrorRevalidation,q,Ve,Ne,De,he,de,Fe,l,se);if(Or(xe=>!(F&&F.some(et=>et.route.id===xe))||Ae&&Ae.some(et=>et.route.id===xe)),Q=++H,Ae.length===0&&We.length===0){let xe=Wa();return ur(V,nt({matches:F,loaderData:{},errors:se&&xn(se[1])?{[se[0]]:se[1].error}:null},cE(se),xe?{fetchers:new Map(k.fetchers)}:{}),{flushSync:X}),{shortCircuited:!0}}if(He){let xe={};if(!$){xe.navigation=_e;let et=ec(se);et!==void 0&&(xe.actionData=et)}We.length>0&&(xe.fetchers=tc(We)),_t(xe,{flushSync:X})}We.forEach(xe=>{dn(xe.key),xe.controller&&re.set(xe.key,xe.controller)});let cr=()=>We.forEach(xe=>dn(xe.key));E&&E.signal.addEventListener("abort",cr);let{loaderResults:fi,fetcherResults:Mn}=await za(k,F,Ae,We,D);if(D.signal.aborted)return{shortCircuited:!0};E&&E.signal.removeEventListener("abort",cr),We.forEach(xe=>re.delete(xe.key));let Vn=Hc(fi);if(Vn)return await Gn(D,Vn.result,!0,{replace:te}),{shortCircuited:!0};if(Vn=Hc(Mn),Vn)return de.add(Vn.key),await Gn(D,Vn.result,!0,{replace:te}),{shortCircuited:!0};let{loaderData:pi,errors:mi}=lE(k,F,fi,se,We,Mn,Ce);Ce.forEach((xe,et)=>{xe.subscribe(Lr=>{(Lr||xe.done)&&Ce.delete(et)})}),h.v7_partialHydration&&ne&&k.errors&&(mi=nt({},k.errors,mi));let Qn=Wa(),dr=uo(Q),jn=Qn||dr||We.length>0;return nt({matches:F,loaderData:pi,errors:mi},jn?{fetchers:new Map(k.fetchers)}:{})}function ec(D){if(D&&!xn(D[1]))return{[D[0]]:D[1].data};if(k.actionData)return Object.keys(k.actionData).length===0?null:k.actionData}function tc(D){return D.forEach(V=>{let F=k.fetchers.get(V.key),$=hl(void 0,F?F.data:void 0);k.fetchers.set(V.key,$)}),new Map(k.fetchers)}function Ba(D,V,F,$){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");dn(D);let J=($&&$.flushSync)===!0,oe=a||o,le=Og(k.location,k.matches,l,h.v7_prependBasename,F,h.v7_relativeSplatPath,V,$==null?void 0:$.relative),te=Is(oe,le,l),ne=Dr(te,oe,le);if(ne.active&&ne.matches&&(te=ne.matches),!te){cn(D,V,fn(404,{pathname:le}),{flushSync:J});return}let{path:X,submission:se,error:_e}=tE(h.v7_normalizeFormMethod,!0,le,$);if(_e){cn(D,V,_e,{flushSync:J});return}let Ee=xl(te,X),He=($&&$.preventScrollReset)===!0;if(se&&er(se.formMethod)){nc(D,V,X,Ee,te,ne.active,J,He,se);return}he.set(D,{routeId:V,path:X}),$f(D,V,X,Ee,te,ne.active,J,He,se)}async function nc(D,V,F,$,J,oe,le,te,ne){wt(),he.delete(D);function X(it){if(!it.route.action&&!it.route.lazy){let hr=fn(405,{method:ne.formMethod,pathname:F,routeId:V});return cn(D,V,hr,{flushSync:le}),!0}return!1}if(!oe&&X($))return;let se=k.fetchers.get(D);Ze(D,yF(ne,se),{flushSync:le});let _e=new AbortController,Ee=_o(t.history,F,_e.signal,ne);if(oe){let it=await gs(J,F,Ee.signal);if(it.type==="aborted")return;if(it.type==="error"){cn(D,V,it.error,{flushSync:le});return}else if(it.matches){if(J=it.matches,$=xl(J,F),X($))return}else{cn(D,V,fn(404,{pathname:F}),{flushSync:le});return}}re.set(D,_e);let He=H,Ae=(await kr("action",k,Ee,[$],J,D))[$.route.id];if(Ee.signal.aborted){re.get(D)===_e&&re.delete(D);return}if(h.v7_fetcherPersist&&De.has(D)){if(Os(Ae)||xn(Ae)){Ze(D,Ei(void 0));return}}else{if(Os(Ae))if(re.delete(D),Q>He){Ze(D,Ei(void 0));return}else return de.add(D),Ze(D,hl(ne)),Gn(Ee,Ae,!1,{fetcherSubmission:ne,preventScrollReset:te});if(xn(Ae)){cn(D,V,Ae.error);return}}if(Vi(Ae))throw fn(400,{type:"defer-action"});let We=k.navigation.location||k.location,cr=_o(t.history,We,_e.signal),fi=a||o,Mn=k.navigation.state!=="idle"?Is(fi,k.navigation.location,l):k.matches;we(Mn,"Didn't find any matches after fetcher action");let Vn=++H;ie.set(D,Vn);let pi=hl(ne,Ae.data);k.fetchers.set(D,pi);let[mi,Qn]=rE(t.history,k,Mn,ne,We,!1,h.v7_skipActionErrorRevalidation,q,Ve,Ne,De,he,de,fi,l,[$.route.id,Ae]);Qn.filter(it=>it.key!==D).forEach(it=>{let hr=it.key,fo=k.fetchers.get(hr),sc=hl(void 0,fo?fo.data:void 0);k.fetchers.set(hr,sc),dn(hr),it.controller&&re.set(hr,it.controller)}),_t({fetchers:new Map(k.fetchers)});let dr=()=>Qn.forEach(it=>dn(it.key));_e.signal.addEventListener("abort",dr);let{loaderResults:jn,fetcherResults:xe}=await za(k,Mn,mi,Qn,cr);if(_e.signal.aborted)return;_e.signal.removeEventListener("abort",dr),ie.delete(D),re.delete(D),Qn.forEach(it=>re.delete(it.key));let et=Hc(jn);if(et)return Gn(cr,et.result,!1,{preventScrollReset:te});if(et=Hc(xe),et)return de.add(et.key),Gn(cr,et.result,!1,{preventScrollReset:te});let{loaderData:Lr,errors:gi}=lE(k,Mn,jn,void 0,Qn,xe,Ce);if(k.fetchers.has(D)){let it=Ei(Ae.data);k.fetchers.set(D,it)}uo(Vn),k.navigation.state==="loading"&&Vn>Q?(we(R,"Expected pending action"),E&&E.abort(),ur(k.navigation.location,{matches:Mn,loaderData:Lr,errors:gi,fetchers:new Map(k.fetchers)})):(_t({errors:gi,loaderData:uE(k.loaderData,Lr,Mn,gi),fetchers:new Map(k.fetchers)}),q=!1)}async function $f(D,V,F,$,J,oe,le,te,ne){let X=k.fetchers.get(D);Ze(D,hl(ne,X?X.data:void 0),{flushSync:le});let se=new AbortController,_e=_o(t.history,F,se.signal);if(oe){let Ae=await gs(J,F,_e.signal);if(Ae.type==="aborted")return;if(Ae.type==="error"){cn(D,V,Ae.error,{flushSync:le});return}else if(Ae.matches)J=Ae.matches,$=xl(J,F);else{cn(D,V,fn(404,{pathname:F}),{flushSync:le});return}}re.set(D,se);let Ee=H,Fe=(await kr("loader",k,_e,[$],J,D))[$.route.id];if(Vi(Fe)&&(Fe=await n0(Fe,_e.signal,!0)||Fe),re.get(D)===se&&re.delete(D),!_e.signal.aborted){if(De.has(D)){Ze(D,Ei(void 0));return}if(Os(Fe))if(Q>Ee){Ze(D,Ei(void 0));return}else{de.add(D),await Gn(_e,Fe,!1,{preventScrollReset:te});return}if(xn(Fe)){cn(D,V,Fe.error);return}we(!Vi(Fe),"Unhandled fetcher deferred data"),Ze(D,Ei(Fe.data))}}async function Gn(D,V,F,$){let{submission:J,fetcherSubmission:oe,preventScrollReset:le,replace:te}=$===void 0?{}:$;V.response.headers.has("X-Remix-Revalidate")&&(q=!0);let ne=V.response.headers.get("Location");we(ne,"Expected a Location header on the redirect Response"),ne=oE(ne,new URL(D.url),l);let X=Tu(k.location,ne,{_isRedirect:!0});if(n){let Ae=!1;if(V.response.headers.has("X-Remix-Reload-Document"))Ae=!0;else if(t0.test(ne)){const We=t.history.createURL(ne);Ae=We.origin!==e.location.origin||Ma(We.pathname,l)==null}if(Ae){te?e.location.replace(ne):e.location.assign(ne);return}}E=null;let se=te===!0||V.response.headers.has("X-Remix-Replace")?Tt.Replace:Tt.Push,{formMethod:_e,formAction:Ee,formEncType:He}=k.navigation;!J&&!oe&&_e&&Ee&&He&&(J=fE(k.navigation));let Fe=J||oe;if(Y5.has(V.response.status)&&Fe&&er(Fe.formMethod))await Kn(se,X,{submission:nt({},Fe,{formAction:ne}),preventScrollReset:le||v,enableViewTransition:F?P:void 0});else{let Ae=Up(X,J);await Kn(se,X,{overrideNavigation:Ae,fetcherSubmission:oe,preventScrollReset:le||v,enableViewTransition:F?P:void 0})}}async function kr(D,V,F,$,J,oe){let le,te={};try{le=await sF(c,D,V,F,$,J,oe,s,i)}catch(ne){return $.forEach(X=>{te[X.route.id]={type:Be.error,error:ne}}),te}for(let[ne,X]of Object.entries(le))if(dF(X)){let se=X.result;te[ne]={type:Be.redirect,response:lF(se,F,ne,J,l,h.v7_relativeSplatPath)}}else te[ne]=await aF(X);return te}async function za(D,V,F,$,J){let oe=D.matches,le=kr("loader",D,J,F,V,null),te=Promise.all($.map(async se=>{if(se.matches&&se.match&&se.controller){let Ee=(await kr("loader",D,_o(t.history,se.path,se.controller.signal),[se.match],se.matches,se.key))[se.match.route.id];return{[se.key]:Ee}}else return Promise.resolve({[se.key]:{type:Be.error,error:fn(404,{pathname:se.path})}})})),ne=await le,X=(await te).reduce((se,_e)=>Object.assign(se,_e),{});return await Promise.all([pF(V,ne,J.signal,oe,D.loaderData),mF(V,X,$)]),{loaderResults:ne,fetcherResults:X}}function wt(){q=!0,Ve.push(...Or()),he.forEach((D,V)=>{re.has(V)&&Ne.add(V),dn(V)})}function Ze(D,V,F){F===void 0&&(F={}),k.fetchers.set(D,V),_t({fetchers:new Map(k.fetchers)},{flushSync:(F&&F.flushSync)===!0})}function cn(D,V,F,$){$===void 0&&($={});let J=bs(k.matches,V);ms(D),_t({errors:{[J.route.id]:F},fetchers:new Map(k.fetchers)},{flushSync:($&&$.flushSync)===!0})}function $a(D){return h.v7_fetcherPersist&&(fe.set(D,(fe.get(D)||0)+1),De.has(D)&&De.delete(D)),k.fetchers.get(D)||J5}function ms(D){let V=k.fetchers.get(D);re.has(D)&&!(V&&V.state==="loading"&&ie.has(D))&&dn(D),he.delete(D),ie.delete(D),de.delete(D),De.delete(D),Ne.delete(D),k.fetchers.delete(D)}function Hf(D){if(h.v7_fetcherPersist){let V=(fe.get(D)||0)-1;V<=0?(fe.delete(D),De.add(D)):fe.set(D,V)}else ms(D);_t({fetchers:new Map(k.fetchers)})}function dn(D){let V=re.get(D);V&&(V.abort(),re.delete(D))}function Ha(D){for(let V of D){let F=$a(V),$=Ei(F.data);k.fetchers.set(V,$)}}function Wa(){let D=[],V=!1;for(let F of de){let $=k.fetchers.get(F);we($,"Expected fetcher: "+F),$.state==="loading"&&(de.delete(F),D.push(F),V=!0)}return Ha(D),V}function uo(D){let V=[];for(let[F,$]of ie)if($<D){let J=k.fetchers.get(F);we(J,"Expected fetcher: "+F),J.state==="loading"&&(dn(F),ie.delete(F),V.push(F))}return Ha(V),V.length>0}function Wf(D,V){let F=k.blockers.get(D)||dl;return Ke.get(D)!==V&&Ke.set(D,V),F}function rc(D){k.blockers.delete(D),Ke.delete(D)}function hi(D,V){let F=k.blockers.get(D)||dl;we(F.state==="unblocked"&&V.state==="blocked"||F.state==="blocked"&&V.state==="blocked"||F.state==="blocked"&&V.state==="proceeding"||F.state==="blocked"&&V.state==="unblocked"||F.state==="proceeding"&&V.state==="unblocked","Invalid blocker state transition: "+F.state+" -> "+V.state);let $=new Map(k.blockers);$.set(D,V),_t({blockers:$})}function qa(D){let{currentLocation:V,nextLocation:F,historyAction:$}=D;if(Ke.size===0)return;Ke.size>1&&ma(!1,"A router only supports one blocker at a time");let J=Array.from(Ke.entries()),[oe,le]=J[J.length-1],te=k.blockers.get(oe);if(!(te&&te.state==="proceeding")&&le({currentLocation:V,nextLocation:F,historyAction:$}))return oe}function co(D){let V=fn(404,{pathname:D}),F=a||o,{matches:$,route:J}=dE(F);return Or(),{notFoundMatches:$,route:J,error:V}}function Or(D){let V=[];return Ce.forEach((F,$)=>{(!D||D($))&&(F.cancel(),V.push($),Ce.delete($))}),V}function Ka(D,V,F){if(T=D,I=V,S=F||null,!w&&k.navigation===Fp){w=!0;let $=Ga(k.location,k.matches);$!=null&&_t({restoreScrollPosition:$})}return()=>{T=null,I=null,S=null}}function ho(D,V){return S&&S(D,V.map($=>C5($,k.loaderData)))||D.key}function Nr(D,V){if(T&&I){let F=ho(D,V);T[F]=I()}}function Ga(D,V){if(T){let F=ho(D,V),$=T[F];if(typeof $=="number")return $}return null}function Dr(D,V,F){if(d)if(D){if(Object.keys(D[0].params).length>0)return{active:!0,matches:_d(V,F,l,!0)}}else return{active:!0,matches:_d(V,F,l,!0)||[]};return{active:!1,matches:null}}async function gs(D,V,F){if(!d)return{type:"success",matches:D};let $=D;for(;;){let J=a==null,oe=a||o,le=s;try{await d({path:V,matches:$,patch:(X,se)=>{F.aborted||sE(X,se,oe,le,i)}})}catch(X){return{type:"error",error:X,partialMatches:$}}finally{J&&!F.aborted&&(o=[...o])}if(F.aborted)return{type:"aborted"};let te=Is(oe,V,l);if(te)return{type:"success",matches:te};let ne=_d(oe,V,l,!0);if(!ne||$.length===ne.length&&$.every((X,se)=>X.route.id===ne[se].route.id))return{type:"success",matches:null};$=ne}}function ys(D){s={},a=mh(D,i,void 0,s)}function ic(D,V){let F=a==null;sE(D,V,a||o,s,i),F&&(o=[...o],_t({}))}return M={get basename(){return l},get future(){return h},get state(){return k},get routes(){return o},get window(){return e},initialize:Fa,subscribe:ao,enableScrollRestoration:Ka,navigate:lo,fetch:Ba,revalidate:Ua,createHref:D=>t.history.createHref(D),encodeLocation:D=>t.history.encodeLocation(D),getFetcher:$a,deleteFetcher:Hf,dispose:Bf,getBlocker:Wf,deleteBlocker:rc,patchRoutes:ic,_internalFetchControllers:re,_internalActiveDeferreds:Ce,_internalSetRoutes:ys},M}function tF(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Og(t,e,n,r,i,s,o,a){let l,c;if(o){l=[];for(let h of e)if(l.push(h),h.route.id===o){c=h;break}}else l=e,c=e[e.length-1];let d=bf(i||".",If(l,s),Ma(t.pathname,n)||t.pathname,a==="path");if(i==null&&(d.search=t.search,d.hash=t.hash),(i==null||i===""||i===".")&&c){let h=r0(d.search);if(c.route.index&&!h)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&h){let f=new URLSearchParams(d.search),y=f.getAll("index");f.delete("index"),y.filter(S=>S).forEach(S=>f.append("index",S));let T=f.toString();d.search=T?"?"+T:""}}return r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:Xr([n,d.pathname])),Ys(d)}function tE(t,e,n,r){if(!r||!tF(r))return{path:n};if(r.formMethod&&!fF(r.formMethod))return{path:n,error:fn(405,{method:r.formMethod})};let i=()=>({path:n,error:fn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=fR(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!er(o))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((y,T)=>{let[S,I]=T;return""+y+S+"="+I+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!er(o))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}we(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Dg(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Dg(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=aE(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=aE(l)}catch{return i()}let d={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(er(d.formMethod))return{path:n,submission:d};let h=hs(n);return e&&h.search&&r0(h.search)&&l.append("index",""),h.search="?"+l,{path:Ys(h),submission:d}}function nE(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function rE(t,e,n,r,i,s,o,a,l,c,d,h,f,y,T,S){let I=S?xn(S[1])?S[1].error:S[1].data:void 0,w=t.createURL(e.location),g=t.createURL(i),_=n;s&&e.errors?_=nE(n,Object.keys(e.errors)[0],!0):S&&xn(S[1])&&(_=nE(n,S[0]));let A=S?S[1].statusCode:void 0,M=o&&A&&A>=400,k=_.filter((v,E)=>{let{route:P}=v;if(P.lazy)return!0;if(P.loader==null)return!1;if(s)return Ng(P,e.loaderData,e.errors);if(nF(e.loaderData,e.matches[E],v)||l.some(C=>C===v.route.id))return!0;let O=e.matches[E],N=v;return iE(v,nt({currentUrl:w,currentParams:O.params,nextUrl:g,nextParams:N.params},r,{actionResult:I,actionStatus:A,defaultShouldRevalidate:M?!1:a||w.pathname+w.search===g.pathname+g.search||w.search!==g.search||dR(O,N)}))}),R=[];return h.forEach((v,E)=>{if(s||!n.some(q=>q.route.id===v.routeId)||d.has(E))return;let P=Is(y,v.path,T);if(!P){R.push({key:E,routeId:v.routeId,path:v.path,matches:null,match:null,controller:null});return}let O=e.fetchers.get(E),N=xl(P,v.path),C=!1;f.has(E)?C=!1:c.has(E)?(c.delete(E),C=!0):O&&O.state!=="idle"&&O.data===void 0?C=a:C=iE(N,nt({currentUrl:w,currentParams:e.matches[e.matches.length-1].params,nextUrl:g,nextParams:n[n.length-1].params},r,{actionResult:I,actionStatus:A,defaultShouldRevalidate:M?!1:a})),C&&R.push({key:E,routeId:v.routeId,path:v.path,matches:P,match:N,controller:new AbortController})}),[k,R]}function Ng(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function nF(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function dR(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function iE(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function sE(t,e,n,r,i){var s;let o;if(t){let c=r[t];we(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),o=c.children}else o=n;let a=e.filter(c=>!o.some(d=>hR(c,d))),l=mh(a,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...l)}function hR(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>hR(n,s))}):!1}async function rF(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];we(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";ma(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!b5.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,nt({},e(i),{lazy:void 0}))}async function iF(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function sF(t,e,n,r,i,s,o,a,l,c){let d=s.map(y=>y.route.lazy?rF(y.route,l,a):void 0),h=s.map((y,T)=>{let S=d[T],I=i.some(g=>g.route.id===y.route.id);return nt({},y,{shouldLoad:I,resolve:async g=>(g&&r.method==="GET"&&(y.route.lazy||y.route.loader)&&(I=!0),I?oF(e,r,y,S,g,c):Promise.resolve({type:Be.data,result:void 0}))})}),f=await t({matches:h,request:r,params:s[0].params,fetcherKey:o,context:c});try{await Promise.all(d)}catch{}return f}async function oF(t,e,n,r,i,s){let o,a,l=c=>{let d,h=new Promise((T,S)=>d=S);a=()=>d(),e.signal.addEventListener("abort",a);let f=T=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:s},...T!==void 0?[T]:[]),y=(async()=>{try{return{type:"data",result:await(i?i(S=>f(S)):f())}}catch(T){return{type:"error",result:T}}})();return Promise.race([y,h])};try{let c=n.route[t];if(r)if(c){let d,[h]=await Promise.all([l(c).catch(f=>{d=f}),r]);if(d!==void 0)throw d;o=h}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let d=new URL(e.url),h=d.pathname+d.search;throw fn(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:Be.data,result:void 0};else if(c)o=await l(c);else{let d=new URL(e.url),h=d.pathname+d.search;throw fn(404,{pathname:h})}we(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Be.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function aF(t){let{result:e,type:n}=t;if(pR(e)){let c;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(d){return{type:Be.error,error:d}}return n===Be.error?{type:Be.error,error:new gh(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:Be.data,data:c,statusCode:e.status,headers:e.headers}}if(n===Be.error){if(hE(e)){var r;if(e.data instanceof Error){var i;return{type:Be.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new gh(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Be.error,error:e,statusCode:Rf(e)?e.status:void 0}}if(hF(e)){var s,o;return{type:Be.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(hE(e)){var a,l;return{type:Be.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Be.data,data:e}}function lF(t,e,n,r,i,s){let o=t.headers.get("Location");if(we(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!t0.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=Og(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function oE(t,e,n){if(t0.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Ma(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function _o(t,e,n,r){let i=t.createURL(fR(e)).toString(),s={signal:n};if(r&&er(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=Dg(r.formData):s.body=r.formData}return new Request(i,s)}function Dg(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function aE(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function uF(t,e,n,r,i){let s={},o=null,a,l=!1,c={},d=n&&xn(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let f=h.route.id,y=e[f];if(we(!Os(y),"Cannot handle redirect results in processLoaderData"),xn(y)){let T=y.error;d!==void 0&&(T=d,d=void 0),o=o||{};{let S=bs(t,f);o[S.route.id]==null&&(o[S.route.id]=T)}s[f]=void 0,l||(l=!0,a=Rf(y.error)?y.error.status:500),y.headers&&(c[f]=y.headers)}else Vi(y)?(r.set(f,y.deferredData),s[f]=y.deferredData.data,y.statusCode!=null&&y.statusCode!==200&&!l&&(a=y.statusCode),y.headers&&(c[f]=y.headers)):(s[f]=y.data,y.statusCode&&y.statusCode!==200&&!l&&(a=y.statusCode),y.headers&&(c[f]=y.headers))}),d!==void 0&&n&&(o={[n[0]]:d},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function lE(t,e,n,r,i,s,o){let{loaderData:a,errors:l}=uF(e,n,r,o);return i.forEach(c=>{let{key:d,match:h,controller:f}=c,y=s[d];if(we(y,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(xn(y)){let T=bs(t.matches,h==null?void 0:h.route.id);l&&l[T.route.id]||(l=nt({},l,{[T.route.id]:y.error})),t.fetchers.delete(d)}else if(Os(y))we(!1,"Unhandled fetcher revalidation redirect");else if(Vi(y))we(!1,"Unhandled fetcher deferred data");else{let T=Ei(y.data);t.fetchers.set(d,T)}}),{loaderData:a,errors:l}}function uE(t,e,n,r){let i=nt({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function cE(t){return t?xn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function bs(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function dE(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function fn(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new gh(t||500,a,new Error(l),!0)}function Hc(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Os(i))return{key:r,result:i}}}function fR(t){let e=typeof t=="string"?hs(t):t;return Ys(nt({},e,{hash:""}))}function cF(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function dF(t){return pR(t.result)&&X5.has(t.result.status)}function Vi(t){return t.type===Be.deferred}function xn(t){return t.type===Be.error}function Os(t){return(t&&t.type)===Be.redirect}function hE(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function hF(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function pR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function fF(t){return Q5.has(t.toLowerCase())}function er(t){return K5.has(t.toLowerCase())}async function pF(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],c=t.find(f=>(f==null?void 0:f.route.id)===a);if(!c)continue;let d=r.find(f=>f.route.id===c.route.id),h=d!=null&&!dR(d,c)&&(i&&i[c.route.id])!==void 0;Vi(l)&&h&&await n0(l,n,!1).then(f=>{f&&(e[a]=f)})}}async function mF(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(c=>(c==null?void 0:c.route.id)===s)&&Vi(a)&&(we(o,"Expected an AbortController for revalidating fetcher deferred result"),await n0(a,o.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function n0(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Be.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Be.error,error:i}}return{type:Be.data,data:t.deferredData.data}}}function r0(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function xl(t,e){let n=typeof e=="string"?hs(e).search:e.search;if(t[t.length-1].route.index&&r0(n||""))return t[t.length-1];let r=lR(t);return r[r.length-1]}function fE(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Up(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function gF(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function hl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function yF(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ei(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function vF(t,e){try{let n=t.sessionStorage.getItem(cR);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function _F(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(cR,JSON.stringify(n))}catch(r){ma(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yh(){return yh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yh.apply(this,arguments)}const Cf=L.createContext(null),mR=L.createContext(null),fs=L.createContext(null),i0=L.createContext(null),Ar=L.createContext({outlet:null,matches:[],isDataRoute:!1}),gR=L.createContext(null);function wF(t,e){let{relative:n}=e===void 0?{}:e;Va()||we(!1);let{basename:r,navigator:i}=L.useContext(fs),{hash:s,pathname:o,search:a}=vR(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Xr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Va(){return L.useContext(i0)!=null}function Gu(){return Va()||we(!1),L.useContext(i0).location}function yR(t){L.useContext(fs).static||L.useLayoutEffect(t)}function so(){let{isDataRoute:t}=L.useContext(Ar);return t?LF():EF()}function EF(){Va()||we(!1);let t=L.useContext(Cf),{basename:e,future:n,navigator:r}=L.useContext(fs),{matches:i}=L.useContext(Ar),{pathname:s}=Gu(),o=JSON.stringify(If(i,n.v7_relativeSplatPath)),a=L.useRef(!1);return yR(()=>{a.current=!0}),L.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=bf(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Xr([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}const TF=L.createContext(null);function SF(t){let e=L.useContext(Ar).outlet;return e&&L.createElement(TF.Provider,{value:t},e)}function PF(){let{matches:t}=L.useContext(Ar),e=t[t.length-1];return e?e.params:{}}function vR(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=L.useContext(fs),{matches:i}=L.useContext(Ar),{pathname:s}=Gu(),o=JSON.stringify(If(i,r.v7_relativeSplatPath));return L.useMemo(()=>bf(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function xF(t,e,n,r){Va()||we(!1);let{navigator:i}=L.useContext(fs),{matches:s}=L.useContext(Ar),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Gu(),d;d=c;let h=d.pathname||"/",f=h;if(l!=="/"){let S=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=Is(t,{pathname:f});return AF(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:Xr([l,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:Xr([l,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,r)}function IF(){let t=DF(),e=Rf(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:i},n):null,null)}const bF=L.createElement(IF,null);class RF extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?L.createElement(Ar.Provider,{value:this.props.routeContext},L.createElement(gR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function CF(t){let{routeContext:e,match:n,children:r}=t,i=L.useContext(Cf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),L.createElement(Ar.Provider,{value:e},r)}function AF(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||we(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:y}=n,T=h.route.loader&&f[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||T){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let y,T=!1,S=null,I=null;n&&(y=a&&h.route.id?a[h.route.id]:void 0,S=h.route.errorElement||bF,l&&(c<0&&f===0?(T=!0,I=null):c===f&&(T=!0,I=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,f+1)),g=()=>{let _;return y?_=S:T?_=I:h.route.Component?_=L.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=d,L.createElement(CF,{match:h,routeContext:{outlet:d,matches:w,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?L.createElement(RF,{location:n.location,revalidation:n.revalidation,component:S,error:y,children:g(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):g()},null)}var _R=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(_R||{}),vh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(vh||{});function kF(t){let e=L.useContext(Cf);return e||we(!1),e}function OF(t){let e=L.useContext(mR);return e||we(!1),e}function NF(t){let e=L.useContext(Ar);return e||we(!1),e}function wR(t){let e=NF(),n=e.matches[e.matches.length-1];return n.route.id||we(!1),n.route.id}function DF(){var t;let e=L.useContext(gR),n=OF(vh.UseRouteError),r=wR(vh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function LF(){let{router:t}=kF(_R.UseNavigateStable),e=wR(vh.UseNavigateStable),n=L.useRef(!1);return yR(()=>{n.current=!0}),L.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,yh({fromRouteId:e},s)))},[t,e])}function MF(t){let{to:e,replace:n,state:r,relative:i}=t;Va()||we(!1);let{future:s,static:o}=L.useContext(fs),{matches:a}=L.useContext(Ar),{pathname:l}=Gu(),c=so(),d=bf(e,If(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return L.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function VF(t){return SF(t.context)}function Sn(t){we(!1)}function jF(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Tt.Pop,navigator:s,static:o=!1,future:a}=t;Va()&&we(!1);let l=e.replace(/^\/*/,"/"),c=L.useMemo(()=>({basename:l,navigator:s,static:o,future:yh({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=hs(r));let{pathname:d="/",search:h="",hash:f="",state:y=null,key:T="default"}=r,S=L.useMemo(()=>{let I=Ma(d,l);return I==null?null:{location:{pathname:I,search:h,hash:f,state:y,key:T},navigationType:i}},[l,d,h,f,y,T,i]);return S==null?null:L.createElement(fs.Provider,{value:c},L.createElement(i0.Provider,{children:n,value:S}))}new Promise(()=>{});function Lg(t,e){e===void 0&&(e=[]);let n=[];return L.Children.forEach(t,(r,i)=>{if(!L.isValidElement(r))return;let s=[...e,i];if(r.type===L.Fragment){n.push.apply(n,Lg(r.props.children,s));return}r.type!==Sn&&we(!1),!r.props.index||!r.props.children||we(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Lg(r.props.children,s)),n.push(o)}),n}function FF(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:L.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:L.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:L.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Su(){return Su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Su.apply(this,arguments)}function UF(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function BF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zF(t,e){return t.button===0&&(!e||e==="_self")&&!BF(t)}const $F=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],HF="6";try{window.__reactRouterVersion=HF}catch{}function WF(t,e){return eF({basename:void 0,future:Su({},void 0,{v7_prependBasename:!0}),history:P5({window:void 0}),hydrationData:qF(),routes:t,mapRouteProperties:FF,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function qF(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Su({},e,{errors:KF(e.errors)})),e}function KF(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new gh(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const GF=L.createContext({isTransitioning:!1}),QF=L.createContext(new Map),XF="startTransition",pE=ck[XF],YF="flushSync",mE=TO[YF];function JF(t){pE?pE(t):t()}function fl(t){mE?mE(t):t()}class ZF{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function e6(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=L.useState(n.state),[o,a]=L.useState(),[l,c]=L.useState({isTransitioning:!1}),[d,h]=L.useState(),[f,y]=L.useState(),[T,S]=L.useState(),I=L.useRef(new Map),{v7_startTransition:w}=r||{},g=L.useCallback(v=>{w?JF(v):v()},[w]),_=L.useCallback((v,E)=>{let{deletedFetchers:P,flushSync:O,viewTransitionOpts:N}=E;P.forEach(q=>I.current.delete(q)),v.fetchers.forEach((q,Ve)=>{q.data!==void 0&&I.current.set(Ve,q.data)});let C=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!N||C){O?fl(()=>s(v)):g(()=>s(v));return}if(O){fl(()=>{f&&(d&&d.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:N.currentLocation,nextLocation:N.nextLocation})});let q=n.window.document.startViewTransition(()=>{fl(()=>s(v))});q.finished.finally(()=>{fl(()=>{h(void 0),y(void 0),a(void 0),c({isTransitioning:!1})})}),fl(()=>y(q));return}f?(d&&d.resolve(),f.skipTransition(),S({state:v,currentLocation:N.currentLocation,nextLocation:N.nextLocation})):(a(v),c({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}))},[n.window,f,d,I,g]);L.useLayoutEffect(()=>n.subscribe(_),[n,_]),L.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new ZF)},[l]),L.useEffect(()=>{if(d&&o&&n.window){let v=o,E=d.promise,P=n.window.document.startViewTransition(async()=>{g(()=>s(v)),await E});P.finished.finally(()=>{h(void 0),y(void 0),a(void 0),c({isTransitioning:!1})}),y(P)}},[g,o,d,n.window]),L.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,f,i.location,o]),L.useEffect(()=>{!l.isTransitioning&&T&&(a(T.state),c({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}),S(void 0))},[l.isTransitioning,T]),L.useEffect(()=>{},[]);let A=L.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:v=>n.navigate(v),push:(v,E,P)=>n.navigate(v,{state:E,preventScrollReset:P==null?void 0:P.preventScrollReset}),replace:(v,E,P)=>n.navigate(v,{replace:!0,state:E,preventScrollReset:P==null?void 0:P.preventScrollReset})}),[n]),M=n.basename||"/",k=L.useMemo(()=>({router:n,navigator:A,static:!1,basename:M}),[n,A,M]),R=L.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return L.createElement(L.Fragment,null,L.createElement(Cf.Provider,{value:k},L.createElement(mR.Provider,{value:i},L.createElement(QF.Provider,{value:I.current},L.createElement(GF.Provider,{value:l},L.createElement(jF,{basename:M,location:i.location,navigationType:i.historyAction,navigator:A,future:R},i.initialized||n.future.v7_partialHydration?L.createElement(t6,{routes:n.routes,future:n.future,state:i}):e))))),null)}const t6=L.memo(n6);function n6(t){let{routes:e,future:n,state:r}=t;return xF(e,void 0,r,n)}const r6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",i6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kt=L.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,f=UF(e,$F),{basename:y}=L.useContext(fs),T,S=!1;if(typeof c=="string"&&i6.test(c)&&(T=c,r6))try{let _=new URL(window.location.href),A=c.startsWith("//")?new URL(_.protocol+c):new URL(c),M=Ma(A.pathname,y);A.origin===_.origin&&M!=null?c=M+A.search+A.hash:S=!0}catch{}let I=wF(c,{relative:i}),w=s6(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:h});function g(_){r&&r(_),_.defaultPrevented||w(_)}return L.createElement("a",Su({},f,{href:T||I,onClick:S||s?r:g,ref:n,target:l}))});var gE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(gE||(gE={}));var yE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(yE||(yE={}));function s6(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=so(),c=Gu(),d=vR(t,{relative:o});return L.useCallback(h=>{if(zF(h,n)){h.preventDefault();let f=r!==void 0?r:Ys(c)===Ys(d);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,r,i,n,t,s,o,a])}function o6(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function Af(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Mg=t=>Array.isArray(t);function ER(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Pu(t){return typeof t=="string"||Array.isArray(t)}function vE(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function s0(t,e,n,r){if(typeof e=="function"){const[i,s]=vE(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=vE(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function kf(t,e,n){const r=t.getProps();return s0(r,e,n!==void 0?n:r.custom,t)}const o0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],a0=["initial",...o0],Qu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],oo=new Set(Qu),Yr=t=>t*1e3,Jr=t=>t/1e3,a6={type:"spring",stiffness:500,damping:25,restSpeed:10},l6=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),u6={type:"keyframes",duration:.8},c6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},d6=(t,{keyframes:e})=>e.length>2?u6:oo.has(t)?t.startsWith("scale")?l6(e[1]):a6:c6;function l0(t,e){return t?t[e]||t.default||t:void 0}const h6={skipAnimations:!1,useManualTiming:!1},f6=t=>t!==null;function Of(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(f6),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const Jt=t=>t;function p6(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,d=!1,h=!1)=>{const y=h&&r?e:n;return d&&s.add(c),y.has(c)||y.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,i&&(i=!1,l.process(c))}};return l}const Wc=["read","resolveKeyframes","update","preRender","render","postRender"],m6=40;function TR(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Wc.reduce((w,g)=>(w[g]=p6(s),w),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:h,postRender:f}=o,y=()=>{const w=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,m6),1),i.timestamp=w,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),d.process(i),h.process(i),f.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(y))},T=()=>{n=!0,r=!0,i.isProcessing||t(y)};return{schedule:Wc.reduce((w,g)=>{const _=o[g];return w[g]=(A,M=!1,k=!1)=>(n||T(),_.schedule(A,M,k)),w},{}),cancel:w=>{for(let g=0;g<Wc.length;g++)o[Wc[g]].cancel(w)},state:i,steps:o}}const{schedule:ze,cancel:is,state:Lt,steps:Bp}=TR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jt,!0),SR=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,g6=1e-7,y6=12;function v6(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=SR(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>g6&&++a<y6);return o}function Xu(t,e,n,r){if(t===e&&n===r)return Jt;const i=s=>v6(s,0,1,t,n);return s=>s===0||s===1?s:SR(i(s),e,r)}const PR=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,xR=t=>e=>1-t(1-e),IR=Xu(.33,1.53,.69,.99),u0=xR(IR),bR=PR(u0),RR=t=>(t*=2)<1?.5*u0(t):.5*(2-Math.pow(2,-10*(t-1))),c0=t=>1-Math.sin(Math.acos(t)),CR=xR(c0),AR=PR(c0),kR=t=>/^0[^.\s]+$/u.test(t);function _6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||kR(t):!0}let Vg=Jt;const OR=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),NR=t=>e=>typeof e=="string"&&e.startsWith(t),DR=NR("--"),w6=NR("var(--"),d0=t=>w6(t)?E6.test(t.split("/*")[0].trim()):!1,E6=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,T6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function S6(t){const e=T6.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function LR(t,e,n=1){const[r,i]=S6(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return OR(o)?parseFloat(o):o}return d0(i)?LR(i,e,n+1):i}const ss=(t,e,n)=>n>e?e:n<t?t:n,ja={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},xu={...ja,transform:t=>ss(0,1,t)},qc={...ja,default:1},Yu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ti=Yu("deg"),xr=Yu("%"),ce=Yu("px"),P6=Yu("vh"),x6=Yu("vw"),_E={...xr,parse:t=>xr.parse(t)/100,transform:t=>xr.transform(t*100)},I6=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),wE=t=>t===ja||t===ce,EE=(t,e)=>parseFloat(t.split(", ")[e]),TE=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return EE(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?EE(s[1],t):0}},b6=new Set(["x","y","z"]),R6=Qu.filter(t=>!b6.has(t));function C6(t){const e=[];return R6.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ga={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:TE(4,13),y:TE(5,14)};ga.translateX=ga.x;ga.translateY=ga.y;const MR=t=>e=>e.test(t),A6={test:t=>t==="auto",parse:t=>t},VR=[ja,ce,xr,Ti,x6,P6,A6],SE=t=>VR.find(MR(t)),Fs=new Set;let jg=!1,Fg=!1;function jR(){if(Fg){const t=Array.from(Fs).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=C6(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Fg=!1,jg=!1,Fs.forEach(t=>t.complete()),Fs.clear()}function FR(){Fs.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Fg=!0)})}function k6(){FR(),jR()}class h0{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Fs.add(this),jg||(jg=!0,ze.read(FR),ze.resolveKeyframes(jR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Fs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Fs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Hl=t=>Math.round(t*1e5)/1e5,f0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function O6(t){return t==null}const N6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,p0=(t,e)=>n=>!!(typeof n=="string"&&N6.test(n)&&n.startsWith(t)||e&&!O6(n)&&Object.prototype.hasOwnProperty.call(n,e)),UR=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(f0);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},D6=t=>ss(0,255,t),zp={...ja,transform:t=>Math.round(D6(t))},Ns={test:p0("rgb","red"),parse:UR("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+zp.transform(t)+", "+zp.transform(e)+", "+zp.transform(n)+", "+Hl(xu.transform(r))+")"};function L6(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Ug={test:p0("#"),parse:L6,transform:Ns.transform},jo={test:p0("hsl","hue"),parse:UR("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+xr.transform(Hl(e))+", "+xr.transform(Hl(n))+", "+Hl(xu.transform(r))+")"},qt={test:t=>Ns.test(t)||Ug.test(t)||jo.test(t),parse:t=>Ns.test(t)?Ns.parse(t):jo.test(t)?jo.parse(t):Ug.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ns.transform(t):jo.transform(t)},M6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function V6(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(f0))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(M6))===null||n===void 0?void 0:n.length)||0)>0}const BR="number",zR="color",j6="var",F6="var(",PE="${}",U6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Iu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(U6,l=>(qt.test(l)?(r.color.push(s),i.push(zR),n.push(qt.parse(l))):l.startsWith(F6)?(r.var.push(s),i.push(j6),n.push(l)):(r.number.push(s),i.push(BR),n.push(parseFloat(l))),++s,PE)).split(PE);return{values:n,split:a,indexes:r,types:i}}function $R(t){return Iu(t).values}function HR(t){const{split:e,types:n}=Iu(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===BR?s+=Hl(i[o]):a===zR?s+=qt.transform(i[o]):s+=i[o]}return s}}const B6=t=>typeof t=="number"?0:t;function z6(t){const e=$R(t);return HR(t)(e.map(B6))}const os={test:V6,parse:$R,createTransformer:HR,getAnimatableNone:z6},$6=new Set(["brightness","contrast","saturate","opacity"]);function H6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(f0)||[];if(!r)return t;const i=n.replace(r,"");let s=$6.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const W6=/\b([a-z-]*)\(.*?\)/gu,Bg={...os,getAnimatableNone:t=>{const e=t.match(W6);return e?e.map(H6).join(" "):t}},q6={borderWidth:ce,borderTopWidth:ce,borderRightWidth:ce,borderBottomWidth:ce,borderLeftWidth:ce,borderRadius:ce,radius:ce,borderTopLeftRadius:ce,borderTopRightRadius:ce,borderBottomRightRadius:ce,borderBottomLeftRadius:ce,width:ce,maxWidth:ce,height:ce,maxHeight:ce,top:ce,right:ce,bottom:ce,left:ce,padding:ce,paddingTop:ce,paddingRight:ce,paddingBottom:ce,paddingLeft:ce,margin:ce,marginTop:ce,marginRight:ce,marginBottom:ce,marginLeft:ce,backgroundPositionX:ce,backgroundPositionY:ce},K6={rotate:Ti,rotateX:Ti,rotateY:Ti,rotateZ:Ti,scale:qc,scaleX:qc,scaleY:qc,scaleZ:qc,skew:Ti,skewX:Ti,skewY:Ti,distance:ce,translateX:ce,translateY:ce,translateZ:ce,x:ce,y:ce,z:ce,perspective:ce,transformPerspective:ce,opacity:xu,originX:_E,originY:_E,originZ:ce},xE={...ja,transform:Math.round},m0={...q6,...K6,zIndex:xE,size:ce,fillOpacity:xu,strokeOpacity:xu,numOctaves:xE},G6={...m0,color:qt,backgroundColor:qt,outlineColor:qt,fill:qt,stroke:qt,borderColor:qt,borderTopColor:qt,borderRightColor:qt,borderBottomColor:qt,borderLeftColor:qt,filter:Bg,WebkitFilter:Bg},g0=t=>G6[t];function WR(t,e){let n=g0(t);return n!==Bg&&(n=os),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Q6=new Set(["auto","none","0"]);function X6(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!Q6.has(s)&&Iu(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=WR(n,i)}class qR extends h0{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),d0(c))){const d=LR(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!I6.has(r)||e.length!==2)return;const[i,s]=e,o=SE(i),a=SE(s);if(o!==a)if(wE(o)&&wE(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)_6(e[i])&&r.push(i);r.length&&X6(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ga[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=ga[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function y0(t){return typeof t=="function"}let wd;function Y6(){wd=void 0}const Ir={now:()=>(wd===void 0&&Ir.set(Lt.isProcessing||h6.useManualTiming?Lt.timestamp:performance.now()),wd),set:t=>{wd=t,queueMicrotask(Y6)}},IE=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(os.test(t)||t==="0")&&!t.startsWith("url("));function J6(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Z6(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=IE(i,e),a=IE(s,e);return!o||!a?!1:J6(t)||(n==="spring"||y0(n))&&r}const eU=40;class KR{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ir.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>eU?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&k6(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ir.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!Z6(e,r,i,s))if(o)this.options.duration=0;else{l==null||l(Of(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}function GR(t,e){return e?t*(1e3/e):0}const tU=5;function QR(t,e,n){const r=Math.max(e-tU,0);return GR(n-t(r),e-r)}const $p=.001,nU=.01,rU=10,iU=.05,sU=1;function oU({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=ss(iU,sU,o),t=ss(nU,rU,Jr(t)),o<1?(i=c=>{const d=c*o,h=d*t,f=d-n,y=zg(c,o),T=Math.exp(-h);return $p-f/y*T},s=c=>{const h=c*o*t,f=h*n+n,y=Math.pow(o,2)*Math.pow(c,2)*t,T=Math.exp(-h),S=zg(Math.pow(c,2),o);return(-i(c)+$p>0?-1:1)*((f-y)*T)/S}):(i=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-$p+d*h},s=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const a=5/t,l=lU(i,s,a);if(t=Yr(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const aU=12;function lU(t,e,n){let r=n;for(let i=1;i<aU;i++)r=r-t(r)/e(r);return r}function zg(t,e){return t*Math.sqrt(1-e*e)}const uU=["duration","bounce"],cU=["stiffness","damping","mass"];function bE(t,e){return e.some(n=>t[n]!==void 0)}function dU(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!bE(t,cU)&&bE(t,uU)){const n=oU(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function XR({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:d,velocity:h,isResolvedFromDuration:f}=dU({...r,velocity:-Jr(r.velocity||0)}),y=h||0,T=l/(2*Math.sqrt(a*c)),S=s-i,I=Jr(Math.sqrt(a/c)),w=Math.abs(S)<5;n||(n=w?.01:2),e||(e=w?.005:.5);let g;if(T<1){const _=zg(I,T);g=A=>{const M=Math.exp(-T*I*A);return s-M*((y+T*I*S)/_*Math.sin(_*A)+S*Math.cos(_*A))}}else if(T===1)g=_=>s-Math.exp(-I*_)*(S+(y+I*S)*_);else{const _=I*Math.sqrt(T*T-1);g=A=>{const M=Math.exp(-T*I*A),k=Math.min(_*A,300);return s-M*((y+T*I*S)*Math.sinh(k)+_*S*Math.cosh(k))/_}}return{calculatedDuration:f&&d||null,next:_=>{const A=g(_);if(f)o.done=_>=d;else{let M=0;T<1&&(M=_===0?Yr(y):QR(g,_,A));const k=Math.abs(M)<=n,R=Math.abs(s-A)<=e;o.done=k&&R}return o.value=o.done?s:A,o}}}function RE({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],f={done:!1,value:h},y=v=>a!==void 0&&v<a||l!==void 0&&v>l,T=v=>a===void 0?l:l===void 0||Math.abs(a-v)<Math.abs(l-v)?a:l;let S=n*e;const I=h+S,w=o===void 0?I:o(I);w!==I&&(S=w-h);const g=v=>-S*Math.exp(-v/r),_=v=>w+g(v),A=v=>{const E=g(v),P=_(v);f.done=Math.abs(E)<=c,f.value=f.done?w:P};let M,k;const R=v=>{y(f.value)&&(M=v,k=XR({keyframes:[f.value,T(f.value)],velocity:QR(_,v,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return R(0),{calculatedDuration:null,next:v=>{let E=!1;return!k&&M===void 0&&(E=!0,A(v),R(v)),M!==void 0&&v>=M?k.next(v-M):(!E&&A(v),f)}}}const hU=Xu(.42,0,1,1),fU=Xu(0,0,.58,1),YR=Xu(.42,0,.58,1),pU=t=>Array.isArray(t)&&typeof t[0]!="number",v0=t=>Array.isArray(t)&&typeof t[0]=="number",CE={linear:Jt,easeIn:hU,easeInOut:YR,easeOut:fU,circIn:c0,circInOut:AR,circOut:CR,backIn:u0,backInOut:bR,backOut:IR,anticipate:RR},AE=t=>{if(v0(t)){Vg(t.length===4);const[e,n,r,i]=t;return Xu(e,n,r,i)}else if(typeof t=="string")return Vg(CE[t]!==void 0),CE[t];return t},mU=(t,e)=>n=>e(t(n)),Zr=(...t)=>t.reduce(mU),ya=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},at=(t,e,n)=>t+(e-t)*n;function Hp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function gU({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Hp(l,a,t+1/3),s=Hp(l,a,t),o=Hp(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function _h(t,e){return n=>n>0?e:t}const Wp=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},yU=[Ug,Ns,jo],vU=t=>yU.find(e=>e.test(t));function kE(t){const e=vU(t);if(!e)return!1;let n=e.parse(t);return e===jo&&(n=gU(n)),n}const OE=(t,e)=>{const n=kE(t),r=kE(e);if(!n||!r)return _h(t,e);const i={...n};return s=>(i.red=Wp(n.red,r.red,s),i.green=Wp(n.green,r.green,s),i.blue=Wp(n.blue,r.blue,s),i.alpha=at(n.alpha,r.alpha,s),Ns.transform(i))},$g=new Set(["none","hidden"]);function _U(t,e){return $g.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function wU(t,e){return n=>at(t,e,n)}function _0(t){return typeof t=="number"?wU:typeof t=="string"?d0(t)?_h:qt.test(t)?OE:SU:Array.isArray(t)?JR:typeof t=="object"?qt.test(t)?OE:EU:_h}function JR(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>_0(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function EU(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=_0(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function TU(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const SU=(t,e)=>{const n=os.createTransformer(e),r=Iu(t),i=Iu(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?$g.has(t)&&!i.values.length||$g.has(e)&&!r.values.length?_U(t,e):Zr(JR(TU(r,i),i.values),n):_h(t,e)};function ZR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?at(t,e,n):_0(t)(t,e)}function PU(t,e,n){const r=[],i=n||ZR,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Jt:e;a=Zr(l,a)}r.push(a)}return r}function xU(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Vg(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=PU(e,r,i),a=o.length,l=c=>{let d=0;if(a>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const h=ya(t[d],t[d+1],c);return o[d](h)};return n?c=>l(ss(t[0],t[s-1],c)):l}function IU(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=ya(0,e,r);t.push(at(n,1,i))}}function bU(t){const e=[0];return IU(e,t.length-1),e}function RU(t,e){return t.map(n=>n*e)}function CU(t,e){return t.map(()=>e||YR).splice(0,t.length-1)}function wh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=pU(r)?r.map(AE):AE(r),s={done:!1,value:e[0]},o=RU(n&&n.length===e.length?n:bU(e),t),a=xU(o,e,{ease:Array.isArray(i)?i:CU(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const NE=2e4;function AU(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<NE;)e+=n,r=t.next(e);return e>=NE?1/0:e}const kU=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ze.update(e,!0),stop:()=>is(e),now:()=>Lt.isProcessing?Lt.timestamp:Ir.now()}},OU={decay:RE,inertia:RE,tween:wh,keyframes:wh,spring:XR},NU=t=>t/100;class w0 extends KR{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||h0,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=y0(n)?n:OU[n]||wh;let l,c;a!==wh&&typeof e[0]!="number"&&(l=Zr(NU,ZR(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=AU(d));const{calculatedDuration:h}=d,f=h+i,y=f*(r+1)-i;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:y}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:v}=this.options;return{done:!0,value:v[v.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return s.next(0);const{delay:f,repeat:y,repeatType:T,repeatDelay:S,onUpdate:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const w=this.currentTime-f*(this.speed>=0?1:-1),g=this.speed>=0?w<0:w>d;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let _=this.currentTime,A=s;if(y){const v=Math.min(this.currentTime,d)/h;let E=Math.floor(v),P=v%1;!P&&v>=1&&(P=1),P===1&&E--,E=Math.min(E,y+1),!!(E%2)&&(T==="reverse"?(P=1-P,S&&(P-=S/h)):T==="mirror"&&(A=o)),_=ss(0,1,P)*h}const M=g?{done:!1,value:l[0]}:A.next(_);a&&(M.value=a(M.value));let{done:k}=M;!g&&c!==null&&(k=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return R&&i!==void 0&&(M.value=Of(l,this.options,i)),I&&I(M.value),R&&this.finish(),M}get duration(){const{resolved:e}=this;return e?Jr(e.calculatedDuration):0}get time(){return Jr(this.currentTime)}set time(e){e=Yr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Jr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=kU,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const DU=new Set(["opacity","clipPath","filter","transform"]),LU=10,MU=(t,e)=>{let n="";const r=Math.max(Math.round(e/LU),2);for(let i=0;i<r;i++)n+=t(ya(0,r-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function E0(t){let e;return()=>(e===void 0&&(e=t()),e)}const VU={linearEasing:void 0};function jU(t,e){const n=E0(t);return()=>{var r;return(r=VU[e])!==null&&r!==void 0?r:n()}}const Eh=jU(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function eC(t){return!!(typeof t=="function"&&Eh()||!t||typeof t=="string"&&(t in Hg||Eh())||v0(t)||Array.isArray(t)&&t.every(eC))}const Il=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Hg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Il([0,.65,.55,1]),circOut:Il([.55,0,1,.45]),backIn:Il([.31,.01,.66,-.59]),backOut:Il([.33,1.53,.69,.99])};function tC(t,e){if(t)return typeof t=="function"&&Eh()?MU(t,e):v0(t)?Il(t):Array.isArray(t)?t.map(n=>tC(n,e)||Hg.easeOut):Hg[t]}function FU(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=tC(a,i);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function DE(t,e){t.timeline=e,t.onfinish=null}const UU=E0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Th=10,BU=2e4;function zU(t){return y0(t.type)||t.type==="spring"||!eC(t.ease)}function $U(t,e){const n=new w0({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<BU;)r=n.sample(s),i.push(r.value),s+=Th;return{times:void 0,keyframes:i,duration:s-Th,ease:"linear"}}const nC={anticipate:RR,backInOut:bR,circInOut:AR};function HU(t){return t in nC}class LE extends KR{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new qR(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:c,startTime:d}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&Eh()&&HU(o)&&(o=nC[o]),zU(this.options)){const{onComplete:f,onUpdate:y,motionValue:T,element:S,...I}=this.options,w=$U(e,I);e=w.keyframes,e.length===1&&(e[1]=e[0]),i=w.duration,s=w.times,o=w.ease,a="keyframes"}const h=FU(l.owner.current,c,e,{...this.options,duration:i,times:s,ease:o});return h.startTime=d??this.calcStartTime(),this.pendingTimeline?(DE(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;l.set(Of(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Jr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Jr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Yr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Jt;const{animation:r}=n;DE(r,e)}return Jt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:h,element:f,...y}=this.options,T=new w0({...y,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),S=Yr(this.time);c.setWithVelocity(T.sample(S-Th).value,T.sample(S).value,Th)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return UU()&&r&&DU.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const WU=E0(()=>window.ScrollTimeline!==void 0);class qU{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>WU()&&i.attachTimeline?i.attachTimeline(e):n(i));return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function KU({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const T0=(t,e,n,r={},i,s)=>o=>{const a=l0(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Yr(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};KU(a)||(d={...d,...d6(t,d)}),d.duration&&(d.duration=Yr(d.duration)),d.repeatDelay&&(d.repeatDelay=Yr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!s&&e.get()!==void 0){const f=Of(d.keyframes,a);if(f!==void 0)return ze.update(()=>{d.onUpdate(f),d.onComplete()}),new qU([])}return!s&&LE.supports(d)?new LE(d):new w0(d)},GU=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),QU=t=>Mg(t)?t[t.length-1]||0:t;function S0(t,e){t.indexOf(e)===-1&&t.push(e)}function P0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class x0{constructor(){this.subscriptions=[]}add(e){return S0(this.subscriptions,e),()=>P0(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ME=30,XU=t=>!isNaN(parseFloat(t));class YU{constructor(e,n={}){this.version="11.11.10",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Ir.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ir.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=XU(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new x0);const r=this.events[e].add(n);return e==="change"?()=>{r(),ze.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ir.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ME)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ME);return GR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bu(t,e){return new YU(t,e)}function JU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,bu(n))}function ZU(t,e){const n=kf(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=QU(s[o]);JU(t,o,a)}}const I0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),e9="framerAppearId",rC="data-"+I0(e9);function iC(t){return t.props[rC]}const Yt=t=>!!(t&&t.getVelocity);function t9(t){return!!(Yt(t)&&t.add)}function Wg(t,e){const n=t.getValue("willChange");if(t9(n))return n.add(e)}function n9({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function sC(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in l){const f=t.getValue(h,(s=t.latestValues[h])!==null&&s!==void 0?s:null),y=l[h];if(y===void 0||d&&n9(d,h))continue;const T={delay:n,...l0(o||{},h)};let S=!1;if(window.MotionHandoffAnimation){const w=iC(t);if(w){const g=window.MotionHandoffAnimation(w,h,ze);g!==null&&(T.startTime=g,S=!0)}}Wg(t,h),f.start(T0(h,f,y,t.shouldReduceMotion&&oo.has(h)?{type:!1}:T,t,S));const I=f.animation;I&&c.push(I)}return a&&Promise.all(c).then(()=>{ze.update(()=>{a&&ZU(t,a)})}),c}function qg(t,e,n={}){var r;const i=kf(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(sC(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return r9(t,e,d+c,h,f,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function r9(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(i9).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(qg(c,e,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function i9(t,e){return t.sortNodePosition(e)}function s9(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>qg(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=qg(t,e,n);else{const i=typeof e=="function"?kf(t,e,n.custom):e;r=Promise.all(sC(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const o9=a0.length;function oC(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?oC(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<o9;n++){const r=a0[n],i=t.props[r];(Pu(i)||i===!1)&&(e[r]=i)}return e}const a9=[...o0].reverse(),l9=o0.length;function u9(t){return e=>Promise.all(e.map(({animation:n,options:r})=>s9(t,n,r)))}function c9(t){let e=u9(t),n=VE(),r=!0;const i=l=>(c,d)=>{var h;const f=kf(t,d,l==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:y,transitionEnd:T,...S}=f;c={...c,...S,...T}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,d=oC(t.parent)||{},h=[],f=new Set;let y={},T=1/0;for(let I=0;I<l9;I++){const w=a9[I],g=n[w],_=c[w]!==void 0?c[w]:d[w],A=Pu(_),M=w===l?g.isActive:null;M===!1&&(T=I);let k=_===d[w]&&_!==c[w]&&A;if(k&&r&&t.manuallyAnimateOnMount&&(k=!1),g.protectedKeys={...y},!g.isActive&&M===null||!_&&!g.prevProp||Af(_)||typeof _=="boolean")continue;const R=d9(g.prevProp,_);let v=R||w===l&&g.isActive&&!k&&A||I>T&&A,E=!1;const P=Array.isArray(_)?_:[_];let O=P.reduce(i(w),{});M===!1&&(O={});const{prevResolvedValues:N={}}=g,C={...N,...O},q=re=>{v=!0,f.has(re)&&(E=!0,f.delete(re)),g.needsAnimating[re]=!0;const H=t.getValue(re);H&&(H.liveStyle=!1)};for(const re in C){const H=O[re],Q=N[re];if(y.hasOwnProperty(re))continue;let ie=!1;Mg(H)&&Mg(Q)?ie=!ER(H,Q):ie=H!==Q,ie?H!=null?q(re):f.add(re):H!==void 0&&f.has(re)?q(re):g.protectedKeys[re]=!0}g.prevProp=_,g.prevResolvedValues=O,g.isActive&&(y={...y,...O}),r&&t.blockInitialAnimation&&(v=!1),v&&(!(k&&R)||E)&&h.push(...P.map(re=>({animation:re,options:{type:w}})))}if(f.size){const I={};f.forEach(w=>{const g=t.getBaseTarget(w),_=t.getValue(w);_&&(_.liveStyle=!0),I[w]=g??null}),h.push({animation:I})}let S=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(h):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var y;return(y=f.animationState)===null||y===void 0?void 0:y.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=VE(),r=!0}}}function d9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!ER(e,t):!1}function ws(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function VE(){return{animate:ws(!0),whileInView:ws(),whileHover:ws(),whileTap:ws(),whileDrag:ws(),whileFocus:ws(),exit:ws()}}class ps{constructor(e){this.isMounted=!1,this.node=e}update(){}}class h9 extends ps{constructor(e){super(e),e.animationState||(e.animationState=c9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Af(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let f9=0;class p9 extends ps{constructor(){super(...arguments),this.id=f9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const m9={animation:{Feature:h9},exit:{Feature:p9}},aC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Nf(t,e="page"){return{point:{x:t[`${e}X`],y:t[`${e}Y`]}}}const g9=t=>e=>aC(e)&&t(e,Nf(e));function Wr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ei(t,e,n,r){return Wr(t,e,g9(n),r)}const jE=(t,e)=>Math.abs(t-e);function y9(t,e){const n=jE(t.x,e.x),r=jE(t.y,e.y);return Math.sqrt(n**2+r**2)}class lC{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Kp(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,y=y9(h.offset,{x:0,y:0})>=3;if(!f&&!y)return;const{point:T}=h,{timestamp:S}=Lt;this.history.push({...T,timestamp:S});const{onStart:I,onMove:w}=this.handlers;f||(I&&I(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=qp(f,this.transformPagePoint),ze.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:y,onSessionEnd:T,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=Kp(h.type==="pointercancel"?this.lastMoveEventInfo:qp(f,this.transformPagePoint),this.history);this.startEvent&&y&&y(h,I),T&&T(h,I)},!aC(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Nf(e),a=qp(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=Lt;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,Kp(a,this.history)),this.removeListeners=Zr(ei(this.contextWindow,"pointermove",this.handlePointerMove),ei(this.contextWindow,"pointerup",this.handlePointerUp),ei(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),is(this.updatePoint)}}function qp(t,e){return e?{point:e(t.point)}:t}function FE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Kp({point:t},e){return{point:t,delta:FE(t,uC(e)),offset:FE(t,v9(e)),velocity:_9(e,.1)}}function v9(t){return t[0]}function uC(t){return t[t.length-1]}function _9(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=uC(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Yr(e)));)n--;if(!r)return{x:0,y:0};const s=Jr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function cC(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const UE=cC("dragHorizontal"),BE=cC("dragVertical");function dC(t){let e=!1;if(t==="y")e=BE();else if(t==="x")e=UE();else{const n=UE(),r=BE();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function hC(){const t=dC(!0);return t?(t(),!1):!0}function Fo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const fC=1e-4,w9=1-fC,E9=1+fC,pC=.01,T9=0-pC,S9=0+pC;function Nn(t){return t.max-t.min}function P9(t,e,n){return Math.abs(t-e)<=n}function zE(t,e,n,r=.5){t.origin=r,t.originPoint=at(e.min,e.max,t.origin),t.scale=Nn(n)/Nn(e),t.translate=at(n.min,n.max,t.origin)-t.originPoint,(t.scale>=w9&&t.scale<=E9||isNaN(t.scale))&&(t.scale=1),(t.translate>=T9&&t.translate<=S9||isNaN(t.translate))&&(t.translate=0)}function Wl(t,e,n,r){zE(t.x,e.x,n.x,r?r.originX:void 0),zE(t.y,e.y,n.y,r?r.originY:void 0)}function $E(t,e,n){t.min=n.min+e.min,t.max=t.min+Nn(e)}function x9(t,e,n){$E(t.x,e.x,n.x),$E(t.y,e.y,n.y)}function HE(t,e,n){t.min=e.min-n.min,t.max=t.min+Nn(e)}function ql(t,e,n){HE(t.x,e.x,n.x),HE(t.y,e.y,n.y)}function I9(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?at(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?at(n,t,r.max):Math.min(t,n)),t}function WE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function b9(t,{top:e,left:n,bottom:r,right:i}){return{x:WE(t.x,n,i),y:WE(t.y,e,r)}}function qE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function R9(t,e){return{x:qE(t.x,e.x),y:qE(t.y,e.y)}}function C9(t,e){let n=.5;const r=Nn(t),i=Nn(e);return i>r?n=ya(e.min,e.max-r,t.min):r>i&&(n=ya(t.min,t.max-i,e.min)),ss(0,1,n)}function A9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Kg=.35;function k9(t=Kg){return t===!1?t=0:t===!0&&(t=Kg),{x:KE(t,"left","right"),y:KE(t,"top","bottom")}}function KE(t,e,n){return{min:GE(t,e),max:GE(t,n)}}function GE(t,e){return typeof t=="number"?t:t[e]||0}const QE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Uo=()=>({x:QE(),y:QE()}),XE=()=>({min:0,max:0}),mt=()=>({x:XE(),y:XE()});function Un(t){return[t("x"),t("y")]}function mC({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function O9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function N9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Gp(t){return t===void 0||t===1}function Gg({scale:t,scaleX:e,scaleY:n}){return!Gp(t)||!Gp(e)||!Gp(n)}function Ps(t){return Gg(t)||gC(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function gC(t){return YE(t.x)||YE(t.y)}function YE(t){return t&&t!=="0%"}function Sh(t,e,n){const r=t-n,i=e*r;return n+i}function JE(t,e,n,r,i){return i!==void 0&&(t=Sh(t,i,r)),Sh(t,n,r)+e}function Qg(t,e=0,n=1,r,i){t.min=JE(t.min,e,n,r,i),t.max=JE(t.max,e,n,r,i)}function yC(t,{x:e,y:n}){Qg(t.x,e.translate,e.scale,e.originPoint),Qg(t.y,n.translate,n.scale,n.originPoint)}const ZE=.999999999999,eT=1.0000000000001;function D9(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&zo(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,yC(t,o)),r&&Ps(s.latestValues)&&zo(t,s.latestValues))}e.x<eT&&e.x>ZE&&(e.x=1),e.y<eT&&e.y>ZE&&(e.y=1)}function Bo(t,e){t.min=t.min+e,t.max=t.max+e}function tT(t,e,n,r,i=.5){const s=at(t.min,t.max,i);Qg(t,e,n,s,r)}function zo(t,e){tT(t.x,e.x,e.scaleX,e.scale,e.originX),tT(t.y,e.y,e.scaleY,e.scale,e.originY)}function vC(t,e){return mC(N9(t.getBoundingClientRect(),e))}function L9(t,e,n){const r=vC(t,n),{scroll:i}=e;return i&&(Bo(r.x,i.offset.x),Bo(r.y,i.offset.y)),r}const _C=({current:t})=>t?t.ownerDocument.defaultView:null,M9=new WeakMap;class V9{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Nf(d,"page").point)},s=(d,h)=>{const{drag:f,dragPropagation:y,onDragStart:T}=this.getProps();if(f&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=dC(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Un(I=>{let w=this.getAxisMotionValue(I).get()||0;if(xr.test(w)){const{projection:g}=this.visualElement;if(g&&g.layout){const _=g.layout.layoutBox[I];_&&(w=Nn(_)*(parseFloat(w)/100))}}this.originPoint[I]=w}),T&&ze.postRender(()=>T(d,h)),Wg(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:y,onDirectionLock:T,onDrag:S}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:I}=h;if(y&&this.currentDirection===null){this.currentDirection=j9(I),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",h.point,I),this.updateAxis("y",h.point,I),this.visualElement.render(),S&&S(d,h)},a=(d,h)=>this.stop(d,h),l=()=>Un(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new lC(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:_C(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&ze.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Kc(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=I9(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Fo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=b9(i.layoutBox,n):this.constraints=!1,this.elastic=k9(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Un(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=A9(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Fo(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=L9(r,i.root,this.visualElement.getTransformPagePoint());let o=R9(i.layout.layoutBox,s);if(n){const a=n(O9(o));this.hasMutatedConstraints=!!a,a&&(o=mC(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Un(d=>{if(!Kc(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=i?200:1e6,y=i?40:1e7,T={type:"inertia",velocity:r?e[d]:0,bounceStiffness:f,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,T)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Wg(this.visualElement,e),r.start(T0(e,r,0,n,this.visualElement,!1))}stopAnimation(){Un(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Un(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Un(n=>{const{drag:r}=this.getProps();if(!Kc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-at(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Fo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Un(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=C9({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Un(o=>{if(!Kc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(at(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;M9.set(this.visualElement,this);const e=this.visualElement.current,n=ei(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Fo(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ze.read(r);const o=Wr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Un(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Kg,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Kc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function j9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class F9 extends ps{constructor(e){super(e),this.removeGroupControls=Jt,this.removeListeners=Jt,this.controls=new V9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jt}unmount(){this.removeGroupControls(),this.removeListeners()}}const nT=t=>(e,n)=>{t&&ze.postRender(()=>t(e,n))};class U9 extends ps{constructor(){super(...arguments),this.removePointerDownListener=Jt}onPointerDown(e){this.session=new lC(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_C(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:nT(e),onStart:nT(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&ze.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=ei(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const b0=L.createContext(null);function B9(){const t=L.useContext(b0);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=L.useId();L.useEffect(()=>r(i),[]);const s=L.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const wC=L.createContext({}),EC=L.createContext({}),Ed={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const pl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ce.test(t))t=parseFloat(t);else return t;const n=rT(t,e.target.x),r=rT(t,e.target.y);return`${n}% ${r}%`}},z9={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=os.parse(t);if(i.length>5)return r;const s=os.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=at(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}},Ph={};function $9(t){Object.assign(Ph,t)}const{schedule:R0,cancel:Q8}=TR(queueMicrotask,!1);class H9 extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;$9(W9),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ed.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ze.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),R0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function TC(t){const[e,n]=B9(),r=L.useContext(wC);return x.jsx(H9,{...t,layoutGroup:r,switchLayoutGroup:L.useContext(EC),isPresent:e,safeToRemove:n})}const W9={borderRadius:{...pl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pl,borderTopRightRadius:pl,borderBottomLeftRadius:pl,borderBottomRightRadius:pl,boxShadow:z9},SC=["TopLeft","TopRight","BottomLeft","BottomRight"],q9=SC.length,iT=t=>typeof t=="string"?parseFloat(t):t,sT=t=>typeof t=="number"||ce.test(t);function K9(t,e,n,r,i,s){i?(t.opacity=at(0,n.opacity!==void 0?n.opacity:1,G9(r)),t.opacityExit=at(e.opacity!==void 0?e.opacity:1,0,Q9(r))):s&&(t.opacity=at(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<q9;o++){const a=`border${SC[o]}Radius`;let l=oT(e,a),c=oT(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||sT(l)===sT(c)?(t[a]=Math.max(at(iT(l),iT(c),r),0),(xr.test(c)||xr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=at(e.rotate||0,n.rotate||0,r))}function oT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const G9=PC(0,.5,CR),Q9=PC(.5,.95,Jt);function PC(t,e,n){return r=>r<t?0:r>e?1:n(ya(t,e,r))}function aT(t,e){t.min=e.min,t.max=e.max}function Fn(t,e){aT(t.x,e.x),aT(t.y,e.y)}function lT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function uT(t,e,n,r,i){return t-=e,t=Sh(t,1/n,r),i!==void 0&&(t=Sh(t,1/i,r)),t}function X9(t,e=0,n=1,r=.5,i,s=t,o=t){if(xr.test(e)&&(e=parseFloat(e),e=at(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=at(s.min,s.max,r);t===s&&(a-=e),t.min=uT(t.min,e,n,a,i),t.max=uT(t.max,e,n,a,i)}function cT(t,e,[n,r,i],s,o){X9(t,e[n],e[r],e[i],e.scale,s,o)}const Y9=["x","scaleX","originX"],J9=["y","scaleY","originY"];function dT(t,e,n,r){cT(t.x,e,Y9,n?n.x:void 0,r?r.x:void 0),cT(t.y,e,J9,n?n.y:void 0,r?r.y:void 0)}function hT(t){return t.translate===0&&t.scale===1}function xC(t){return hT(t.x)&&hT(t.y)}function fT(t,e){return t.min===e.min&&t.max===e.max}function Z9(t,e){return fT(t.x,e.x)&&fT(t.y,e.y)}function pT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function IC(t,e){return pT(t.x,e.x)&&pT(t.y,e.y)}function mT(t){return Nn(t.x)/Nn(t.y)}function gT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class eB{constructor(){this.members=[]}add(e){S0(this.members,e),e.scheduleRender()}remove(e){if(P0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tB(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:f,skewX:y,skewY:T}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),y&&(r+=`skewX(${y}deg) `),T&&(r+=`skewY(${T}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const nB=(t,e)=>t.depth-e.depth;class rB{constructor(){this.children=[],this.isDirty=!1}add(e){S0(this.children,e),this.isDirty=!0}remove(e){P0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(nB),this.isDirty=!1,this.children.forEach(e)}}function Td(t){const e=Yt(t)?t.get():t;return GU(e)?e.toValue():e}function iB(t,e){const n=Ir.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(is(r),t(s-e))};return ze.read(r,!0),()=>is(r)}function sB(t){return t instanceof SVGElement&&t.tagName!=="svg"}function oB(t,e,n){const r=Yt(t)?t:bu(t);return r.start(T0("",r,e,n)),r.animation}const xs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},bl=typeof window<"u"&&window.MotionDebug!==void 0,Qp=["","X","Y","Z"],aB={visibility:"hidden"},yT=1e3;let lB=0;function Xp(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function bC(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=iC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ze,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&bC(r)}function RC({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=lB++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,bl&&(xs.totalNodes=xs.resolvedTargetDeltas=xs.recalculatedProjection=0),this.nodes.forEach(dB),this.nodes.forEach(gB),this.nodes.forEach(yB),this.nodes.forEach(hB),bl&&window.MotionDebug.record(xs)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new rB)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new x0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=sB(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=iB(f,250),Ed.hasAnimatedSinceResize&&(Ed.hasAnimatedSinceResize=!1,this.nodes.forEach(_T))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:y,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||d.getDefaultTransition()||TB,{onLayoutAnimationStart:I,onLayoutAnimationComplete:w}=d.getProps(),g=!this.targetLayout||!IC(this.targetLayout,T)||y,_=!f&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,_);const A={...l0(S,"layout"),onPlay:I,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else f||_T(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,is(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vB),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vT);return}this.isUpdating||this.nodes.forEach(pB),this.isUpdating=!1,this.nodes.forEach(mB),this.nodes.forEach(uB),this.nodes.forEach(cB),this.clearAllSnapshots();const a=Ir.now();Lt.delta=ss(0,1e3/60,a-Lt.timestamp),Lt.timestamp=a,Lt.isProcessing=!0,Bp.update.process(Lt),Bp.preRender.process(Lt),Bp.render.process(Lt),Lt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,R0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fB),this.sharedNodes.forEach(_B)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!xC(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||Ps(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),SB(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return mt();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(PB))){const{scroll:d}=this.root;d&&(Bo(l.x,d.offset.x),Bo(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=mt();if(Fn(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&Fn(l,o),Bo(l.x,h.offset.x),Bo(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=mt();Fn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&zo(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ps(d.latestValues)&&zo(l,d.latestValues)}return Ps(this.latestValues)&&zo(l,this.latestValues),l}removeTransform(o){const a=mt();Fn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ps(c.latestValues))continue;Gg(c.latestValues)&&c.updateSnapshot();const d=mt(),h=c.measurePageBox();Fn(d,h),dT(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Ps(this.latestValues)&&dT(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Lt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Lt.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),ql(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=mt(),this.targetWithTransforms=mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),x9(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fn(this.target,this.layout.layoutBox),yC(this.target,this.targetDelta)):Fn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),ql(this.relativeTargetOrigin,this.target,y.target),Fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}bl&&xs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Gg(this.parent.latestValues)||gC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Lt.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Fn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,y=this.treeScale.y;D9(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=mt());const{target:T}=a;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(lT(this.prevProjectionDelta.x,this.projectionDelta.x),lT(this.prevProjectionDelta.y,this.projectionDelta.y)),Wl(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==y||!gT(this.projectionDelta.x,this.prevProjectionDelta.x)||!gT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T)),bl&&xs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Uo(),this.projectionDelta=Uo(),this.projectionDeltaWithTransform=Uo()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=Uo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=mt(),y=l?l.source:void 0,T=this.layout?this.layout.source:void 0,S=y!==T,I=this.getStack(),w=!I||I.members.length<=1,g=!!(S&&!w&&this.options.crossfade===!0&&!this.path.some(EB));this.animationProgress=0;let _;this.mixTargetDelta=A=>{const M=A/1e3;wT(h.x,o.x,M),wT(h.y,o.y,M),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ql(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wB(this.relativeTarget,this.relativeTargetOrigin,f,M),_&&Z9(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=mt()),Fn(_,this.relativeTarget)),S&&(this.animationValues=d,K9(d,c,this.latestValues,M,g,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(is(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ze.update(()=>{Ed.hasAnimatedSinceResize=!0,this.currentAnimation=oB(0,yT,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(yT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&CC(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||mt();const h=Nn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=Nn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Fn(a,l),zo(a,d),Wl(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new eB),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Xp("z",o,c,this.animationValues);for(let d=0;d<Qp.length;d++)Xp(`rotate${Qp[d]}`,o,c,this.animationValues),Xp(`skew${Qp[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return aB;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Td(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=Td(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ps(this.latestValues)&&(S.transform=d?d({},""):"none",this.hasProjected=!1),S}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),c.transform=tB(this.projectionDeltaWithTransform,this.treeScale,f),d&&(c.transform=d(f,c.transform));const{x:y,y:T}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${T.origin*100}% 0`,h.animationValues?c.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const S in Ph){if(f[S]===void 0)continue;const{correct:I,applyTo:w}=Ph[S],g=c.transform==="none"?f[S]:I(f[S],h);if(w){const _=w.length;for(let A=0;A<_;A++)c[w[A]]=g}else c[S]=g}return this.options.layoutId&&(c.pointerEvents=h===this?Td(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(vT),this.root.sharedNodes.clear()}}}function uB(t){t.updateLayout()}function cB(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Un(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],y=Nn(f);f.min=r[h].min,f.max=f.min+y}):CC(s,n.layoutBox,r)&&Un(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],y=Nn(r[h]);f.max=f.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+y)});const a=Uo();Wl(a,r,n.layoutBox);const l=Uo();o?Wl(l,t.applyTransform(i,!0),n.measuredBox):Wl(l,r,n.layoutBox);const c=!xC(a);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:y}=h;if(f&&y){const T=mt();ql(T,n.layoutBox,f.layoutBox);const S=mt();ql(S,r,y.layoutBox),IC(T,S)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=T,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function dB(t){bl&&xs.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function hB(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function fB(t){t.clearSnapshot()}function vT(t){t.clearMeasurements()}function pB(t){t.isLayoutDirty=!1}function mB(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function _T(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function gB(t){t.resolveTargetDelta()}function yB(t){t.calcProjection()}function vB(t){t.resetSkewAndRotation()}function _B(t){t.removeLeadSnapshot()}function wT(t,e,n){t.translate=at(e.translate,0,n),t.scale=at(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ET(t,e,n,r){t.min=at(e.min,n.min,r),t.max=at(e.max,n.max,r)}function wB(t,e,n,r){ET(t.x,e.x,n.x,r),ET(t.y,e.y,n.y,r)}function EB(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const TB={duration:.45,ease:[.4,0,.1,1]},TT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ST=TT("applewebkit/")&&!TT("chrome/")?Math.round:Jt;function PT(t){t.min=ST(t.min),t.max=ST(t.max)}function SB(t){PT(t.x),PT(t.y)}function CC(t,e,n){return t==="position"||t==="preserve-aspect"&&!P9(mT(e),mT(n),.2)}function PB(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const xB=RC({attachResizeListener:(t,e)=>Wr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yp={current:void 0},AC=RC({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Yp.current){const t=new xB({});t.mount(window),t.setOptions({layoutScroll:!0}),Yp.current=t}return Yp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),IB={pan:{Feature:U9},drag:{Feature:F9,ProjectionNode:AC,MeasureLayout:TC}};function xT(t,e){const n=e?"pointerenter":"pointerleave",r=e?"onHoverStart":"onHoverEnd",i=(s,o)=>{if(s.pointerType==="touch"||hC())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e);const l=a[r];l&&ze.postRender(()=>l(s,o))};return ei(t.current,n,i,{passive:!t.getProps()[r]})}class bB extends ps{mount(){this.unmount=Zr(xT(this.node,!0),xT(this.node,!1))}unmount(){}}class RB extends ps{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zr(Wr(this.node.current,"focus",()=>this.onFocus()),Wr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const kC=(t,e)=>e?t===e?!0:kC(t,e.parentElement):!1;function Jp(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Nf(n))}class CB extends ps{constructor(){super(...arguments),this.removeStartListeners=Jt,this.removeEndListeners=Jt,this.removeAccessibleListeners=Jt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=ei(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:h}=this.node.getProps(),f=!h&&!kC(this.node.current,a.target)?d:c;f&&ze.update(()=>f(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=ei(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Zr(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Jp("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&ze.postRender(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=Wr(this.node.current,"keyup",o),Jp("down",(a,l)=>{this.startPress(a,l)})},n=Wr(this.node.current,"keydown",e),r=()=>{this.isPressing&&Jp("cancel",(s,o)=>this.cancelPress(s,o))},i=Wr(this.node.current,"blur",r);this.removeAccessibleListeners=Zr(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ze.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!hC()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ze.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=ei(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Wr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Zr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Xg=new WeakMap,Zp=new WeakMap,AB=t=>{const e=Xg.get(t.target);e&&e(t)},kB=t=>{t.forEach(AB)};function OB({root:t,...e}){const n=t||document;Zp.has(n)||Zp.set(n,{});const r=Zp.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(kB,{root:t,...e})),r[i]}function NB(t,e,n){const r=OB(e);return Xg.set(t,n),r.observe(t),()=>{Xg.delete(t),r.unobserve(t)}}const DB={some:0,all:1};class LB extends ps{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:DB[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=c?d:h;f&&f(l)};return NB(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(MB(e,n))&&this.startObserver()}unmount(){}}function MB({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const VB={inView:{Feature:LB},tap:{Feature:CB},focus:{Feature:RB},hover:{Feature:bB}},jB={layout:{ProjectionNode:AC,MeasureLayout:TC}},OC=L.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Df=L.createContext({}),C0=typeof window<"u",FB=C0?L.useLayoutEffect:L.useEffect,NC=L.createContext({strict:!1});function UB(t,e,n,r,i){var s,o;const{visualElement:a}=L.useContext(Df),l=L.useContext(NC),c=L.useContext(b0),d=L.useContext(OC).reducedMotion,h=L.useRef();r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,y=L.useContext(EC);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&BB(h.current,n,i,y),L.useInsertionEffect(()=>{f&&f.update(n,c)});const T=n[rC],S=L.useRef(!!T&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,T))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,T)));return FB(()=>{f&&(window.MotionIsMounted=!0,f.updateFeatures(),R0.render(f.render),S.current&&f.animationState&&f.animationState.animateChanges())}),L.useEffect(()=>{f&&(!S.current&&f.animationState&&f.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var I;(I=window.MotionHandoffMarkAsComplete)===null||I===void 0||I.call(window,T)}),S.current=!1))}),f}function BB(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:DC(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Fo(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function DC(t){if(t)return t.options.allowProjection!==!1?t.projection:DC(t.parent)}function zB(t,e,n){return L.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Fo(n)&&(n.current=r))},[e])}function Lf(t){return Af(t.animate)||a0.some(e=>Pu(t[e]))}function LC(t){return!!(Lf(t)||t.variants)}function $B(t,e){if(Lf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Pu(n)?n:void 0,animate:Pu(r)?r:void 0}}return t.inherit!==!1?e:{}}function HB(t){const{initial:e,animate:n}=$B(t,L.useContext(Df));return L.useMemo(()=>({initial:e,animate:n}),[IT(e),IT(n)])}function IT(t){return Array.isArray(t)?t.join(" "):t}const bT={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},va={};for(const t in bT)va[t]={isEnabled:e=>bT[t].some(n=>!!e[n])};function WB(t){for(const e in t)va[e]={...va[e],...t[e]}}const qB=Symbol.for("motionComponentSymbol");function KB({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&WB(t);function s(a,l){let c;const d={...L.useContext(OC),...a,layoutId:GB(a)},{isStatic:h}=d,f=HB(a),y=r(a,h);if(!h&&C0){QB();const T=XB(d);c=T.MeasureLayout,f.visualElement=UB(i,y,d,e,T.ProjectionNode)}return x.jsxs(Df.Provider,{value:f,children:[c&&f.visualElement?x.jsx(c,{visualElement:f.visualElement,...d}):null,n(i,a,zB(y,f.visualElement,l),y,h,f.visualElement)]})}const o=L.forwardRef(s);return o[qB]=i,o}function GB({layoutId:t}){const e=L.useContext(wC).id;return e&&t!==void 0?e+"-"+t:t}function QB(t,e){L.useContext(NC).strict}function XB(t){const{drag:e,layout:n}=va;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const YB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function A0(t){return typeof t!="string"||t.includes("-")?!1:!!(YB.indexOf(t)>-1||/[A-Z]/u.test(t))}function MC(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const VC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jC(t,e,n,r){MC(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(VC.has(i)?i:I0(i),e.attrs[i])}function FC(t,{layout:e,layoutId:n}){return oo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ph[t]||t==="opacity")}function k0(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(Yt(i[o])||e.style&&Yt(e.style[o])||FC(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function UC(t,e,n){const r=k0(t,e,n);for(const i in t)if(Yt(t[i])||Yt(e[i])){const s=Qu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function JB(t){const e=L.useRef(null);return e.current===null&&(e.current=t()),e.current}function ZB({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:ez(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const BC=t=>(e,n)=>{const r=L.useContext(Df),i=L.useContext(b0),s=()=>ZB(t,e,r,i);return n?s():JB(s)};function ez(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=Td(s[f]);let{initial:o,animate:a}=t;const l=Lf(t),c=LC(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!Af(h)){const f=Array.isArray(h)?h:[h];for(let y=0;y<f.length;y++){const T=s0(t,f[y]);if(T){const{transitionEnd:S,transition:I,...w}=T;for(const g in w){let _=w[g];if(Array.isArray(_)){const A=d?_.length-1:0;_=_[A]}_!==null&&(i[g]=_)}for(const g in S)i[g]=S[g]}}}return i}const O0=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),zC=()=>({...O0(),attrs:{}}),$C=(t,e)=>e&&typeof t=="number"?e.transform(t):t,tz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nz=Qu.length;function rz(t,e,n){let r="",i=!0;for(let s=0;s<nz;s++){const o=Qu[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=$C(a,m0[o]);if(!l){i=!1;const d=tz[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function N0(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(oo.has(l)){o=!0;continue}else if(DR(l)){i[l]=c;continue}else{const d=$C(c,m0[l]);l.startsWith("origin")?(a=!0,s[l]=d):r[l]=d}}if(e.transform||(o||n?r.transform=rz(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}function RT(t,e,n){return typeof t=="string"?t:ce.transform(e+n*t)}function iz(t,e,n){const r=RT(e,t.x,t.width),i=RT(n,t.y,t.height);return`${r} ${i}`}const sz={offset:"stroke-dashoffset",array:"stroke-dasharray"},oz={offset:"strokeDashoffset",array:"strokeDasharray"};function az(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?sz:oz;t[s.offset]=ce.transform(-r);const o=ce.transform(e),a=ce.transform(n);t[s.array]=`${o} ${a}`}function D0(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,h){if(N0(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:y,dimensions:T}=t;f.transform&&(T&&(y.transform=f.transform),delete f.transform),T&&(i!==void 0||s!==void 0||y.transform)&&(y.transformOrigin=iz(T,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&az(f,o,a,l,!1)}const L0=t=>typeof t=="string"&&t.toLowerCase()==="svg",lz={useVisualState:BC({scrapeMotionValuesFromProps:UC,createRenderState:zC,onMount:(t,e,{renderState:n,latestValues:r})=>{ze.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ze.render(()=>{D0(n,r,L0(e.tagName),t.transformTemplate),jC(e,n)})}})},uz={useVisualState:BC({scrapeMotionValuesFromProps:k0,createRenderState:O0})};function HC(t,e,n){for(const r in e)!Yt(e[r])&&!FC(r,n)&&(t[r]=e[r])}function cz({transformTemplate:t},e){return L.useMemo(()=>{const n=O0();return N0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function dz(t,e){const n=t.style||{},r={};return HC(r,n,t),Object.assign(r,cz(t,e)),r}function hz(t,e){const n={},r=dz(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const fz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function xh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||fz.has(t)}let WC=t=>!xh(t);function pz(t){t&&(WC=e=>e.startsWith("on")?!xh(e):t(e))}try{pz(require("@emotion/is-prop-valid").default)}catch{}function mz(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(WC(i)||n===!0&&xh(i)||!e&&!xh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function gz(t,e,n,r){const i=L.useMemo(()=>{const s=zC();return D0(s,e,L0(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};HC(s,t.style,t),i.style={...s,...i.style}}return i}function yz(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(A0(n)?gz:hz)(r,s,o,n),c=mz(r,typeof n=="string",t),d=n!==L.Fragment?{...c,...l,ref:i}:{},{children:h}=r,f=L.useMemo(()=>Yt(h)?h.get():h,[h]);return L.createElement(n,{...d,children:f})}}function vz(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...A0(r)?lz:uz,preloadedFeatures:t,useRender:yz(i),createVisualElement:e,Component:r};return KB(o)}}const Yg={current:null},qC={current:!1};function _z(){if(qC.current=!0,!!C0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Yg.current=t.matches;t.addListener(e),e()}else Yg.current=!1}function wz(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Yt(i))t.addValue(r,i);else if(Yt(s))t.addValue(r,bu(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,bu(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const CT=new WeakMap,Ez=[...VR,qt,os],Tz=t=>Ez.find(MR(t)),AT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Sz{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=h0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Ir.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,ze.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Lf(n),this.isVariantNode=LC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const y=h[f];l[f]!==void 0&&Yt(y)&&y.set(l[f],!1)}}mount(e){this.current=e,CT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),qC.current||_z(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){CT.delete(this.current),this.projection&&this.projection.unmount(),is(this.notifyUpdate),is(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=oo.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ze.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in va){const n=va[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<AT.length;r++){const i=AT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=wz(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=bu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(OR(i)||kR(i))?i=parseFloat(i):!Tz(i)&&os.test(n)&&(i=WR(e,n)),this.setBaseTarget(e,Yt(i)?i.get():i)),Yt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=s0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Yt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new x0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class KC extends Sz{constructor(){super(...arguments),this.KeyframeResolver=qR}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}}function Pz(t){return window.getComputedStyle(t)}class xz extends KC{constructor(){super(...arguments),this.type="html",this.renderInstance=MC}readValueFromInstance(e,n){if(oo.has(n)){const r=g0(n);return r&&r.default||0}else{const r=Pz(e),i=(DR(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return vC(e,n)}build(e,n,r){N0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return k0(e,n,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Yt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Iz extends KC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=mt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(oo.has(n)){const r=g0(n);return r&&r.default||0}return n=VC.has(n)?n:I0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return UC(e,n,r)}build(e,n,r){D0(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){jC(e,n,r,i)}mount(e){this.isSVGTag=L0(e.tagName),super.mount(e)}}const bz=(t,e)=>A0(t)?new Iz(e):new xz(e,{allowProjection:t!==L.Fragment}),Rz=vz({...m9,...VB,...IB,...jB},bz),GC=o6(Rz),Cz=({toggle:t,setToggle:e})=>{const n=so(),[r,i]=L.useState(null),[s,o]=L.useState(!1);L.useEffect(()=>{const l=yL(nr,async c=>{if(c){i(c);const h=(await Kv(Qs(kn,"users",c.uid))).data();o((h==null?void 0:h.isAdmin)||!1),console.log(s)}else i(null),o(!1)});return()=>l()});const a=async()=>{try{await vL(nr),i(null),ve.success("You are logged out"),n("/login")}catch{}};return x.jsxs("header",{className:"fixed top-0 w-full flex justify-between z-[6000] border-b border-slate-700 shadow-md bg-black text-white p-5 px-10 items-center",children:[r?x.jsx(Kt,{to:"/",className:" font-bold text-green-700 relative -left-5 top-1 text-lg md:text-2xl",children:"Reckon-Enterprise"}):x.jsx(Kt,{to:"/login",className:" font-bold text-green-700 relative -left-5 top-1 text-lg md:text-2xl",children:"Reckon-Enterprise"}),x.jsxs("nav",{children:[x.jsx("button",{onClick:()=>{e(l=>!l),console.log("Logging...",t)},className:" absolute text-green-700 md:hidden inline-block top-6 text-2xl right-8",children:x.jsx(m5,{})}),r&&x.jsxs(GC.ul,{className:t==!1?" animate__animated animate__fadeInDown hidden md:flex md:flex-nowrap flex-wrap md:flex-row flex-col md:relative absolute right-0 top-16 md:top-0 md:right-0 md:w-full py-4  bg-slate-950 md:bg-transparent md:py-0 w-60 gap-10 items-center":" animate__animated animate__fadeInDown flex md:flex-nowrap flex-wrap md:flex-row flex-col md:relative absolute right-0 top-16 md:top-0 md:right-0 md:w-full py-4 rounded-lg  bg-slate-950 md:bg-transparent md:py-0 w-60 gap-10 items-center",children:[r&&x.jsx("li",{children:x.jsxs(Kt,{to:"/",className:"transition-border-t h-10 text-white  duration-500 ease font-bold items-center hover:hover:border-t-2 border-t-blue-400  p-2 text-sm flex gap-2",children:[r.email.substring(0,4)+"..."," ",x.jsx(S5,{className:" text-3xl text-blue-200 border rounded-full p-1"})]})}),x.jsx("li",{children:x.jsxs(Kt,{to:"/",className:"transition-border-t h-10 text-white  duration-500 ease font-bold items-center hover:hover:border-t-2 border-t-blue-400  p-2 text-sm flex gap-2",children:["Home ",x.jsx(g5,{className:" text-blue-200 text-sm"})]})}),r&&s===!0&&x.jsxs(x.Fragment,{children:[x.jsx("li",{children:x.jsxs(Kt,{to:"/addproduct",className:"transition-border-t h-10 text-white  duration-500 ease font-bold items-center hover:hover:border-t-2 border-t-blue-400  p-2 text-sm flex gap-2",children:["Upload ",x.jsx(T5,{className:" text-blue-200 text-sm"})]})}),x.jsx("li",{children:x.jsxs(Kt,{to:"/admin",className:"transition-border-t h-10 text-white  duration-500 ease font-bold items-center hover:hover:border-t-2 border-t-blue-400  p-2 text-sm flex gap-2",children:["swapps ",x.jsx(rs,{className:" text-blue-200 text-sm"})]})})]}),x.jsx("li",{children:x.jsxs(Kt,{to:"/swap",className:"transition-border-t h-10 text-white  duration-500 ease font-bold items-center hover:hover:border-t-2 border-t-blue-400  p-2 text-sm flex gap-2",children:["Swap ",x.jsx(rs,{className:" text-blue-200 text-sm"})]})}),x.jsx("li",{children:x.jsxs(Kt,{to:"/contact",className:"transition-border-width text-white duration-500 ease font-medium items-center hover:border-t-2 hover:border-blue-500 p-2 text-sm flex gap-2",children:["Contact ",x.jsx(f5,{className:" text-blue-200 text-sm"})]})}),r&&x.jsx("li",{children:x.jsxs(Kt,{onClick:a,className:"transition-border-width bg-red-800 rounded-md text-white duration-500 ease font-medium items-center hover:border-t-2 hover:border-blue-500 p-2 text-sm flex gap-2",children:["Logout ",x.jsx(E5,{className:" text-blue-200 text-sm"})]})})]})]})]})},Az=()=>{const t=new Date().getFullYear();return x.jsxs("div",{className:" bg-black",children:[x.jsxs("div",{className:"footer p-10  border-t w-full flex  gap-10 flex-wrap  text-white md:justify-between",children:[x.jsxs("div",{className:"name text-white md:w-3/12",children:[x.jsx("h2",{className:"text-lg mb-1 font-medium",children:x.jsxs("abbr",{title:"Light Universal Intelligence",className:" text-sm no-underline text-blue-50",children:["ReckonLui [ ",x.jsx("small",{className:"",children:"Reckon-Light-Universal-Intelligence ]"})]})}),x.jsxs("p",{className:"text-sm",children:["Our Phone Store and Swap provides a unique platform for customers to buy, sell, and swap mobile phones with ease and confidence.",x.jsx("br",{})]})]}),x.jsxs("div",{className:"links text-white ",children:[x.jsx("h2",{className:"text-sm mb-3 font-bold",children:"Follow us on"}),x.jsxs("div",{className:"flex gap-3 mt-3",children:[x.jsx("a",{href:"#",className:"text-green-500",children:x.jsx(c5,{})}),x.jsx("a",{href:"#",className:"text-green-500",children:x.jsx(p5,{})}),x.jsx("a",{href:"#",className:"text-green-500",children:x.jsx(d5,{})}),x.jsx("a",{href:"#",className:"text-green-500",children:x.jsx(h5,{})})]}),x.jsxs("div",{className:"others",children:[x.jsx("h3",{className:" font-bold my-3  text-sm",children:"Other Links"}),x.jsxs("div",{className:" flex  flex-col gap-3 ",children:[x.jsx("a",{href:"/",className:" flex items-center  text-sm text-green-500 gap-3",children:"Home"}),x.jsx("a",{href:"/",className:" flex items-center text-sm text-green-500 gap-3",children:"About"}),x.jsx("a",{href:"/",className:" flex items-center text-sm text-green-500 gap-3",children:"Events"}),x.jsx("a",{href:"/",className:" flex items-center text-sm text-green-500 gap-3",children:"Community"})]})]})]}),x.jsxs("div",{className:"sub  text-white",children:[x.jsx("h2",{className:"text-sm mb-3 font-medium",children:"Subscribe for relevant email updates"}),x.jsx("div",{className:"form",children:x.jsxs("form",{action:"#",className:"flex gap-2 flex-wrap",children:[x.jsx("input",{type:"email",name:"email",id:"email",placeholder:"Enter your valid email",className:" p-3 border border-slate-800 w-full text-slate-800 text-sm font-medium bg-black outline-none rounded-md"}),x.jsxs("button",{type:"submit",className:"flex gap-3 items-center border-none bg-green-700 text-sm font-medium p-3 text-white px-3 rounded-md",children:["Submit ",x.jsx(kg,{})," "]})]})})]})]}),x.jsxs("p",{className:"text-center text-slate-100 border-t p-5 font-normal text-sm",children:["copyright ReckonLui ",t]})]})},kz=()=>{const[t,e]=L.useState(""),[n,r]=L.useState(""),i=so(),s=async o=>{o.preventDefault();try{await fL(nr,t,n),console.log(nr.currentUser),(nr.currentUser.emailVerified||nr.currentUser)&&(ve.success("You are Logged In"),i("/"))}catch(a){ve.error(a.message)}};return x.jsx("div",{className:"flex bg-gray-100 justify-center  relative   py-20 ",children:x.jsxs("div",{className:"w-full max-w-md p-8 space-y-4 bg-black  shadow-lg ",children:[x.jsxs("h2",{className:"text-xl flex font-bold gap-3 items-center justify-center border-dashed border-b border-green-900 py-5 text-slate-100 text-center",children:["Login to Phone Swap ",x.jsx(rs,{className:"text-green-600"})]}),x.jsxs("form",{onSubmit:s,className:"space-y-4",children:[x.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:o=>e(o.target.value),className:"border text-[13px] border-slate-500 text-slate-700 outline-none px-5 py-5 rounded-lg w-full"}),x.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:o=>r(o.target.value),className:"border text-[13px] border-slate-500 text-slate-700 outline-none px-5 py-5 rounded-lg w-full"}),x.jsxs("button",{type:"submit",className:"w-full px-4 flex justify-center gap-2 items-center py-5 font-semibold text-white bg-green-600 rounded-lg hover:bg-indigo-700",children:["Login ",x.jsx(sR,{})]})]}),x.jsxs("p",{className:"text-center text-slate-50",children:["Don't have an account? ",x.jsx(Kt,{to:"/register",className:"text-green-600",children:"Register"})]})]})})};function Oz(){const[t,e]=L.useState(!1),n=()=>{t===!0&&e(!1)};return x.jsxs("div",{onClick:()=>{n()},children:[x.jsx(DO,{}),x.jsx("header",{children:x.jsx(Cz,{toggle:t,setToggle:e})}),x.jsx("main",{className:"mt-10",children:x.jsx(VF,{})}),x.jsx("footer",{children:x.jsx(Az,{})})]})}var QC={},XC={},Mf={},YC={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(YC);var Nz="Expected a function",kT=NaN,Dz="[object Symbol]",Lz=/^\s+|\s+$/g,Mz=/^[-+]0x[0-9a-f]+$/i,Vz=/^0b[01]+$/i,jz=/^0o[0-7]+$/i,Fz=parseInt,Uz=typeof yc=="object"&&yc&&yc.Object===Object&&yc,Bz=typeof self=="object"&&self&&self.Object===Object&&self,zz=Uz||Bz||Function("return this")(),$z=Object.prototype,Hz=$z.toString,Wz=Math.max,qz=Math.min,em=function(){return zz.Date.now()};function Kz(t,e,n){var r,i,s,o,a,l,c=0,d=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(Nz);e=OT(e)||0,Jg(n)&&(d=!!n.leading,h="maxWait"in n,s=h?Wz(OT(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function y(k){var R=r,v=i;return r=i=void 0,c=k,o=t.apply(v,R),o}function T(k){return c=k,a=setTimeout(w,e),d?y(k):o}function S(k){var R=k-l,v=k-c,E=e-R;return h?qz(E,s-v):E}function I(k){var R=k-l,v=k-c;return l===void 0||R>=e||R<0||h&&v>=s}function w(){var k=em();if(I(k))return g(k);a=setTimeout(w,S(k))}function g(k){return a=void 0,f&&r?y(k):(r=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function A(){return a===void 0?o:g(em())}function M(){var k=em(),R=I(k);if(r=arguments,i=this,l=k,R){if(a===void 0)return T(l);if(h)return a=setTimeout(w,e),y(l)}return a===void 0&&(a=setTimeout(w,e)),o}return M.cancel=_,M.flush=A,M}function Jg(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Gz(t){return!!t&&typeof t=="object"}function Qz(t){return typeof t=="symbol"||Gz(t)&&Hz.call(t)==Dz}function OT(t){if(typeof t=="number")return t;if(Qz(t))return kT;if(Jg(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Jg(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Lz,"");var n=Vz.test(t);return n||jz.test(t)?Fz(t.slice(2),n?2:8):Mz.test(t)?kT:+t}var Xz=Kz,JC={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(JC);var Vf=JC.exports,G={},M0={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(L);function n(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(s){return e.default.createElement("ul",{style:{display:"block"}},s)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(s){return e.default.createElement("button",null,s+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null};t.default=r})(M0);Object.defineProperty(G,"__esModule",{value:!0});G.checkSpecKeys=G.checkNavigable=G.changeSlide=G.canUseDOM=G.canGoNext=void 0;G.clamp=eA;G.extractObject=void 0;G.filterSettings=d7;G.validSettings=G.swipeStart=G.swipeMove=G.swipeEnd=G.slidesOnRight=G.slidesOnLeft=G.slideHandler=G.siblingDirection=G.safePreventDefault=G.lazyStartIndex=G.lazySlidesOnRight=G.lazySlidesOnLeft=G.lazyEndIndex=G.keyHandler=G.initializedState=G.getWidth=G.getTrackLeft=G.getTrackCSS=G.getTrackAnimateCSS=G.getTotalSlides=G.getSwipeDirection=G.getSlideCount=G.getRequiredLazySlides=G.getPreClones=G.getPostClones=G.getOnDemandLazySlides=G.getNavigableIndexes=G.getHeight=void 0;var Yz=ZC(L),Jz=ZC(M0);function ZC(t){return t&&t.__esModule?t:{default:t}}function Ru(t){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ru(t)}function NT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NT(Object(n),!0).forEach(function(r){Zz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zz(t,e,n){return e=e7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e7(t){var e=t7(t,"string");return Ru(e)=="symbol"?e:String(e)}function t7(t,e){if(Ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eA(t,e,n){return Math.max(e,Math.min(t,n))}var Zo=G.safePreventDefault=function(e){var n=["onTouchStart","onTouchMove","onWheel"];n.includes(e._reactName)||e.preventDefault()},tA=G.getOnDemandLazySlides=function(e){for(var n=[],r=nA(e),i=rA(e),s=r;s<i;s++)e.lazyLoadedList.indexOf(s)<0&&n.push(s);return n};G.getRequiredLazySlides=function(e){for(var n=[],r=nA(e),i=rA(e),s=r;s<i;s++)n.push(s);return n};var nA=G.lazyStartIndex=function(e){return e.currentSlide-n7(e)},rA=G.lazyEndIndex=function(e){return e.currentSlide+r7(e)},n7=G.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},r7=G.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},Zg=G.getWidth=function(e){return e&&e.offsetWidth||0},iA=G.getHeight=function(e){return e&&e.offsetHeight||0},sA=G.getSwipeDirection=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,s,o;return r=e.startX-e.curX,i=e.startY-e.curY,s=Math.atan2(i,r),o=Math.round(s*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":n===!0?o>=35&&o<=135?"up":"down":"vertical"},oA=G.canGoNext=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n};G.extractObject=function(e,n){var r={};return n.forEach(function(i){return r[i]=e[i]}),r};G.initializedState=function(e){var n=Yz.default.Children.count(e.children),r=e.listRef,i=Math.ceil(Zg(r)),s=e.trackRef&&e.trackRef.node,o=Math.ceil(Zg(s)),a;if(e.vertical)a=i;else{var l=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(l*=i/100),a=Math.ceil((i-l)/e.slidesToShow)}var c=r&&iA(r.querySelector('[data-index="0"]')),d=c*e.slidesToShow,h=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(h=n-1-e.initialSlide);var f=e.lazyLoadedList||[],y=tA(tt(tt({},e),{},{currentSlide:h,lazyLoadedList:f}));f=f.concat(y);var T={slideCount:n,slideWidth:a,listWidth:i,trackWidth:o,currentSlide:h,slideHeight:c,listHeight:d,lazyLoadedList:f};return e.autoplaying===null&&e.autoplay&&(T.autoplaying="playing"),T};G.slideHandler=function(e){var n=e.waitForAnimate,r=e.animating,i=e.fade,s=e.infinite,o=e.index,a=e.slideCount,l=e.lazyLoad,c=e.currentSlide,d=e.centerMode,h=e.slidesToScroll,f=e.slidesToShow,y=e.useCSS,T=e.lazyLoadedList;if(n&&r)return{};var S=o,I,w,g,_={},A={},M=s?o:eA(o,0,a-1);if(i){if(!s&&(o<0||o>=a))return{};o<0?S=o+a:o>=a&&(S=o-a),l&&T.indexOf(S)<0&&(T=T.concat(S)),_={animating:!0,currentSlide:S,lazyLoadedList:T,targetSlide:S},A={animating:!1,targetSlide:S}}else I=S,S<0?(I=S+a,s?a%h!==0&&(I=a-a%h):I=0):!oA(e)&&S>c?S=I=c:d&&S>=a?(S=s?a:a-1,I=s?0:a-1):S>=a&&(I=S-a,s?a%h!==0&&(I=0):I=a-f),!s&&S+f>=a&&(I=a-f),w=bh(tt(tt({},e),{},{slideIndex:S})),g=bh(tt(tt({},e),{},{slideIndex:I})),s||(w===g&&(S=I),w=g),l&&(T=T.concat(tA(tt(tt({},e),{},{currentSlide:S})))),y?(_={animating:!0,currentSlide:I,trackStyle:aA(tt(tt({},e),{},{left:w})),lazyLoadedList:T,targetSlide:M},A={animating:!1,currentSlide:I,trackStyle:Ih(tt(tt({},e),{},{left:g})),swipeLeft:null,targetSlide:M}):_={currentSlide:I,trackStyle:Ih(tt(tt({},e),{},{left:g})),lazyLoadedList:T,targetSlide:M};return{state:_,nextState:A}};G.changeSlide=function(e,n){var r,i,s,o,a,l=e.slidesToScroll,c=e.slidesToShow,d=e.slideCount,h=e.currentSlide,f=e.targetSlide,y=e.lazyLoad,T=e.infinite;if(o=d%l!==0,r=o?0:(d-h)%l,n.message==="previous")s=r===0?l:c-r,a=h-s,y&&!T&&(i=h-s,a=i===-1?d-1:i),T||(a=f-l);else if(n.message==="next")s=r===0?l:r,a=h+s,y&&!T&&(a=(h+l)%d+r),T||(a=f+l);else if(n.message==="dots")a=n.index*n.slidesToScroll;else if(n.message==="children"){if(a=n.index,T){var S=a7(tt(tt({},e),{},{targetSlide:a}));a>n.currentSlide&&S==="left"?a=a-d:a<n.currentSlide&&S==="right"&&(a=a+d)}}else n.message==="index"&&(a=Number(n.index));return a};G.keyHandler=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};G.swipeStart=function(e,n,r){return e.target.tagName==="IMG"&&Zo(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};G.swipeMove=function(e,n){var r=n.scrolling,i=n.animating,s=n.vertical,o=n.swipeToSlide,a=n.verticalSwiping,l=n.rtl,c=n.currentSlide,d=n.edgeFriction,h=n.edgeDragged,f=n.onEdge,y=n.swiped,T=n.swiping,S=n.slideCount,I=n.slidesToScroll,w=n.infinite,g=n.touchObject,_=n.swipeEvent,A=n.listHeight,M=n.listWidth;if(!r){if(i)return Zo(e);s&&o&&a&&Zo(e);var k,R={},v=bh(n);g.curX=e.touches?e.touches[0].pageX:e.clientX,g.curY=e.touches?e.touches[0].pageY:e.clientY,g.swipeLength=Math.round(Math.sqrt(Math.pow(g.curX-g.startX,2)));var E=Math.round(Math.sqrt(Math.pow(g.curY-g.startY,2)));if(!a&&!T&&E>10)return{scrolling:!0};a&&(g.swipeLength=E);var P=(l?-1:1)*(g.curX>g.startX?1:-1);a&&(P=g.curY>g.startY?1:-1);var O=Math.ceil(S/I),N=sA(n.touchObject,a),C=g.swipeLength;return w||(c===0&&(N==="right"||N==="down")||c+1>=O&&(N==="left"||N==="up")||!oA(n)&&(N==="left"||N==="up"))&&(C=g.swipeLength*d,h===!1&&f&&(f(N),R.edgeDragged=!0)),!y&&_&&(_(N),R.swiped=!0),s?k=v+C*(A/M)*P:l?k=v-C*P:k=v+C*P,a&&(k=v+C*P),R=tt(tt({},R),{},{touchObject:g,swipeLeft:k,trackStyle:Ih(tt(tt({},n),{},{left:k}))}),Math.abs(g.curX-g.startX)<Math.abs(g.curY-g.startY)*.8||g.swipeLength>10&&(R.swiping=!0,Zo(e)),R}};G.swipeEnd=function(e,n){var r=n.dragging,i=n.swipe,s=n.touchObject,o=n.listWidth,a=n.touchThreshold,l=n.verticalSwiping,c=n.listHeight,d=n.swipeToSlide,h=n.scrolling,f=n.onSwipe,y=n.targetSlide,T=n.currentSlide,S=n.infinite;if(!r)return i&&Zo(e),{};var I=l?c/a:o/a,w=sA(s,l),g={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(h||!s.swipeLength)return g;if(s.swipeLength>I){Zo(e),f&&f(w);var _,A,M=S?T:y;switch(w){case"left":case"up":A=M+LT(n),_=d?DT(n,A):A,g.currentDirection=0;break;case"right":case"down":A=M-LT(n),_=d?DT(n,A):A,g.currentDirection=1;break;default:_=M}g.triggerSlideHandler=_}else{var k=bh(n);g.trackStyle=aA(tt(tt({},n),{},{left:k}))}return g};var i7=G.getNavigableIndexes=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,s=[];r<n;)s.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return s},DT=G.checkNavigable=function(e,n){var r=i7(e),i=0;if(n>r[r.length-1])n=r[r.length-1];else for(var s in r){if(n<r[s]){n=i;break}i=r[s]}return n},LT=G.getSlideCount=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,s=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(l){if(e.vertical){if(l.offsetTop+iA(l)/2>e.swipeLeft*-1)return r=l,!1}else if(l.offsetLeft-n+Zg(l)/2>e.swipeLeft*-1)return r=l,!1;return!0}),!r)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-o)||1;return a}else return e.slidesToScroll},V0=G.checkSpecKeys=function(e,n){return n.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)},Ih=G.getTrackCSS=function(e){V0(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r,i=e.slideCount+2*e.slidesToShow;e.vertical?r=i*e.slideHeight:n=o7(e)*e.slideWidth;var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=tt(tt({},s),{},{WebkitTransform:o,transform:a,msTransform:l})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),n&&(s.width=n),r&&(s.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s},aA=G.getTrackAnimateCSS=function(e){V0(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=Ih(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n},bh=G.getTrackLeft=function(e){if(e.unslick)return 0;V0(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,i=e.infinite,s=e.centerMode,o=e.slideCount,a=e.slidesToShow,l=e.slidesToScroll,c=e.slideWidth,d=e.listWidth,h=e.variableWidth,f=e.slideHeight,y=e.fade,T=e.vertical,S=0,I,w,g=0;if(y||e.slideCount===1)return 0;var _=0;if(i?(_=-Sd(e),o%l!==0&&n+l>o&&(_=-(n>o?a-(n-o):o%l)),s&&(_+=parseInt(a/2))):(o%l!==0&&n+l>o&&(_=a-o%l),s&&(_=parseInt(a/2))),S=_*c,g=_*f,T?I=n*f*-1+g:I=n*c*-1+S,h===!0){var A,M=r&&r.node;if(A=n+Sd(e),w=M&&M.childNodes[A],I=w?w.offsetLeft*-1:0,s===!0){A=i?n+Sd(e):n,w=M&&M.children[A],I=0;for(var k=0;k<A;k++)I-=M&&M.children[k]&&M.children[k].offsetWidth;I-=parseInt(e.centerPadding),I+=w&&(d-w.offsetWidth)/2}}return I},Sd=G.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},s7=G.getPostClones=function(e){return e.unslick||!e.infinite?0:e.slideCount},o7=G.getTotalSlides=function(e){return e.slideCount===1?1:Sd(e)+e.slideCount+s7(e)},a7=G.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+l7(e)?"left":"right":e.targetSlide<e.currentSlide-u7(e)?"right":"left"},l7=G.slidesOnRight=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),i&&n%2===0&&(o+=1),o}return i?0:n-1},u7=G.slidesOnLeft=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(n-1)/2+1;return parseInt(s)>0&&(o+=1),!i&&n%2===0&&(o+=1),o}return i?n-1:0};G.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var c7=G.validSettings=Object.keys(Jz.default);function d7(t){return c7.reduce(function(e,n){return t.hasOwnProperty(n)&&(e[n]=t[n]),e},{})}var jf={};Object.defineProperty(jf,"__esModule",{value:!0});jf.Track=void 0;var xi=lA(L),tm=lA(Vf),nm=G;function lA(t){return t&&t.__esModule?t:{default:t}}function _a(t){"@babel/helpers - typeof";return _a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_a(t)}function ey(){return ey=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ey.apply(this,arguments)}function h7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cA(r.key),r)}}function p7(t,e,n){return e&&f7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function m7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ty(t,e)}function ty(t,e){return ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ty(t,e)}function g7(t){var e=uA();return function(){var r=Rh(t),i;if(e){var s=Rh(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return y7(this,i)}}function y7(t,e){if(e&&(_a(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ny(t)}function ny(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uA=function(){return!!t})()}function Rh(t){return Rh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rh(t)}function MT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MT(Object(n),!0).forEach(function(r){ry(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ry(t,e,n){return e=cA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cA(t){var e=v7(t,"string");return _a(e)=="symbol"?e:String(e)}function v7(t,e){if(_a(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_a(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rm=function(e){var n,r,i,s,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,i=o<0||o>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),r=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-s-1&&o<=e.currentSlide+s&&(n=!0)):n=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var l=o===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":i,"slick-current":l}},_7=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight):n.left=-e.index*parseInt(e.slideWidth),n.opacity=e.currentSlide===e.index?1:0,n.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},im=function(e,n){return e.key||n},w7=function(e){var n,r=[],i=[],s=[],o=xi.default.Children.count(e.children),a=(0,nm.lazyStartIndex)(e),l=(0,nm.lazyEndIndex)(e);return xi.default.Children.forEach(e.children,function(c,d){var h,f={message:"children",index:d,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(d)>=0?h=c:h=xi.default.createElement("div",null);var y=_7(hn(hn({},e),{},{index:d})),T=h.props.className||"",S=rm(hn(hn({},e),{},{index:d}));if(r.push(xi.default.cloneElement(h,{key:"original"+im(h,d),"data-index":d,className:(0,tm.default)(S,T),tabIndex:"-1","aria-hidden":!S["slick-active"],style:hn(hn({outline:"none"},h.props.style||{}),y),onClick:function(g){h.props&&h.props.onClick&&h.props.onClick(g),e.focusOnSelect&&e.focusOnSelect(f)}})),e.infinite&&e.fade===!1){var I=o-d;I<=(0,nm.getPreClones)(e)&&(n=-I,n>=a&&(h=c),S=rm(hn(hn({},e),{},{index:n})),i.push(xi.default.cloneElement(h,{key:"precloned"+im(h,n),"data-index":n,tabIndex:"-1",className:(0,tm.default)(S,T),"aria-hidden":!S["slick-active"],style:hn(hn({},h.props.style||{}),y),onClick:function(g){h.props&&h.props.onClick&&h.props.onClick(g),e.focusOnSelect&&e.focusOnSelect(f)}}))),n=o+d,n<l&&(h=c),S=rm(hn(hn({},e),{},{index:n})),s.push(xi.default.cloneElement(h,{key:"postcloned"+im(h,n),"data-index":n,tabIndex:"-1",className:(0,tm.default)(S,T),"aria-hidden":!S["slick-active"],style:hn(hn({},h.props.style||{}),y),onClick:function(g){h.props&&h.props.onClick&&h.props.onClick(g),e.focusOnSelect&&e.focusOnSelect(f)}}))}}),e.rtl?i.concat(r,s).reverse():i.concat(r,s)};jf.Track=function(t){m7(n,t);var e=g7(n);function n(){var r;h7(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),ry(ny(r),"node",null),ry(ny(r),"handleRef",function(a){r.node=a}),r}return p7(n,[{key:"render",value:function(){var i=w7(this.props),s=this.props,o=s.onMouseEnter,a=s.onMouseOver,l=s.onMouseLeave,c={onMouseEnter:o,onMouseOver:a,onMouseLeave:l};return xi.default.createElement("div",ey({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},c),i)}}]),n}(xi.default.PureComponent);var Ff={};function wa(t){"@babel/helpers - typeof";return wa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wa(t)}Object.defineProperty(Ff,"__esModule",{value:!0});Ff.Dots=void 0;var Gc=dA(L),E7=dA(Vf),VT=G;function dA(t){return t&&t.__esModule?t:{default:t}}function jT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jT(Object(n),!0).forEach(function(r){S7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S7(t,e,n){return e=hA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hA(r.key),r)}}function I7(t,e,n){return e&&x7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hA(t){var e=b7(t,"string");return wa(e)=="symbol"?e:String(e)}function b7(t,e){if(wa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iy(t,e)}function iy(t,e){return iy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iy(t,e)}function C7(t){var e=fA();return function(){var r=Ch(t),i;if(e){var s=Ch(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return A7(this,i)}}function A7(t,e){if(e&&(wa(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k7(t)}function k7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fA=function(){return!!t})()}function Ch(t){return Ch=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ch(t)}var O7=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n};Ff.Dots=function(t){R7(n,t);var e=C7(n);function n(){return P7(this,n),e.apply(this,arguments)}return I7(n,[{key:"clickHandler",value:function(i,s){s.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,s=i.onMouseEnter,o=i.onMouseOver,a=i.onMouseLeave,l=i.infinite,c=i.slidesToScroll,d=i.slidesToShow,h=i.slideCount,f=i.currentSlide,y=O7({slideCount:h,slidesToScroll:c,slidesToShow:d,infinite:l}),T={onMouseEnter:s,onMouseOver:o,onMouseLeave:a},S=[],I=0;I<y;I++){var w=(I+1)*c-1,g=l?w:(0,VT.clamp)(w,0,h-1),_=g-(c-1),A=l?_:(0,VT.clamp)(_,0,h-1),M=(0,E7.default)({"slick-active":l?f>=A&&f<=g:f===A}),k={message:"dots",index:I,slidesToScroll:c,currentSlide:f},R=this.clickHandler.bind(this,k);S=S.concat(Gc.default.createElement("li",{key:I,className:M},Gc.default.cloneElement(this.props.customPaging(I),{onClick:R})))}return Gc.default.cloneElement(this.props.appendDots(S),T7({className:this.props.dotsClass},T))}}]),n}(Gc.default.PureComponent);var Ea={};function Ta(t){"@babel/helpers - typeof";return Ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ta(t)}Object.defineProperty(Ea,"__esModule",{value:!0});Ea.PrevArrow=Ea.NextArrow=void 0;var ea=mA(L),pA=mA(Vf),N7=G;function mA(t){return t&&t.__esModule?t:{default:t}}function Ah(){return Ah=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ah.apply(this,arguments)}function FT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FT(Object(n),!0).forEach(function(r){D7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D7(t,e,n){return e=vA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vA(r.key),r)}}function yA(t,e,n){return e&&L7(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vA(t){var e=M7(t,"string");return Ta(e)=="symbol"?e:String(e)}function M7(t,e){if(Ta(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ta(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _A(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sy(t,e)}function sy(t,e){return sy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sy(t,e)}function wA(t){var e=EA();return function(){var r=Oh(t),i;if(e){var s=Oh(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return V7(this,i)}}function V7(t,e){if(e&&(Ta(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j7(t)}function j7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EA=function(){return!!t})()}function Oh(t){return Oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Oh(t)}Ea.PrevArrow=function(t){_A(n,t);var e=wA(n);function n(){return gA(this,n),e.apply(this,arguments)}return yA(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,s=null);var o={key:"0","data-role":"none",className:(0,pA.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=ea.default.cloneElement(this.props.prevArrow,kh(kh({},o),a)):l=ea.default.createElement("button",Ah({key:"0",type:"button"},o)," ","Previous"),l}}]),n}(ea.default.PureComponent);Ea.NextArrow=function(t){_A(n,t);var e=wA(n);function n(){return gA(this,n),e.apply(this,arguments)}return yA(n,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,N7.canGoNext)(this.props)||(i["slick-disabled"]=!0,s=null);var o={key:"1","data-role":"none",className:(0,pA.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=ea.default.cloneElement(this.props.nextArrow,kh(kh({},o),a)):l=ea.default.createElement("button",Ah({key:"1",type:"button"},o)," ","Next"),l}}]),n}(ea.default.PureComponent);var TA=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];n.call(r,o[1],o[0])}},e}()}(),oy=typeof window<"u"&&typeof document<"u"&&window.document===document,Nh=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),F7=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Nh):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),U7=2;function B7(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&a()}function o(){F7(s)}function a(){var l=Date.now();if(n){if(l-i<U7)return;r=!0}else n=!0,r=!1,setTimeout(o,e);i=l}return a}var z7=20,$7=["top","right","bottom","left","width","height","size","weight"],H7=typeof MutationObserver<"u",W7=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=B7(this.refresh.bind(this),z7)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!oy||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),H7?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!oy||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=$7.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),SA=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Sa=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Nh},PA=Uf(0,0,0,0);function Dh(t){return parseFloat(t)||0}function UT(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var s=t["border-"+i+"-width"];return r+Dh(s)},0)}function q7(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var s=i[r],o=t["padding-"+s];n[s]=Dh(o)}return n}function K7(t){var e=t.getBBox();return Uf(0,0,e.width,e.height)}function G7(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return PA;var r=Sa(t).getComputedStyle(t),i=q7(r),s=i.left+i.right,o=i.top+i.bottom,a=Dh(r.width),l=Dh(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=UT(r,"left","right")+s),Math.round(l+o)!==n&&(l-=UT(r,"top","bottom")+o)),!X7(t)){var c=Math.round(a+s)-e,d=Math.round(l+o)-n;Math.abs(c)!==1&&(a-=c),Math.abs(d)!==1&&(l-=d)}return Uf(i.left,i.top,a,l)}var Q7=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Sa(t).SVGGraphicsElement}:function(t){return t instanceof Sa(t).SVGElement&&typeof t.getBBox=="function"}}();function X7(t){return t===Sa(t).document.documentElement}function Y7(t){return oy?Q7(t)?K7(t):G7(t):PA}function J7(t){var e=t.x,n=t.y,r=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return SA(o,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),o}function Uf(t,e,n,r){return{x:t,y:e,width:n,height:r}}var Z7=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Uf(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=Y7(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),e8=function(){function t(e,n){var r=J7(n);SA(this,{target:e,contentRect:r})}return t}(),t8=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new TA,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Sa(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new Z7(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Sa(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new e8(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),xA=typeof WeakMap<"u"?new WeakMap:new TA,IA=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=W7.getInstance(),r=new t8(e,n,this);xA.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){IA.prototype[t]=function(){var e;return(e=xA.get(this))[t].apply(e,arguments)}});var n8=function(){return typeof Nh.ResizeObserver<"u"?Nh.ResizeObserver:IA}();const r8=Object.freeze(Object.defineProperty({__proto__:null,default:n8},Symbol.toStringTag,{value:"Module"})),i8=GA(r8);Object.defineProperty(Mf,"__esModule",{value:!0});Mf.InnerSlider=void 0;var nn=Ju(L),s8=Ju(YC),o8=Ju(Xz),a8=Ju(Vf),st=G,l8=jf,u8=Ff,BT=Ea,c8=Ju(i8);function Ju(t){return t&&t.__esModule?t:{default:t}}function Js(t){"@babel/helpers - typeof";return Js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Js(t)}function Lh(){return Lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lh.apply(this,arguments)}function d8(t,e){if(t==null)return{};var n=h8(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function h8(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function zT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zT(Object(n),!0).forEach(function(r){Se(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RA(r.key),r)}}function m8(t,e,n){return e&&p8(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function g8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ay(t,e)}function ay(t,e){return ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ay(t,e)}function y8(t){var e=bA();return function(){var r=Mh(t),i;if(e){var s=Mh(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return v8(this,i)}}function v8(t,e){if(e&&(Js(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Te(t)}function Te(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bA(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bA=function(){return!!t})()}function Mh(t){return Mh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mh(t)}function Se(t,e,n){return e=RA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RA(t){var e=_8(t,"string");return Js(e)=="symbol"?e:String(e)}function _8(t,e){if(Js(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}Mf.InnerSlider=function(t){g8(n,t);var e=y8(n);function n(r){var i;f8(this,n),i=e.call(this,r),Se(Te(i),"listRefHandler",function(o){return i.list=o}),Se(Te(i),"trackRefHandler",function(o){return i.track=o}),Se(Te(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var o=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,st.getHeight)(o)+"px"}}),Se(Te(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var o=(0,st.getOnDemandLazySlides)(ue(ue({},i.props),i.state));o.length>0&&(i.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o))}var a=ue({listRef:i.list,trackRef:i.track},i.props);i.updateState(a,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new c8.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,l.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),Se(Te(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(o){return clearTimeout(o)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),Se(Te(i),"componentDidUpdate",function(o){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var a=(0,st.getOnDemandLazySlides)(ue(ue({},i.props),i.state));a.length>0&&(i.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}i.adaptHeight();var l=ue(ue({listRef:i.list,trackRef:i.track},i.props),i.state),c=i.didPropsChange(o);c&&i.updateState(l,c,function(){i.state.currentSlide>=nn.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:nn.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),Se(Te(i),"onWindowResized",function(o){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,o8.default)(function(){return i.resizeWindow(o)},50),i.debouncedResize()}),Se(Te(i),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(i.track&&i.track.node);if(a){var l=ue(ue({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(l,o,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),Se(Te(i),"updateState",function(o,a,l){var c=(0,st.initializedState)(o);o=ue(ue(ue({},o),c),{},{slideIndex:c.currentSlide});var d=(0,st.getTrackLeft)(o);o=ue(ue({},o),{},{left:d});var h=(0,st.getTrackCSS)(o);(a||nn.default.Children.count(i.props.children)!==nn.default.Children.count(o.children))&&(c.trackStyle=h),i.setState(c,l)}),Se(Te(i),"ssrInit",function(){if(i.props.variableWidth){var o=0,a=0,l=[],c=(0,st.getPreClones)(ue(ue(ue({},i.props),i.state),{},{slideCount:i.props.children.length})),d=(0,st.getPostClones)(ue(ue(ue({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(R){l.push(R.props.style.width),o+=R.props.style.width});for(var h=0;h<c;h++)a+=l[l.length-1-h],o+=l[l.length-1-h];for(var f=0;f<d;f++)o+=l[f];for(var y=0;y<i.state.currentSlide;y++)a+=l[y];var T={width:o+"px",left:-a+"px"};if(i.props.centerMode){var S="".concat(l[i.state.currentSlide],"px");T.left="calc(".concat(T.left," + (100% - ").concat(S,") / 2 ) ")}return{trackStyle:T}}var I=nn.default.Children.count(i.props.children),w=ue(ue(ue({},i.props),i.state),{},{slideCount:I}),g=(0,st.getPreClones)(w)+(0,st.getPostClones)(w)+I,_=100/i.props.slidesToShow*g,A=100/g,M=-A*((0,st.getPreClones)(w)+i.state.currentSlide)*_/100;i.props.centerMode&&(M+=(100-A*_/100)/2);var k={width:_+"%",left:M+"%"};return{slideWidth:A+"%",trackStyle:k}}),Se(Te(i),"checkImagesLoad",function(){var o=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],a=o.length,l=0;Array.prototype.forEach.call(o,function(c){var d=function(){return++l&&l>=a&&i.onWindowResized()};if(!c.onclick)c.onclick=function(){return c.parentNode.focus()};else{var h=c.onclick;c.onclick=function(f){h(f),c.parentNode.focus()}}c.onload||(i.props.lazyLoad?c.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(c.onload=d,c.onerror=function(){d(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),Se(Te(i),"progressiveLazyLoad",function(){for(var o=[],a=ue(ue({},i.props),i.state),l=i.state.currentSlide;l<i.state.slideCount+(0,st.getPostClones)(a);l++)if(i.state.lazyLoadedList.indexOf(l)<0){o.push(l);break}for(var c=i.state.currentSlide-1;c>=-(0,st.getPreClones)(a);c--)if(i.state.lazyLoadedList.indexOf(c)<0){o.push(c);break}o.length>0?(i.setState(function(d){return{lazyLoadedList:d.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),Se(Te(i),"slideHandler",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=i.props,c=l.asNavFor,d=l.beforeChange,h=l.onLazyLoad,f=l.speed,y=l.afterChange,T=i.state.currentSlide,S=(0,st.slideHandler)(ue(ue(ue({index:o},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!a})),I=S.state,w=S.nextState;if(I){d&&d(T,I.currentSlide);var g=I.lazyLoadedList.filter(function(_){return i.state.lazyLoadedList.indexOf(_)<0});h&&g.length>0&&h(g),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),y&&y(T),delete i.animationEndCallback),i.setState(I,function(){c&&i.asNavForIndex!==o&&(i.asNavForIndex=o,c.innerSlider.slideHandler(o)),w&&(i.animationEndCallback=setTimeout(function(){var _=w.animating,A=d8(w,["animating"]);i.setState(A,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:_})},10)),y&&y(I.currentSlide),delete i.animationEndCallback})},f))})}}),Se(Te(i),"changeSlide",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=ue(ue({},i.props),i.state),c=(0,st.changeSlide)(l,o);if(!(c!==0&&!c)&&(a===!0?i.slideHandler(c,a):i.slideHandler(c),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var d=i.list.querySelectorAll(".slick-current");d[0]&&d[0].focus()}}),Se(Te(i),"clickHandler",function(o){i.clickable===!1&&(o.stopPropagation(),o.preventDefault()),i.clickable=!0}),Se(Te(i),"keyHandler",function(o){var a=(0,st.keyHandler)(o,i.props.accessibility,i.props.rtl);a!==""&&i.changeSlide({message:a})}),Se(Te(i),"selectHandler",function(o){i.changeSlide(o)}),Se(Te(i),"disableBodyScroll",function(){var o=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=o}),Se(Te(i),"enableBodyScroll",function(){window.ontouchmove=null}),Se(Te(i),"swipeStart",function(o){i.props.verticalSwiping&&i.disableBodyScroll();var a=(0,st.swipeStart)(o,i.props.swipe,i.props.draggable);a!==""&&i.setState(a)}),Se(Te(i),"swipeMove",function(o){var a=(0,st.swipeMove)(o,ue(ue(ue({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));a&&(a.swiping&&(i.clickable=!1),i.setState(a))}),Se(Te(i),"swipeEnd",function(o){var a=(0,st.swipeEnd)(o,ue(ue(ue({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(a){var l=a.triggerSlideHandler;delete a.triggerSlideHandler,i.setState(a),l!==void 0&&(i.slideHandler(l),i.props.verticalSwiping&&i.enableBodyScroll())}}),Se(Te(i),"touchEnd",function(o){i.swipeEnd(o),i.clickable=!0}),Se(Te(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),Se(Te(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),Se(Te(i),"slickGoTo",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:o,currentSlide:i.state.currentSlide},a)},0))}),Se(Te(i),"play",function(){var o;if(i.props.rtl)o=i.state.currentSlide-i.props.slidesToScroll;else if((0,st.canGoNext)(ue(ue({},i.props),i.state)))o=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(o)}),Se(Te(i),"autoPlay",function(o){i.autoplayTimer&&clearInterval(i.autoplayTimer);var a=i.state.autoplaying;if(o==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(o==="leave"){if(a==="paused"||a==="focused")return}else if(o==="blur"&&(a==="paused"||a==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),Se(Te(i),"pause",function(o){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var a=i.state.autoplaying;o==="paused"?i.setState({autoplaying:"paused"}):o==="focused"?(a==="hovered"||a==="playing")&&i.setState({autoplaying:"focused"}):a==="playing"&&i.setState({autoplaying:"hovered"})}),Se(Te(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),Se(Te(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Se(Te(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),Se(Te(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Se(Te(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),Se(Te(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),Se(Te(i),"render",function(){var o=(0,a8.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),a=ue(ue({},i.props),i.state),l=(0,st.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),c=i.props.pauseOnHover;l=ue(ue({},l),{},{onMouseEnter:c?i.onTrackOver:null,onMouseLeave:c?i.onTrackLeave:null,onMouseOver:c?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var d;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var h=(0,st.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),f=i.props.pauseOnDotsHover;h=ue(ue({},h),{},{clickHandler:i.changeSlide,onMouseEnter:f?i.onDotsLeave:null,onMouseOver:f?i.onDotsOver:null,onMouseLeave:f?i.onDotsLeave:null}),d=nn.default.createElement(u8.Dots,h)}var y,T,S=(0,st.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);S.clickHandler=i.changeSlide,i.props.arrows&&(y=nn.default.createElement(BT.PrevArrow,S),T=nn.default.createElement(BT.NextArrow,S));var I=null;i.props.vertical&&(I={height:i.state.listHeight});var w=null;i.props.vertical===!1?i.props.centerMode===!0&&(w={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(w={padding:i.props.centerPadding+" 0px"});var g=ue(ue({},I),w),_=i.props.touchMove,A={className:"slick-list",style:g,onClick:i.clickHandler,onMouseDown:_?i.swipeStart:null,onMouseMove:i.state.dragging&&_?i.swipeMove:null,onMouseUp:_?i.swipeEnd:null,onMouseLeave:i.state.dragging&&_?i.swipeEnd:null,onTouchStart:_?i.swipeStart:null,onTouchMove:i.state.dragging&&_?i.swipeMove:null,onTouchEnd:_?i.touchEnd:null,onTouchCancel:i.state.dragging&&_?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},M={className:o,dir:"ltr",style:i.props.style};return i.props.unslick&&(A={className:"slick-list"},M={className:o}),nn.default.createElement("div",M,i.props.unslick?"":y,nn.default.createElement("div",Lh({ref:i.listRefHandler},A),nn.default.createElement(l8.Track,Lh({ref:i.trackRefHandler},l),i.props.children)),i.props.unslick?"":T,i.props.unslick?"":d)}),i.list=null,i.track=null,i.state=ue(ue({},s8.default),{},{currentSlide:i.props.initialSlide,targetSlide:i.props.initialSlide?i.props.initialSlide:0,slideCount:nn.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var s=i.ssrInit();return i.state=ue(ue({},i.state),s),i}return m8(n,[{key:"didPropsChange",value:function(i){for(var s=!1,o=0,a=Object.keys(this.props);o<a.length;o++){var l=a[o];if(!i.hasOwnProperty(l)){s=!0;break}if(!(Js(i[l])==="object"||typeof i[l]=="function"||isNaN(i[l]))&&i[l]!==this.props[l]){s=!0;break}}return s||nn.default.Children.count(this.props.children)!==nn.default.Children.count(i.children)}}]),n}(nn.default.Component);var w8=function(t){return t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},E8=w8,T8=E8,S8=function(t){var e=/[height|width]$/;return e.test(t)},$T=function(t){var e="",n=Object.keys(t);return n.forEach(function(r,i){var s=t[r];r=T8(r),S8(r)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=r:s===!1?e+="not "+r:e+="("+r+": "+s+")",i<n.length-1&&(e+=" and ")}),e},P8=function(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=$T(n),r<t.length-1&&(e+=", ")}),e):$T(t)},x8=P8,sm,HT;function I8(){if(HT)return sm;HT=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},sm=t,sm}var om,WT;function CA(){if(WT)return om;WT=1;function t(r,i){var s=0,o=r.length,a;for(s;s<o&&(a=i(r[s],s),a!==!1);s++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return om={isFunction:n,isArray:e,each:t},om}var am,qT;function b8(){if(qT)return am;qT=1;var t=I8(),e=CA().each;function n(r,i){this.query=r,this.isUnconditional=i,this.handlers=[],this.mql=window.matchMedia(r);var s=this;this.listener=function(o){s.mql=o.currentTarget||o,s.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var i=new t(r);this.handlers.push(i),this.matches()&&i.on()},removeHandler:function(r){var i=this.handlers;e(i,function(s,o){if(s.equals(r))return s.destroy(),!i.splice(o,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(i){i[r]()})}},am=n,am}var lm,KT;function R8(){if(KT)return lm;KT=1;var t=b8(),e=CA(),n=e.each,r=e.isFunction,i=e.isArray;function s(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return s.prototype={constructor:s,register:function(o,a,l){var c=this.queries,d=l&&this.browserIsIncapable;return c[o]||(c[o]=new t(o,d)),r(a)&&(a={match:a}),i(a)||(a=[a]),n(a,function(h){r(h)&&(h={match:h}),c[o].addHandler(h)}),this},unregister:function(o,a){var l=this.queries[o];return l&&(a?l.removeHandler(a):(l.clear(),delete this.queries[o])),this}},lm=s,lm}var um,GT;function C8(){if(GT)return um;GT=1;var t=R8();return um=new t,um}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=o(L),n=Mf,r=o(x8),i=o(M0),s=G;function o(E){return E&&E.__esModule?E:{default:E}}function a(E){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},a(E)}function l(){return l=Object.assign?Object.assign.bind():function(E){for(var P=1;P<arguments.length;P++){var O=arguments[P];for(var N in O)Object.prototype.hasOwnProperty.call(O,N)&&(E[N]=O[N])}return E},l.apply(this,arguments)}function c(E,P){var O=Object.keys(E);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(E);P&&(N=N.filter(function(C){return Object.getOwnPropertyDescriptor(E,C).enumerable})),O.push.apply(O,N)}return O}function d(E){for(var P=1;P<arguments.length;P++){var O=arguments[P]!=null?arguments[P]:{};P%2?c(Object(O),!0).forEach(function(N){M(E,N,O[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(O)):c(Object(O)).forEach(function(N){Object.defineProperty(E,N,Object.getOwnPropertyDescriptor(O,N))})}return E}function h(E,P){if(!(E instanceof P))throw new TypeError("Cannot call a class as a function")}function f(E,P){for(var O=0;O<P.length;O++){var N=P[O];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(E,k(N.key),N)}}function y(E,P,O){return P&&f(E.prototype,P),Object.defineProperty(E,"prototype",{writable:!1}),E}function T(E,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(P&&P.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),P&&S(E,P)}function S(E,P){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,C){return N.__proto__=C,N},S(E,P)}function I(E){var P=_();return function(){var N=A(E),C;if(P){var q=A(this).constructor;C=Reflect.construct(N,arguments,q)}else C=N.apply(this,arguments);return w(this,C)}}function w(E,P){if(P&&(a(P)==="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g(E)}function g(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function _(){try{var E=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_=function(){return!!E})()}function A(E){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(O){return O.__proto__||Object.getPrototypeOf(O)},A(E)}function M(E,P,O){return P=k(P),P in E?Object.defineProperty(E,P,{value:O,enumerable:!0,configurable:!0,writable:!0}):E[P]=O,E}function k(E){var P=R(E,"string");return a(P)=="symbol"?P:String(P)}function R(E,P){if(a(E)!="object"||!E)return E;var O=E[Symbol.toPrimitive];if(O!==void 0){var N=O.call(E,P||"default");if(a(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(E)}var v=(0,s.canUseDOM)()&&C8();t.default=function(E){T(O,E);var P=I(O);function O(N){var C;return h(this,O),C=P.call(this,N),M(g(C),"innerSliderRefHandler",function(q){return C.innerSlider=q}),M(g(C),"slickPrev",function(){return C.innerSlider.slickPrev()}),M(g(C),"slickNext",function(){return C.innerSlider.slickNext()}),M(g(C),"slickGoTo",function(q){var Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return C.innerSlider.slickGoTo(q,Ve)}),M(g(C),"slickPause",function(){return C.innerSlider.pause("paused")}),M(g(C),"slickPlay",function(){return C.innerSlider.autoPlay("play")}),C.state={breakpoint:null},C._responsiveMediaHandlers=[],C}return y(O,[{key:"media",value:function(C,q){v.register(C,q),this._responsiveMediaHandlers.push({query:C,handler:q})}},{key:"componentDidMount",value:function(){var C=this;if(this.props.responsive){var q=this.props.responsive.map(function(Ne){return Ne.breakpoint});q.sort(function(Ne,re){return Ne-re}),q.forEach(function(Ne,re){var H;re===0?H=(0,r.default)({minWidth:0,maxWidth:Ne}):H=(0,r.default)({minWidth:q[re-1]+1,maxWidth:Ne}),(0,s.canUseDOM)()&&C.media(H,function(){C.setState({breakpoint:Ne})})});var Ve=(0,r.default)({minWidth:q.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(Ve,function(){C.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(C){v.unregister(C.query,C.handler)})}},{key:"render",value:function(){var C=this,q,Ve;this.state.breakpoint?(Ve=this.props.responsive.filter(function(Ce){return Ce.breakpoint===C.state.breakpoint}),q=Ve[0].settings==="unslick"?"unslick":d(d(d({},i.default),this.props),Ve[0].settings)):q=d(d({},i.default),this.props),q.centerMode&&(q.slidesToScroll>1,q.slidesToScroll=1),q.fade&&(q.slidesToShow>1,q.slidesToScroll>1,q.slidesToShow=1,q.slidesToScroll=1);var Ne=e.default.Children.toArray(this.props.children);Ne=Ne.filter(function(Ce){return typeof Ce=="string"?!!Ce.trim():!!Ce}),q.variableWidth&&(q.rows>1||q.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),q.variableWidth=!1);for(var re=[],H=null,Q=0;Q<Ne.length;Q+=q.rows*q.slidesPerRow){for(var ie=[],de=Q;de<Q+q.rows*q.slidesPerRow;de+=q.slidesPerRow){for(var he=[],fe=de;fe<de+q.slidesPerRow&&(q.variableWidth&&Ne[fe].props.style&&(H=Ne[fe].props.style.width),!(fe>=Ne.length));fe+=1)he.push(e.default.cloneElement(Ne[fe],{key:100*Q+10*de+fe,tabIndex:-1,style:{width:"".concat(100/q.slidesPerRow,"%"),display:"inline-block"}}));ie.push(e.default.createElement("div",{key:10*Q+de},he))}q.variableWidth?re.push(e.default.createElement("div",{key:Q,style:{width:H}},ie)):re.push(e.default.createElement("div",{key:Q},ie))}if(q==="unslick"){var De="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:De},Ne)}else re.length<=q.slidesToShow&&!q.infinite&&(q.unslick=!0);return e.default.createElement(n.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},(0,s.filterSettings)(q)),re)}}]),O}(e.default.Component)})(XC);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(XC);function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default})(QC);const A8=ly(QC),k8=({phone:t})=>x.jsxs(Kt,{to:`/swap/${t.id}`,className:"bg-white block shadow-lg rounded-lg overflow-hidden w-full p-3 border ",children:[x.jsx("div",{className:"h-[300px] bg-cover bg-center rounded-lg",style:{backgroundImage:`url(${t.imageUrl})`}}),x.jsxs("div",{className:"flex justify-center flex-col items-center",children:[x.jsx("h2",{className:"text-xl font-semibold",children:t.name}),x.jsx("p",{className:"text-gray-600 text-sm font-medium mb-1",children:t.description}),x.jsxs("p",{className:"text-xl font-medium text-green-600",children:["  -- ₦",t.price," - "]})]})]}),O8=()=>{const t={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3},[e,n]=L.useState([]);return L.useEffect(()=>{(async()=>{const i=await Pf(Na(kn,"products"));n(i.docs.map(s=>({id:s.id,...s.data()})))})()},[]),x.jsx("div",{className:" w-full bg-gray-100 text-white relative overflow-hidden top-[30px] border",children:x.jsx(A8,{...t,children:e.map(r=>x.jsx(k8,{phone:r},r.id))})})},N8=({phone:t})=>x.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden w-full p-3",children:[x.jsx("div",{className:"h-48 bg-cover bg-center rounded-lg",style:{backgroundImage:`url(${t.imageUrl})`}}),x.jsxs("div",{className:"p-4",children:[x.jsxs("h2",{className:"text-xl font-semibold mb-2",children:["-- ",t.name," --"]}),x.jsxs("p",{className:"text-gray-600 text-sm font-medium mb-4",children:[" ( ",t.description," )"]}),x.jsxs("p",{className:"text-md font-medium text-green-600",children:["-- ₦",t.price," --"]})]}),x.jsxs("div",{className:"flex w-full justify-between",children:[x.jsxs("a",{href:"tel:+2347058032078",className:" flex rounded-lg items-center  text-green-700 text-sm font-bold gap-3  border-slate-500  border-r   px-5 py-3",children:["Order Now ",x.jsx(iR,{className:"  text-slate-700"})]}),x.jsxs(Kt,{to:`/swap/${t.id}`,href:"tel:+2347058032078",className:" flex items-center text-sm font-bold gap-3 border bg-black rounded-lg text-slate-100 px-5 py-3",children:["Swap ",x.jsx(rs,{className:" text-green-700"})]})]})]}),AA="/assets/swap-5mAvo6_O.png",D8=()=>{const[t,e]=L.useState([]);return L.useEffect(()=>{(async()=>{const r=await Pf(Na(kn,"products"));e(r.docs.map(i=>({id:i.id,...i.data()})))})()},[]),x.jsxs("div",{className:" bg-gray-100 my-1 relative top-6",children:[x.jsx("header",{className:"text-center py-5 bg-black text-white",children:x.jsxs("h1",{className:"md:text-3xl font-medium px-10 text-md py-3 flex gap-2 items-center justify-center",children:["Classical Phone Store ",x.jsx(vd,{className:" text-green-600"})]})}),x.jsx("main",{className:"container mx-auto p-1 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(n=>x.jsx(N8,{phone:n},n.id))}),x.jsxs("footer",{children:[x.jsxs("div",{className:"swapdetails flex-wrap md:flex-nowrap justify-center flex gap-10 my-5 items-center",children:[x.jsxs("div",{className:"  rounded-md",children:[x.jsx("h3",{className:"text-3xl text-slate-600 mb-4 font-bold px-7",children:"Purchase with Ease"}),x.jsx("p",{className:"my-2  text-sm text-slate-800 px-7",children:"Whether you're looking to upgrade to a newer model, exchange your current phone for a different brand, or purchase a pre-owned device at a great price, we make the process simple and transparent."}),x.jsx("img",{src:AA,alt:""})]}),x.jsxs("div",{className:"w-full p-7 md:w-3/4",children:[x.jsx("h3",{className:"text-3xl font-semibold text-slate-700 mb-2",children:"Thinking of Swapping Your Phone?"}),x.jsx("p",{className:"text-gray-700 text-sm my-3",children:"Swapping your phone is a great way to upgrade to a new device without the hassle of selling your old one. Simply browse our selection of available phones, find one that matches your needs, and submit a swap request."}),x.jsxs("p",{className:"text-gray-700 mt-2 py-1 text-sm",children:[x.jsx("strong",{children:"How it works:"})," After you submit a swap request, our team will review it and get in touch with you for the next steps. Make sure to provide accurate details so we can match you with the perfect phone!",x.jsx("br",{}),x.jsx("small",{className:"font-bold text-slate-800",children:"Check phones available for swap"})]}),x.jsx("br",{}),x.jsxs(Kt,{to:"/swap",className:" flex p-3 rounded-md items-center gap-4 px-5 bg-green-800 justify-center text-white w-[200px]",children:["Get Started ",x.jsx(rs,{className:" text-slate-100"})]})]})]}),x.jsx("div",{className:"flex"})]})]})},L8=()=>x.jsxs("div",{children:[x.jsx(GC.section,{initial:{width:"0%"},animate:{width:"100%"},transition:{duration:2},style:{},className:"hero-section",children:x.jsx(O8,{})}),x.jsx(D8,{})]}),M8=()=>{const[t,e]=L.useState(""),[n,r]=L.useState(""),[i,s]=L.useState(""),[o,a]=L.useState(""),[l,c]=L.useState(""),[d,h]=L.useState(0),[f,y]=L.useState(!1);let T=["image/png","image/jpeg"];const S=so(),I=()=>{if(confirm("Are you sure this is the image to upload")){const _=Xj(n5,`images/${t.name}`),A=Gj(_,t);A.on("state_changed",M=>{let k=M.bytesTransferred/M.totalBytes*100;console.log(k)},M=>{r(M)},async()=>{const M=await Qj(A.snapshot.ref);console.log(M),c(M),M?y(!0):console.log("loading..."),ve.success("Product Image successfully uploaded to the database")})}else ve.success("Product Image not uploaded...")},w=_=>{if(_.preventDefault(),console.log("working",kn,o,i,d,l),o&&i&&d&&l){const A=Na(kn,"products");console.log(A),Db(A,{name:i,description:o,price:d,createdAt:Lb(),imageUrl:l}),ve.success("Product successfully added to the database"),s(""),h(0),a(""),c(""),S("/")}else ve.error("no field should be left out")},g=_=>{let A=_.target.files[0];A&&T.includes(A.type)?(e(A),ve.success("Product image successfuly selected"),r(""),console.log("Done...")):(e(null),r("Please selecte an image file (png or jpeg"),ve.error(n)),console.log(A)};return x.jsx("div",{className:"bg-black",children:x.jsxs("div",{className:"  w-full  md:w-3/4 relative z-10 px-10   mx-auto py-24",children:[x.jsxs("h2",{className:"text-center flex justify-center gap-2 items-center text-3xl text-slate-300",children:["Add New Product ",x.jsx(vd,{className:" text-green-700"})]}),x.jsxs("form",{onSubmit:_=>w(_),action:"#",className:"",children:[x.jsx("div",{className:" my-5",children:x.jsxs("div",{className:"name w-full md:full",children:[x.jsxs("label",{htmlFor:"name",className:"my-2  items-center flex gap-2 text-slate-200",children:["Product Name ",x.jsx(vd,{className:" text-green-700"})]}),x.jsx("input",{type:"text",name:"name",className:"border text-sm border-slate-500 outline-none px-5 py-5 rounded-lg w-full",placeholder:"product name",onChange:_=>s(_.target.value),value:i})]})}),x.jsx("div",{className:"w-full my-1",children:x.jsxs("div",{className:"description w-full md:w-full",children:[x.jsxs("label",{htmlFor:"name",className:"my-2  items-center flex gap-2 text-slate-200",children:["Product Description ",x.jsx(vd,{className:" text-green-700"})]}),x.jsx("input",{type:"text",name:"description",className:"border text-sm border-slate-500 outline-none px-5 py-5 rounded-lg w-full md:w-full",placeholder:"product description",onChange:_=>a(_.target.value),value:o})]})}),x.jsx("div",{className:"my-5",children:x.jsxs("div",{className:"price w-full md:w-full",children:[x.jsxs("label",{htmlFor:"price",className:"my-2 block text-slate-200",children:["Product Price ",x.jsx("span",{className:" text-green-700",children:"( ₦ )"})]}),x.jsx("input",{type:"number",name:"price",onChange:_=>h(_.target.value),value:d,className:"border text-sm border-slate-500 outline-none px-5 py-5 rounded-lg w-full",placeholder:"product price ( in Naira )"})]})}),x.jsxs("div",{className:"image w-full md:w-full flex md:my-5 flex-wrap md:flex-nowrap items-center gap-2 md:gap-10",children:[x.jsx("input",{type:"text",value:t.name,onChange:_=>g(_),placeholder:"product url",className:"border text-[13px] border-slate-500 text-slate-700 outline-none px-5 py-5 rounded-lg w-full",id:"image"}),x.jsx("input",{type:"file",name:"image",className:" py-5 file:bg-green-800 w-full cursor-pointer file:outline-none file:border-none file:px-5 file:rounded-lg text-white  file:py-2 file:text-sm file:text-white  inline-block mx-1",id:"file",onChange:_=>g(_)})]}),f?x.jsxs("button",{onClick:_=>w(_),className:" bg-green-800 active:bg-black active:p-4 active:transition-all 0.3s p-3 flex gap-2 items-center text-sm  mt-4 text-white rounded-full px-4",children:[x.jsx(_5,{}),"Add Product"]}):x.jsxs("button",{onClick:_=>I(),className:" bg-green-800 active:bg-black active:p-4 active:transition-all 0.3s p-3 flex gap-2 items-center text-sm  mt-4 text-white rounded-full px-4",children:[x.jsx(y5,{}),"Upload Product Image"]})]})]})})},V8=()=>x.jsx("div",{className:"add",children:x.jsx(M8,{})}),j8=()=>{const[t,e]=L.useState(""),n=r=>{r.preventDefault()};return x.jsxs("div",{className:" ",children:[x.jsx("div",{className:"contact text-slate-100",children:x.jsxs("section",{className:"  flex flex-col p-10 flex-wrap gap-2 h-[400px]  items-center justify-center font-bold",style:{backgroundColor:"rgba(00,0,0,0.9)"},children:[x.jsx("h2",{className:"title text-3xl text-center",children:"Contact Us"}),x.jsx("p",{className:" font-medium text-md text-center  p-5 ",children:"Reach out to us for today, we are there to help you transform your ideas into workable software services"})]})}),x.jsxs("div",{className:"flex md:flex-nowrap flex-wrap px-5 py-5 items-center mt-20 gap-5",children:[x.jsxs("section",{className:"px-5 ",children:[x.jsx("h1",{className:"email",children:"Email Us"}),x.jsx("h5",{className:"text-blue-400 text-sm ",children:x.jsxs("a",{href:"mailto:lightsinfo78@gmail.com",className:" bg-slate-50 w-[300px] p-6 rounded-lg  flex gap-1 items-center",children:["Email Us ",x.jsx(kg,{}),"  "]})}),x.jsx("h1",{className:"email mt-5",children:"Call Us"}),x.jsx("h5",{className:"text-blue-700 text-sm ",children:x.jsxs("a",{href:"mailto:lightsinfo78@gmail.com",className:"  bg-slate-50 w-[300px] p-6 rounded-lg  flex gap-1 items-center",children:["Call Us ",x.jsx(iR,{})," "]})}),x.jsx("h1",{className:"email mt-5",children:"Send Us Direct message (sms)"}),x.jsx("h5",{className:"text-blue-700 text-sm ",children:x.jsxs("a",{href:"sms:+2347058032078",className:"  bg-slate-50 w-[300px] p-6 rounded-lg  flex gap-1 items-center",children:["click Here",x.jsx(kg,{}),"  "]})})]}),x.jsx("section",{className:"message w-full md:w-3/4",children:x.jsxs("form",{action:"#",onSubmit:r=>n(r),children:[x.jsx("textarea",{name:"message",value:t,onChange:r=>e(r.target.value),id:"message",className:" border outline-none border-slate-50 text-sm rounded-md shadow-md w-full p-5",cols:"100",rows:"10",placeholder:"Leave a message for us"}),x.jsxs("button",{type:"submit",onClick:r=>n(r),className:" flex gap-2 items-center bg-black text-white px-5 rounded-md py-3 ",children:["Send ",x.jsx(v5,{})]})]})})]})]})},QT=()=>{const[t,e]=L.useState([]),[n,r]=L.useState(null);return L.useState({name:"",phoneModel:"",message:""}),L.useState(!1),L.useEffect(()=>{(async()=>{const s=await Pf(Na(kn,"products"));e(s.docs.map(o=>({id:o.id,...o.data()})))})()},[]),x.jsxs("div",{className:"container mx-auto p-5 relative top-10 my-5",children:[x.jsxs("h1",{className:"text-xl text-slate-700 flex justify-center gap-5 items-center py-2 font-bold text-center mb-5",children:["Classical Phone Swap",x.jsx(rs,{className:" text-green-900"})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:t.map(i=>x.jsxs("div",{className:`p-4 border border-slate-100 shadow-sm rounded-lg ${(n==null?void 0:n.id)===i.id?"border-blue-500":"border-gray-300"}`,onClick:()=>r(i),children:[x.jsx("div",{className:"h-48 bg-cover bg-center mb-4 rounded-lg",style:{backgroundImage:`url(${i.imageUrl})`}}),x.jsx("h2",{className:"text-xl font-semibold mb-2",children:i.name}),x.jsx("p",{className:"text-gray-600 mb-4",children:i.description}),x.jsxs("p",{className:"text-lg font-medium justify-between flex items-center text-green-600",children:["-- ₦ ",i.price," --",x.jsxs(Kt,{to:`/swap/${i.id}`,href:"tel:+2347058032078",className:" flex items-center text-sm font-bold gap-3 border bg-black rounded-lg text-slate-100 px-5 py-3",children:["Swap ",x.jsx(rs,{className:" text-green-500"})]})]})]},i.id))}),x.jsxs("div",{className:"swapdetails flex-wrap md:flex-nowrap justify-center flex gap-10 my-5 items-center",children:[x.jsx("div",{className:"  rounded-md",children:x.jsx("img",{src:AA,alt:""})}),x.jsxs("div",{className:"w-full p-5 md:w-3/4",children:[x.jsx("h3",{className:"text-3xl font-semibold text-slate-700 mb-2",children:"Thinking of Swapping Your Phone?"}),x.jsx("p",{className:"text-gray-700 text-sm",children:"Swapping your phone is a great way to upgrade to a new device without the hassle of selling your old one. Simply browse our selection of available phones, find one that matches your needs, and submit a swap request."}),x.jsxs("p",{className:"text-gray-700 mt-2 text-sm",children:[x.jsx("strong",{children:"How it works:"})," After you submit a swap request, our team will review it and get in touch with you for the next steps. Make sure to provide accurate details so we can match you with the perfect phone!",x.jsx("br",{}),x.jsx("small",{className:"font-bold text-slate-800",children:"Check phones available for swap"})]})]})]})]})},F8=()=>{const{id:t}=PF(),[e,n]=L.useState(null),[r,i]=L.useState(!0),[s,o]=L.useState(""),[a,l]=L.useState(""),c=so();console.log(nr.currentUser.email);const[d,h]=L.useState({name:"",email:nr.currentUser?nr.currentUser.email:"",number:"",phoneModel:"",description:"",contactPreference:"email",acceptTerms:!1,receipt:"",img:""}),f=I=>{const{name:w,value:g,type:_,checked:A}=I.target;h({...d,[w]:_==="checkbox"?A:g})};let y=["image/png","image/jpeg"];const T=I=>{let w=I.target.files[0];w&&y.includes(w.type)?(o(w),ve.success("image successfuly selected"),l(""),console.log("Done...")):(o(null),l("Please selecte an image file (png or jpeg"),ve.error(a)),console.log(w)},S=I=>{I.preventDefault(),console.log(d);const w=Na(kn,"userswap");Db(w,{...d,createdAt:Lb()}),ve.success("Product successfully added to the database"),setTimeout(()=>{ve.success("Phone is been processed and this takes 24hours. We will respond ones the process is complete ")},4e3),h({name:"",email:"",number:"",phoneModel:"",phoneCondition:"",description:"",contactPreference:"email",acceptTerms:!1,receipt:""}),c("/")};return console.log(t),L.useEffect(()=>{(async()=>{i(!0);try{const w=Qs(kn,"products",t),g=await Kv(w);if(g.exists()){const _=g.data();n(_)}else console.log("Phone not found")}catch(w){console.error("Error fetching phone:",w)}i(!1)})()},[t]),r?x.jsx("p",{children:"Loading..."}):e?x.jsxs("div",{className:"container mx-auto p-5 py-20 pb-3",children:[x.jsx("h2",{className:"text-xl font-bold text-green-800 mb-5",children:e.name}),x.jsxs("div",{className:"flex flex-col justify-center gap-10 md:flex-row ",children:[x.jsxs("div",{className:"w-full md:h-[450px] md:w-3/5 border bg-slate-50 bg-opacity-[0.6] border-slate-100  p-5 rounded-lg",children:[x.jsx("div",{className:"h-[200px] bg-cover  bg-center mb-4 rounded-lg",style:{backgroundImage:`url(${e.imageUrl})`}}),x.jsx("h2",{className:"text-2xl font-semibold mb-2",children:e.name}),x.jsx("p",{className:"font-medium text-sm mb-4 text-green-800",children:e.description}),x.jsxs("p",{className:"text-lg font-medium justify-between flex items-center text-green-900",children:["₦ ",e.price," ",x.jsxs("a",{href:"tel:+2347058032078",className:" flex items-center text-sm font-bold gap-3 border bg-slate-700 rounded-lg text-slate-100 px-5 py-3",children:["Buy ",x.jsx(w5,{className:" text-green-400"})]})]})]}),x.jsxs("div",{className:"forms w-full px-3 md:w-3/4 bg-slate-50 bg-opacity-[0.6] py-3",children:[x.jsxs("h2",{className:"text-2xl mb-1  font-bold text-green-800",children:["Ready to Swap? ",x.jsx("br",{}),x.jsx("p",{className:"text-sm mb-2 text-slate-700 mt-3 font-normal ",children:'The "swap" feature lets you trade your phones with others, offering a budget-friendly alternative to buying or selling.'})]}),x.jsx("p",{className:"text-green-800  my-5   font-bold text-[17px]",children:"Provide Your Phone Details"}),x.jsxs("form",{onSubmit:S,className:"space-y-4",children:[x.jsx("div",{children:x.jsx("input",{type:"text",name:"name",value:d.name,onChange:f,className:"border text-[13px] border-slate-500 text-slate-700 outline-none px-5 py-5 rounded-lg w-full",placeholder:"Enter your name",required:!0})}),x.jsx("div",{children:x.jsx("input",{type:"email",name:"email",value:d.email,onChange:f,className:"border text-[13px] border-slate-500 text-slate-700 outline-none px-5 py-5 rounded-lg w-full",placeholder:"Enter your email",required:!0})}),x.jsx("div",{children:x.jsx("input",{type:"number",name:"number",value:d.number,onChange:f,className:"border text-[13px] border-slate-500 text-slate-700 outline-none px-5 py-5 rounded-lg w-full",placeholder:"Enter your Phone numnber",required:!0})}),x.jsx("div",{children:x.jsxs("select",{name:"phoneModel",value:d.phoneModel,onChange:f,className:"border text-[13px] border-slate-500 text-slate-700 outline-none px-5 py-5 rounded-lg w-full",required:!0,children:[x.jsx("option",{value:"",children:"Select your phone model"}),x.jsx("option",{value:"iPhone 12",children:"iPhone 12"}),x.jsx("option",{value:"Samsung Galaxy S21",children:"Iphone 11"}),x.jsx("option",{value:"Iphone 10",children:"Iphone 10"}),x.jsx("option",{value:"Google Pixel 5",children:"Iphone XR"}),x.jsx("option",{value:"Iphone XX",children:"Iphone XX"}),x.jsx("option",{value:"Iphone X",children:"Iphone X"})]})}),x.jsx("div",{children:x.jsx("textarea",{name:"description",value:d.description,onChange:f,className:"border text-[13px] border-slate-500 text-slate-700 outline-none px-5 py-5 rounded-lg w-full",placeholder:"Describe your phone's condition and features",rows:"4",required:!0})}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-green-800 px-3 font-bold",children:"Contact Preference"}),x.jsxs("select",{name:"contactPreference",value:d.contactPreference,onChange:f,className:"border text-[13px] border-slate-500 text-slate-700 outline-none px-5 py-5 rounded-lg w-full",children:[x.jsx("option",{value:"email",children:"Email"}),x.jsx("option",{value:"phone",children:"Phone"})]})]}),x.jsxs("div",{className:"image w-full md:w-full flex md:my-5 flex-wrap md:flex-nowrap items-center gap-2 md:gap-10",children:[x.jsx("input",{type:"text",value:s.name,onChange:I=>T(I),placeholder:"upload phone image",className:"border text-[13px] border-slate-500 text-slate-700 outline-none px-5 py-5 rounded-lg w-full",id:"image"}),x.jsx("input",{type:"file",name:"image",className:" py-5 file:bg-green-800 w-full cursor-pointer file:outline-none file:border-none file:px-5 file:rounded-lg text-white  file:py-2 file:text-sm file:text-white  inline-block mx-1",id:"file",onChange:I=>T(I)})]}),x.jsx("div",{children:x.jsxs("label",{className:"flex items-center",children:[x.jsx("input",{type:"checkbox",name:"acceptTerms",checked:d.acceptTerms,onChange:f,className:"mr-2",required:!0}),"I accept the"," ",x.jsx("a",{href:"/terms-and-conditions",className:"text-blue-600 underline",children:"Terms and Conditions"})]})}),x.jsx("div",{children:x.jsx("button",{type:"submit",className:"w-full py-4 px-4 bg-green-800 text-white font-semibold rounded-md hover:bg-blue-700 transition",children:"Process Swap"})})]})]})]}),x.jsx("div",{className:"termsforms my-5 p-5 flex gap-10 flex-wrap md:flex-nowrap"})]}):x.jsx("p",{children:"Phone not found."})},U8=()=>{const[t,e]=L.useState(""),[n,r]=L.useState(""),[i,s]=L.useState(""),[o,a]=L.useState(""),l=so(),c=async d=>{d.preventDefault();let h,f;try{i===n?(console.log("Okay..."),f=await hL(nr,t,n),h=f.user,await j3(Qs(kn,"users",h.uid),{email:h.email,isAdmin:!1}),await pL(h),ve.success('"A verification email has been sent to your email address. Please verify before logging in."')):(console.log(),ve.error("Password does not match...")),l("/login"),console.log("Done...")}catch(y){console.log(y.message),y.message==="Firebase: Error (auth/email-already-in-use)."&&(a("Email Already in use"),ve(o))}};return x.jsx("div",{className:"flex items-center justify-center  py-20  bg-gray-100",children:x.jsxs("div",{className:"w-full max-w-md p-8 space-y-4 bg-black  shadow-lg ",children:[x.jsxs("h2",{className:"text-lg flex items-center text-slate-200 border-b border-green-700 py-3 gap-2 justify-center font-bold text-center",children:["Register for Phone Swap ",x.jsx(rs,{className:"text-green-700"})]}),x.jsxs("form",{onSubmit:c,className:"space-y-4",children:[x.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:d=>e(d.target.value),className:"border text-[13px] border-slate-500 text-slate-700 outline-none px-5 py-5 rounded-lg w-full"}),x.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:d=>r(d.target.value),className:"border text-[13px] border-slate-500 text-slate-700 outline-none px-5 py-5 rounded-lg w-full"}),x.jsx("input",{type:"password",placeholder:"Comfirm Password",value:i,onChange:d=>s(d.target.value),className:"border text-[13px] border-slate-500 text-slate-700 outline-none px-5 py-5 rounded-lg w-full"}),x.jsxs("button",{type:"submit",className:"w-full px-4 py-5 flex gap-2 justify-center items-center font-semibold text-white bg-green-600 rounded-lg hover:bg-indigo-700",children:["Register ",x.jsx(sR,{})]})]}),x.jsxs("p",{className:"text-center text-slate-50",children:["Already have an account?"," ",x.jsx(Kt,{to:"/login",className:"text-green-400",children:"Login"})]})]})})},B8=({children:t})=>{const[e,n]=L.useState(null);return L.useEffect(()=>{(async()=>{const i=nr.currentUser;if(i){const s=Qs(kn,"users",i.uid),o=await Kv(s);o.exists()?n(o.data().isAdmin):n(!1)}else n(!1)})()},[]),e===null?x.jsx("p",{children:"Loading..."}):e?t:x.jsx(MF,{to:"/not-authorized",replace:!0})},z8=()=>{const[t,e]=L.useState([]);L.useEffect(()=>{(async()=>{const s=D3(Na(kn,"userswap")),a=(await Pf(s)).docs.map(l=>({id:l.id,...l.data()}));e(a)})()},[]);const n=async i=>{try{const s=Qs(kn,"userswap",i);await z1(s,{status:"approved"}),alert("Swap request approved."),e(t.filter(o=>o.id!==i))}catch(s){console.error("Error approving swap request:",s)}},r=async i=>{try{const s=Qs(kn,"userswap",i);await z1(s,{status:"rejected"}),alert("Swap request rejected."),e(t.filter(o=>o.id!==i))}catch(s){console.error("Error rejecting swap request:",s)}};return x.jsxs("div",{className:"p-6 pt-24 bg-gray-100 min-h-screen",children:[x.jsx("h1",{className:"text-3xl font-bold text-center mb-8",children:"Admin - Phone Swap Requests"}),x.jsx("div",{className:"overflow-x-auto",children:x.jsxs("table",{className:"min-w-full bg-white",children:[x.jsx("thead",{children:x.jsxs("tr",{children:[x.jsx("th",{className:"py-2 px-4 border-b text-left",children:"User Name"}),x.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Phone Model"}),x.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Phone Number"}),x.jsx("th",{className:"py-2 px-4 border-b text-left",children:"Description"}),x.jsx("th",{className:"py-2 px-4 border-b text-left",children:"ImgUrl"}),x.jsx("th",{className:"py-2 px-4 border-b text-enter",children:"Action"})]})}),x.jsx("tbody",{children:t.map(i=>x.jsxs("tr",{children:[x.jsx("td",{className:"py-2 px-4 border-b",children:x.jsxs("div",{children:[" ",i.name]})}),x.jsx("td",{className:"py-2 px-4 border-b",children:x.jsx("div",{children:i.phoneModel})}),x.jsx("td",{className:"py-2 px-4 border-b",children:x.jsxs("div",{children:[" ",i.number]})}),x.jsx("td",{className:"py-2 px-4 border-b",children:x.jsx("div",{children:i.description})}),x.jsx("td",{className:"py-2 px-4 border-b",children:x.jsx("div",{children:i.description})}),x.jsxs("td",{className:"py-2 px-4 border-b text-center",children:[x.jsx("button",{onClick:()=>n(i.id),className:"bg-green-500 text-white px-4 py-2 rounded-md mr-2",children:"Approve"}),x.jsx("button",{onClick:()=>r(i.id),className:"bg-red-500 text-white px-4 py-2 rounded-md",children:"Reject"})]})]},i.id))})]})}),t.length===0&&x.jsx("p",{className:"text-center text-gray-500 mt-8",children:"No pending swap requests."})]})},$8=()=>x.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 text-center p-4",children:[x.jsx("h1",{className:"text-4xl font-bold text-red-500 mb-4",children:"Access Denied"}),x.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"You do not have permission to view this page."}),x.jsx(Kt,{to:"/",className:"px-6 py-4 bg-blue-500 text-white font-semibold rounded hover:bg-blue-600 transition duration-200",children:"Go Back to Home"})]}),H8=WF(Lg(x.jsx(Sn,{children:x.jsxs(Sn,{path:"/",element:x.jsx(Oz,{}),children:[x.jsx(Sn,{path:"/",index:!0,element:x.jsx(L8,{})}),x.jsx(Sn,{path:"/addproduct",element:x.jsx(V8,{})}),x.jsx(Sn,{path:"/contact",element:x.jsx(j8,{})}),x.jsx(Sn,{path:"/swap/:id",element:x.jsx(F8,{})}),x.jsx(Sn,{path:"/swap",element:x.jsx(QT,{})}),x.jsx(Sn,{path:"/login",element:x.jsx(kz,{})}),x.jsx(Sn,{path:"/not-authorized",element:x.jsx($8,{})}),x.jsx(Sn,{path:"/admin",element:x.jsx(B8,{children:x.jsx(z8,{})})}),x.jsx(Sn,{path:"/register",element:x.jsx(U8,{})}),x.jsx(Sn,{path:"/product/:id",element:x.jsx(QT,{})})]})})));cm.createRoot(document.getElementById("root")).render(x.jsx(be.StrictMode,{children:x.jsx(e6,{router:H8})}));
